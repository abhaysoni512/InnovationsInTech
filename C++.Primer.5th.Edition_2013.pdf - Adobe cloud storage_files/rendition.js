/*! For license information please see rendition.js.LICENSE.txt */
(()=>{var s,d,_={sR8A:s=>{s.exports=function(s){function t(d){for(var y,S,T=d[0],M=d[1],O=0,q=[];O<T.length;O++)S=T[O],Object.prototype.hasOwnProperty.call(_,S)&&_[S]&&q.push(_[S][0]),_[S]=0;for(y in M)Object.prototype.hasOwnProperty.call(M,y)&&(s[y]=M[y]);for(E&&E(d);q.length;)q.shift()()}var d={},_={main:0};function i(_){if(d[_])return d[_].exports;var y=d[_]={i:_,l:!1,exports:{}};return s[_].call(y.exports,y,y.exports,i),y.l=!0,y.exports}i.e=function(s){var d=[],y=_[s];if(0!==y)if(y)d.push(y[2]);else{var S=new Promise((function(d,S){y=_[s]=[d,S]}));d.push(y[2]=S);var T,E=document.createElement("script");E.charset="utf-8",E.timeout=120,i.nc&&E.setAttribute("nonce",i.nc),E.src=function(s){return i.p+""+({"vendors~X509CRL~X509Certificate":"vendors~X509CRL~X509Certificate","X509CRL~X509Certificate":"X509CRL~X509Certificate",X509CRL:"X509CRL",X509Certificate:"X509Certificate"}[s]||s)+"."+{"vendors~X509CRL~X509Certificate":"c3b550c0e4c6ee57ac50","X509CRL~X509Certificate":"5a7418bbf4cf2a336048",X509CRL:"7661f23d95e866570646",X509Certificate:"6e00b76af21771bf6dbd"}[s]+".js"}(s);var M=new Error;T=function(d){E.onerror=E.onload=null,clearTimeout(O);var y=_[s];if(0!==y){if(y){var S=d&&("load"===d.type?"missing":d.type),T=d&&d.target&&d.target.src;M.message="Loading chunk "+s+" failed.\n("+S+": "+T+")",M.name="ChunkLoadError",M.type=S,M.request=T,y[1](M)}_[s]=void 0}};var O=setTimeout((function(){T({type:"timeout",target:E})}),12e4);E.onerror=E.onload=T,document.head.appendChild(E)}return Promise.all(d)},i.m=s,i.c=d,i.d=function(s,d,_){i.o(s,d)||Object.defineProperty(s,d,{enumerable:!0,get:_})},i.r=function(s){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,d){if(1&d&&(s=i(s)),8&d)return s;if(4&d&&"object"==typeof s&&s&&s.__esModule)return s;var _=Object.create(null);if(i.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:s}),2&d&&"string"!=typeof s)for(var y in s)i.d(_,y,function(d){return s[d]}.bind(null,y));return _},i.n=function(s){var d=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(d,"a",d),d},i.o=function(s,d){return Object.prototype.hasOwnProperty.call(s,d)},i.p="",i.oe=function(s){throw console.error(s),s};var y=window.webpackJsonp=window.webpackJsonp||[],S=y.push.bind(y);y.push=t,y=y.slice();for(var T=0;T<y.length;T++)t(y[T]);var E=S;return i(i.s=137)}([function(s,d,_){(function(d){var r=function(s){return s&&s.Math==Math&&s};s.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof d&&d)||function(){return this}()||Function("return this")()}).call(this,_(85))},function(s,d){s.exports=function(s){try{return!!s()}catch(s){return!0}}},function(s,d,_){var y=_(0),S=_(60),T=_(4),E=_(46),M=_(65),O=_(96),q=S("wks"),ee=y.Symbol,te=O?ee:ee&&ee.withoutSetter||E;s.exports=function(s){return T(q,s)&&(M||"string"==typeof q[s])||(M&&T(ee,s)?q[s]=ee[s]:q[s]=te("Symbol."+s)),q[s]}},function(s,d,_){var y=_(8);s.exports=function(s){if(!y(s))throw TypeError(String(s)+" is not an object");return s}},function(s,d){var _={}.hasOwnProperty;s.exports=function(s,d){return _.call(s,d)}},function(s,d,_){var y=_(0),S=_(41).f,T=_(10),E=_(13),M=_(43),O=_(61),q=_(90);s.exports=function(s,d){var _,ee,te,re,ne,ie=s.target,se=s.global,ae=s.stat;if(_=se?y:ae?y[ie]||M(ie,{}):(y[ie]||{}).prototype)for(ee in d){if(re=d[ee],te=s.noTargetGet?(ne=S(_,ee))&&ne.value:_[ee],!q(se?ee:ie+(ae?".":"#")+ee,s.forced)&&void 0!==te){if(typeof re==typeof te)continue;O(re,te)}(s.sham||te&&te.sham)&&T(re,"sham",!0),E(_,ee,re,s)}}},function(s,d,_){var y=_(0),S=_(91),T=_(64),E=_(10),M=_(2),O=M("iterator"),q=M("toStringTag"),ee=T.values;for(var te in S){var re=y[te],ne=re&&re.prototype;if(ne){if(ne[O]!==ee)try{E(ne,O,ee)}catch(s){ne[O]=ee}if(ne[q]||E(ne,q,te),S[te])for(var ie in T)if(ne[ie]!==T[ie])try{E(ne,ie,T[ie])}catch(s){ne[ie]=T[ie]}}}},function(s,d,_){var y=_(1);s.exports=!y((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(s,d){s.exports=function(s){return"object"==typeof s?null!==s:"function"==typeof s}},function(s,d,_){var y=_(15),S=Math.min;s.exports=function(s){return s>0?S(y(s),9007199254740991):0}},function(s,d,_){var y=_(7),S=_(11),T=_(17);s.exports=y?function(s,d,_){return S.f(s,d,T(1,_))}:function(s,d,_){return s[d]=_,s}},function(s,d,_){var y=_(7),S=_(57),T=_(3),E=_(31),M=Object.defineProperty;d.f=y?M:function(s,d,_){if(T(s),d=E(d,!0),T(_),S)try{return M(s,d,_)}catch(s){}if("get"in _||"set"in _)throw TypeError("Accessors not supported");return"value"in _&&(s[d]=_.value),s}},function(s,d,_){var y=_(30);s.exports=function(s){return Object(y(s))}},function(s,d,_){var y=_(0),S=_(10),T=_(4),E=_(43),M=_(59),O=_(14),q=O.get,ee=O.enforce,te=String(String).split("String");(s.exports=function(s,d,_,M){var O,q=!!M&&!!M.unsafe,re=!!M&&!!M.enumerable,ne=!!M&&!!M.noTargetGet;"function"==typeof _&&("string"!=typeof d||T(_,"name")||S(_,"name",d),(O=ee(_)).source||(O.source=te.join("string"==typeof d?d:""))),s!==y?(q?!ne&&s[d]&&(re=!0):delete s[d],re?s[d]=_:S(s,d,_)):re?s[d]=_:E(d,_)})(Function.prototype,"toString",(function(){return"function"==typeof this&&q(this).source||M(this)}))},function(s,d,_){var y,S,T,E=_(86),M=_(0),O=_(8),q=_(10),ee=_(4),te=_(44),re=_(45),ne=_(47),ie=M.WeakMap;if(E){var se=te.state||(te.state=new ie),ae=se.get,oe=se.has,ce=se.set;y=function(s,d){return d.facade=s,ce.call(se,s,d),d},S=function(s){return ae.call(se,s)||{}},T=function(s){return oe.call(se,s)}}else{var le=re("state");ne[le]=!0,y=function(s,d){return d.facade=s,q(s,le,d),d},S=function(s){return ee(s,le)?s[le]:{}},T=function(s){return ee(s,le)}}s.exports={set:y,get:S,has:T,enforce:function(s){return T(s)?S(s):y(s,{})},getterFor:function(s){return function(d){var _;if(!O(d)||(_=S(d)).type!==s)throw TypeError("Incompatible receiver, "+s+" required");return _}}}},function(s,d){var _=Math.ceil,y=Math.floor;s.exports=function(s){return isNaN(s=+s)?0:(s>0?y:_)(s)}},function(s,d,_){"use strict";var y=_(5),S=_(7),T=_(0),E=_(4),M=_(8),O=_(11).f,q=_(61),ee=T.Symbol;if(S&&"function"==typeof ee&&(!("description"in ee.prototype)||void 0!==ee().description)){var te={},f=function(){var s=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),d=this instanceof f?new ee(s):void 0===s?ee():ee(s);return""===s&&(te[d]=!0),d};q(f,ee);var re=f.prototype=ee.prototype;re.constructor=f;var ne=re.toString,ie="Symbol(test)"==String(ee("test")),se=/^Symbol\((.*)\)[^)]+$/;O(re,"description",{configurable:!0,get:function(){var s=M(this)?this.valueOf():this,d=ne.call(s);if(E(te,s))return"";var _=ie?d.slice(7,-1):d.replace(se,"$1");return""===_?void 0:_}}),y({global:!0,forced:!0},{Symbol:f})}},function(s,d){s.exports=function(s,d){return{enumerable:!(1&s),configurable:!(2&s),writable:!(4&s),value:d}}},function(s,d,_){var y=_(88),S=_(0),o=function(s){return"function"==typeof s?s:void 0};s.exports=function(s,d){return arguments.length<2?o(y[s])||o(S[s]):y[s]&&y[s][d]||S[s]&&S[s][d]}},function(s,d,_){"use strict";var y,S=_(74),T=_(7),E=_(0),M=_(8),O=_(4),q=_(37),ee=_(10),te=_(13),re=_(11).f,ne=_(33),ie=_(24),se=_(2),ae=_(46),oe=E.Int8Array,ce=oe&&oe.prototype,le=E.Uint8ClampedArray,ue=le&&le.prototype,de=oe&&ne(oe),he=ce&&ne(ce),pe=Object.prototype,fe=pe.isPrototypeOf,ge=se("toStringTag"),me=ae("TYPED_ARRAY_TAG"),ve=S&&!!ie&&"Opera"!==q(E.opera),we=!1,be={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},ye={BigInt64Array:8,BigUint64Array:8},L=function(s){if(!M(s))return!1;var d=q(s);return O(be,d)||O(ye,d)};for(y in be)E[y]||(ve=!1);if((!ve||"function"!=typeof de||de===Function.prototype)&&(de=function(){throw TypeError("Incorrect invocation")},ve))for(y in be)E[y]&&ie(E[y],de);if((!ve||!he||he===pe)&&(he=de.prototype,ve))for(y in be)E[y]&&ie(E[y].prototype,he);if(ve&&ne(ue)!==he&&ie(ue,he),T&&!O(he,ge))for(y in we=!0,re(he,ge,{get:function(){return M(this)?this[me]:void 0}}),be)E[y]&&ee(E[y],me,y);s.exports={NATIVE_ARRAY_BUFFER_VIEWS:ve,TYPED_ARRAY_TAG:we&&me,aTypedArray:function(s){if(L(s))return s;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(s){if(ie){if(fe.call(de,s))return s}else for(var d in be)if(O(be,y)){var _=E[d];if(_&&(s===_||fe.call(_,s)))return s}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(s,d,_){if(T){if(_)for(var y in be){var S=E[y];S&&O(S.prototype,s)&&delete S.prototype[s]}he[s]&&!_||te(he,s,_?d:ve&&ce[s]||d)}},exportTypedArrayStaticMethod:function(s,d,_){var y,S;if(T){if(ie){if(_)for(y in be)(S=E[y])&&O(S,s)&&delete S[s];if(de[s]&&!_)return;try{return te(de,s,_?d:ve&&oe[s]||d)}catch(s){}}for(y in be)!(S=E[y])||S[s]&&!_||te(S,s,d)}},isView:function(s){if(!M(s))return!1;var d=q(s);return"DataView"===d||O(be,d)||O(ye,d)},isTypedArray:L,TypedArray:de,TypedArrayPrototype:he}},function(s,d){var _={}.toString;s.exports=function(s){return _.call(s).slice(8,-1)}},function(s,d){s.exports=!1},function(s,d){s.exports={}},function(s,d,_){var y=_(11).f,S=_(4),T=_(2)("toStringTag");s.exports=function(s,d,_){s&&!S(s=_?s:s.prototype,T)&&y(s,T,{configurable:!0,value:d})}},function(s,d,_){var y=_(3),S=_(99);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,d=!1,_={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(_,[]),d=_ instanceof Array}catch(s){}return function(_,T){return y(_),S(T),d?s.call(_,T):_.__proto__=T,_}}():void 0)},function(s,d){s.exports=function(s){if("function"!=typeof s)throw TypeError(String(s)+" is not a function");return s}},function(s,d,_){var y=_(37),S=_(22),T=_(2)("iterator");s.exports=function(s){if(null!=s)return s[T]||s["@@iterator"]||S[y(s)]}},function(s,d,_){var y=_(25);s.exports=function(s,d,_){if(y(s),void 0===d)return s;switch(_){case 0:return function(){return s.call(d)};case 1:return function(_){return s.call(d,_)};case 2:return function(_,y){return s.call(d,_,y)};case 3:return function(_,y,S){return s.call(d,_,y,S)}}return function(){return s.apply(d,arguments)}}},function(s,d,_){"use strict";var y=_(5),S=_(53);y({target:"RegExp",proto:!0,forced:/./.exec!==S},{exec:S})},function(s,d,_){var y=_(42),S=_(30);s.exports=function(s){return y(S(s))}},function(s,d){s.exports=function(s){if(null==s)throw TypeError("Can't call method on "+s);return s}},function(s,d,_){var y=_(8);s.exports=function(s,d){if(!y(s))return s;var _,S;if(d&&"function"==typeof(_=s.toString)&&!y(S=_.call(s)))return S;if("function"==typeof(_=s.valueOf)&&!y(S=_.call(s)))return S;if(!d&&"function"==typeof(_=s.toString)&&!y(S=_.call(s)))return S;throw TypeError("Can't convert object to primitive value")}},function(s,d,_){var y,S=_(3),T=_(66),E=_(50),M=_(47),O=_(97),q=_(58),ee=_(45)("IE_PROTO"),f=function(){},h=function(s){return"<script>"+s+"<\/script>"},p=function(){try{y=document.domain&&new ActiveXObject("htmlfile")}catch(s){}var s,d;p=y?function(s){s.write(h("")),s.close();var d=s.parentWindow.Object;return s=null,d}(y):((d=q("iframe")).style.display="none",O.appendChild(d),d.src=String("javascript:"),(s=d.contentWindow.document).open(),s.write(h("document.F=Object")),s.close(),s.F);for(var _=E.length;_--;)delete p.prototype[E[_]];return p()};M[ee]=!0,s.exports=Object.create||function(s,d){var _;return null!==s?(f.prototype=S(s),_=new f,f.prototype=null,_[ee]=s):_=p(),void 0===d?_:T(_,d)}},function(s,d,_){var y=_(4),S=_(12),T=_(45),E=_(98),M=T("IE_PROTO"),O=Object.prototype;s.exports=E?Object.getPrototypeOf:function(s){return s=S(s),y(s,M)?s[M]:"function"==typeof s.constructor&&s instanceof s.constructor?s.constructor.prototype:s instanceof Object?O:null}},function(s,d){s.exports=function(s,d,_){if(!(s instanceof d))throw TypeError("Incorrect "+(_?_+" ":"")+"invocation");return s}},function(s,d,_){"use strict";var y=_(5),S=_(1),T=_(51),E=_(3),M=_(49),O=_(9),q=_(72),ee=T.ArrayBuffer,te=T.DataView,re=ee.prototype.slice;y({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:S((function(){return!new ee(2).slice(1,void 0).byteLength}))},{slice:function(s,d){if(void 0!==re&&void 0===d)return re.call(E(this),s);for(var _=E(this).byteLength,y=M(s,_),S=M(void 0===d?_:d,_),T=new(q(this,ee))(O(S-y)),ne=new te(this),ie=new te(T),se=0;y<S;)ie.setUint8(se++,ne.getUint8(y++));return T}})},function(s,d,_){"use strict";var y=_(5),S=_(0),T=_(7),E=_(105),M=_(19),O=_(51),q=_(34),ee=_(17),te=_(10),re=_(9),ne=_(76),ie=_(79),se=_(31),ae=_(4),oe=_(37),ce=_(8),le=_(32),ue=_(24),de=_(48).f,he=_(109),pe=_(110).forEach,fe=_(78),ge=_(11),me=_(41),ve=_(14),we=_(113),be=ve.get,ye=ve.set,ke=ge.f,Ie=me.f,Ne=Math.round,We=S.RangeError,Ue=O.ArrayBuffer,Be=O.DataView,qe=M.NATIVE_ARRAY_BUFFER_VIEWS,ze=M.TYPED_ARRAY_TAG,He=M.TypedArray,Ge=M.TypedArrayPrototype,Je=M.aTypedArrayConstructor,Ve=M.isTypedArray,z=function(s,d){for(var _=0,y=d.length,S=new(Je(s))(y);y>_;)S[_]=d[_++];return S},H=function(s,d){ke(s,d,{get:function(){return be(this)[d]}})},V=function(s){var d;return s instanceof Ue||"ArrayBuffer"==(d=oe(s))||"SharedArrayBuffer"==d},G=function(s,d){return Ve(s)&&"symbol"!=typeof d&&d in s&&String(+d)==String(d)},X=function(s,d){return G(s,d=se(d,!0))?ee(2,s[d]):Ie(s,d)},K=function(s,d,_){return!(G(s,d=se(d,!0))&&ce(_)&&ae(_,"value"))||ae(_,"get")||ae(_,"set")||_.configurable||ae(_,"writable")&&!_.writable||ae(_,"enumerable")&&!_.enumerable?ke(s,d,_):(s[d]=_.value,s)};T?(qe||(me.f=X,ge.f=K,H(Ge,"buffer"),H(Ge,"byteOffset"),H(Ge,"byteLength"),H(Ge,"length")),y({target:"Object",stat:!0,forced:!qe},{getOwnPropertyDescriptor:X,defineProperty:K}),s.exports=function(s,d,_){var T=s.match(/\d+$/)[0]/8,M=s+(_?"Clamped":"")+"Array",O="get"+s,ee="set"+s,se=S[M],ae=se,oe=ae&&ae.prototype,ge={},A=function(s,d){ke(s,d,{get:function(){return function(s,d){var _=be(s);return _.view[O](d*T+_.byteOffset,!0)}(this,d)},set:function(s){return function(s,d,y){var S=be(s);_&&(y=(y=Ne(y))<0?0:y>255?255:255&y),S.view[ee](d*T+S.byteOffset,y,!0)}(this,d,s)},enumerable:!0})};qe?E&&(ae=d((function(s,d,_,y){return q(s,ae,M),we(ce(d)?V(d)?void 0!==y?new se(d,ie(_,T),y):void 0!==_?new se(d,ie(_,T)):new se(d):Ve(d)?z(ae,d):he.call(ae,d):new se(ne(d)),s,ae)})),ue&&ue(ae,He),pe(de(se),(function(s){s in ae||te(ae,s,se[s])})),ae.prototype=oe):(ae=d((function(s,d,_,y){q(s,ae,M);var S,E,O,ee=0,te=0;if(ce(d)){if(!V(d))return Ve(d)?z(ae,d):he.call(ae,d);S=d,te=ie(_,T);var se=d.byteLength;if(void 0===y){if(se%T)throw We("Wrong length");if((E=se-te)<0)throw We("Wrong length")}else if((E=re(y)*T)+te>se)throw We("Wrong length");O=E/T}else O=ne(d),S=new Ue(E=O*T);for(ye(s,{buffer:S,byteOffset:te,byteLength:E,length:O,view:new Be(S)});ee<O;)A(s,ee++)})),ue&&ue(ae,He),oe=ae.prototype=le(Ge)),oe.constructor!==ae&&te(oe,"constructor",ae),ze&&te(oe,ze,M),ge[M]=ae,y({global:!0,forced:ae!=se,sham:!qe},ge),"BYTES_PER_ELEMENT"in ae||te(ae,"BYTES_PER_ELEMENT",T),"BYTES_PER_ELEMENT"in oe||te(oe,"BYTES_PER_ELEMENT",T),fe(M)}):s.exports=function(){}},function(s,d,_){var y=_(107),S=_(20),T=_(2)("toStringTag"),E="Arguments"==S(function(){return arguments}());s.exports=y?S:function(s){var d,_,y;return void 0===s?"Undefined":null===s?"Null":"string"==typeof(_=function(s,d){try{return s[d]}catch(s){}}(d=Object(s),T))?_:E?S(d):"Object"==(y=S(d))&&"function"==typeof d.callee?"Arguments":y}},function(s,d,_){"use strict";var y=_(19),S=_(77),T=y.aTypedArray;(0,y.exportTypedArrayMethod)("fill",(function(s){return S.apply(T(this),arguments)}))},function(s,d,_){"use strict";var y=_(19),S=_(9),T=_(79),E=_(12),M=_(1),O=y.aTypedArray;(0,y.exportTypedArrayMethod)("set",(function(s){O(this);var d=T(arguments.length>1?arguments[1]:void 0,1),_=this.length,y=E(s),M=S(y.length),q=0;if(M+d>_)throw RangeError("Wrong length");for(;q<M;)this[d+q]=y[q++]}),M((function(){new Int8Array(1).set({})})))},function(s,d,_){"use strict";var y=_(19),S=y.aTypedArray,T=y.exportTypedArrayMethod,E=[].sort;T("sort",(function(s){return E.call(S(this),s)}))},function(s,d,_){var y=_(7),S=_(56),T=_(17),E=_(29),M=_(31),O=_(4),q=_(57),ee=Object.getOwnPropertyDescriptor;d.f=y?ee:function(s,d){if(s=E(s),d=M(d,!0),q)try{return ee(s,d)}catch(s){}if(O(s,d))return T(!S.f.call(s,d),s[d])}},function(s,d,_){var y=_(1),S=_(20),T="".split;s.exports=y((function(){return!Object("z").propertyIsEnumerable(0)}))?function(s){return"String"==S(s)?T.call(s,""):Object(s)}:Object},function(s,d,_){var y=_(0),S=_(10);s.exports=function(s,d){try{S(y,s,d)}catch(_){y[s]=d}return d}},function(s,d,_){var y=_(0),S=_(43),T=y["__core-js_shared__"]||S("__core-js_shared__",{});s.exports=T},function(s,d,_){var y=_(60),S=_(46),T=y("keys");s.exports=function(s){return T[s]||(T[s]=S(s))}},function(s,d){var _=0,y=Math.random();s.exports=function(s){return"Symbol("+String(void 0===s?"":s)+")_"+(++_+y).toString(36)}},function(s,d){s.exports={}},function(s,d,_){var y=_(62),S=_(50).concat("length","prototype");d.f=Object.getOwnPropertyNames||function(s){return y(s,S)}},function(s,d,_){var y=_(15),S=Math.max,T=Math.min;s.exports=function(s,d){var _=y(s);return _<0?S(_+d,0):T(_,d)}},function(s,d){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,d,_){"use strict";var y=_(0),S=_(7),T=_(74),E=_(10),M=_(75),O=_(1),q=_(34),ee=_(15),te=_(9),re=_(76),ne=_(103),ie=_(33),se=_(24),ae=_(48).f,oe=_(11).f,ce=_(77),le=_(23),ue=_(14),de=ue.get,he=ue.set,pe=y.ArrayBuffer,fe=pe,ge=y.DataView,me=ge&&ge.prototype,ve=Object.prototype,we=y.RangeError,be=ne.pack,ye=ne.unpack,L=function(s){return[255&s]},j=function(s){return[255&s,s>>8&255]},C=function(s){return[255&s,s>>8&255,s>>16&255,s>>24&255]},R=function(s){return s[3]<<24|s[2]<<16|s[1]<<8|s[0]},x=function(s){return be(s,23,4)},F=function(s){return be(s,52,8)},W=function(s,d){oe(s.prototype,d,{get:function(){return de(this)[d]}})},I=function(s,d,_,y){var S=re(_),T=de(s);if(S+d>T.byteLength)throw we("Wrong index");var E=de(T.buffer).bytes,M=S+T.byteOffset,O=E.slice(M,M+d);return y?O:O.reverse()},N=function(s,d,_,y,S,T){var E=re(_),M=de(s);if(E+d>M.byteLength)throw we("Wrong index");for(var O=de(M.buffer).bytes,q=E+M.byteOffset,ee=y(+S),te=0;te<d;te++)O[q+te]=ee[T?te:d-te-1]};if(T){if(!O((function(){pe(1)}))||!O((function(){new pe(-1)}))||O((function(){return new pe,new pe(1.5),new pe(NaN),"ArrayBuffer"!=pe.name}))){for(var ke,Ie=(fe=function(s){return q(this,fe),new pe(re(s))}).prototype=pe.prototype,Ne=ae(pe),We=0;Ne.length>We;)(ke=Ne[We++])in fe||E(fe,ke,pe[ke]);Ie.constructor=fe}se&&ie(me)!==ve&&se(me,ve);var Ue=new ge(new fe(2)),Be=me.setInt8;Ue.setInt8(0,2147483648),Ue.setInt8(1,2147483649),!Ue.getInt8(0)&&Ue.getInt8(1)||M(me,{setInt8:function(s,d){Be.call(this,s,d<<24>>24)},setUint8:function(s,d){Be.call(this,s,d<<24>>24)}},{unsafe:!0})}else fe=function(s){q(this,fe,"ArrayBuffer");var d=re(s);he(this,{bytes:ce.call(new Array(d),0),byteLength:d}),S||(this.byteLength=d)},ge=function(s,d,_){q(this,ge,"DataView"),q(s,fe,"DataView");var y=de(s).byteLength,T=ee(d);if(T<0||T>y)throw we("Wrong offset");if(T+(_=void 0===_?y-T:te(_))>y)throw we("Wrong length");he(this,{buffer:s,byteLength:_,byteOffset:T}),S||(this.buffer=s,this.byteLength=_,this.byteOffset=T)},S&&(W(fe,"byteLength"),W(ge,"buffer"),W(ge,"byteLength"),W(ge,"byteOffset")),M(ge.prototype,{getInt8:function(s){return I(this,1,s)[0]<<24>>24},getUint8:function(s){return I(this,1,s)[0]},getInt16:function(s){var d=I(this,2,s,arguments.length>1?arguments[1]:void 0);return(d[1]<<8|d[0])<<16>>16},getUint16:function(s){var d=I(this,2,s,arguments.length>1?arguments[1]:void 0);return d[1]<<8|d[0]},getInt32:function(s){return R(I(this,4,s,arguments.length>1?arguments[1]:void 0))},getUint32:function(s){return R(I(this,4,s,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(s){return ye(I(this,4,s,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(s){return ye(I(this,8,s,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(s,d){N(this,1,s,L,d)},setUint8:function(s,d){N(this,1,s,L,d)},setInt16:function(s,d){N(this,2,s,j,d,arguments.length>2?arguments[2]:void 0)},setUint16:function(s,d){N(this,2,s,j,d,arguments.length>2?arguments[2]:void 0)},setInt32:function(s,d){N(this,4,s,C,d,arguments.length>2?arguments[2]:void 0)},setUint32:function(s,d){N(this,4,s,C,d,arguments.length>2?arguments[2]:void 0)},setFloat32:function(s,d){N(this,4,s,x,d,arguments.length>2?arguments[2]:void 0)},setFloat64:function(s,d){N(this,8,s,F,d,arguments.length>2?arguments[2]:void 0)}});le(fe,"ArrayBuffer"),le(ge,"DataView"),s.exports={ArrayBuffer:fe,DataView:ge}},function(s,d,_){var y=_(2),S=_(22),T=y("iterator"),E=Array.prototype;s.exports=function(s){return void 0!==s&&(S.Array===s||E[T]===s)}},function(s,d,_){"use strict";var y,S,T=_(117),E=_(118),M=RegExp.prototype.exec,O=String.prototype.replace,q=M,ee=(y=/a/,S=/b*/g,M.call(y,"a"),M.call(S,"a"),0!==y.lastIndex||0!==S.lastIndex),te=E.UNSUPPORTED_Y||E.BROKEN_CARET,re=void 0!==/()??/.exec("")[1];(ee||re||te)&&(q=function(s){var d,_,y,S,E=this,q=te&&E.sticky,ne=T.call(E),ie=E.source,se=0,ae=s;return q&&(-1===(ne=ne.replace("y","")).indexOf("g")&&(ne+="g"),ae=String(s).slice(E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==s[E.lastIndex-1])&&(ie="(?: "+ie+")",ae=" "+ae,se++),_=new RegExp("^(?:"+ie+")",ne)),re&&(_=new RegExp("^"+ie+"$(?!\\s)",ne)),ee&&(d=E.lastIndex),y=M.call(q?_:E,ae),q?y?(y.input=y.input.slice(se),y[0]=y[0].slice(se),y.index=E.lastIndex,E.lastIndex+=y[0].length):E.lastIndex=0:ee&&y&&(E.lastIndex=E.global?y.index+y[0].length:d),re&&y&&y.length>1&&O.call(y[0],_,(function(){for(S=1;S<arguments.length-2;S++)void 0===arguments[S]&&(y[S]=void 0)})),y}),s.exports=q},function(s,d,_){var y=_(15),S=_(30),o=function(s){return function(d,_){var T,E,M=String(S(d)),O=y(_),q=M.length;return O<0||O>=q?s?"":void 0:(T=M.charCodeAt(O))<55296||T>56319||O+1===q||(E=M.charCodeAt(O+1))<56320||E>57343?s?M.charAt(O):T:s?M.slice(O,O+2):E-56320+(T-55296<<10)+65536}};s.exports={codeAt:o(!1),charAt:o(!0)}},function(s,d,_){var y;!function(S,T){"use strict";var E="model",M="name",O="type",q="vendor",ee="version",te="mobile",re="tablet",ne="smarttv",p=function(s){for(var d={},_=0;_<s.length;_++)d[s[_].toUpperCase()]=s[_];return d},g=function(s,d){return"string"==typeof s&&-1!==m(d).indexOf(m(s))},m=function(s){return s.toLowerCase()},v=function(s,d){if("string"==typeof s)return s=s.replace(/^\s\s*/,""),void 0===d?s:s.substring(0,350)},b=function(s,d){for(var _,y,S,T,E,M,O=0;O<d.length&&!E;){var q=d[O],ee=d[O+1];for(_=y=0;_<q.length&&!E;)if(E=q[_++].exec(s))for(S=0;S<ee.length;S++)M=E[++y],"object"==typeof(T=ee[S])&&T.length>0?2===T.length?"function"==typeof T[1]?this[T[0]]=T[1].call(this,M):this[T[0]]=T[1]:3===T.length?"function"!=typeof T[1]||T[1].exec&&T[1].test?this[T[0]]=M?M.replace(T[1],T[2]):void 0:this[T[0]]=M?T[1].call(this,M,T[2]):void 0:4===T.length&&(this[T[0]]=M?T[3].call(this,M.replace(T[1],T[2])):void 0):this[T]=M||void 0;O+=2}},w=function(s,d){for(var _ in d)if("object"==typeof d[_]&&d[_].length>0){for(var y=0;y<d[_].length;y++)if(g(d[_][y],s))return"?"===_?void 0:_}else if(g(d[_],s))return"?"===_?void 0:_;return s},ie={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},se={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[ee,[M,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[ee,[M,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[M,ee],[/opios[\/ ]+([\w\.]+)/i],[ee,[M,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[ee,[M,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[M,ee],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[ee,[M,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[ee,[M,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[ee,[M,"WeChat"]],[/konqueror\/([\w\.]+)/i],[ee,[M,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[ee,[M,"IE"]],[/yabrowser\/([\w\.]+)/i],[ee,[M,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[M,/(.+)/,"$1 Secure Browser"],ee],[/\bfocus\/([\w\.]+)/i],[ee,[M,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[ee,[M,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[ee,[M,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[ee,[M,"Dolphin"]],[/coast\/([\w\.]+)/i],[ee,[M,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[ee,[M,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[ee,[M,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[M,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[M,/(.+)/,"$1 Browser"],ee],[/(comodo_dragon)\/([\w\.]+)/i],[[M,/_/g," "],ee],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[M,ee],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[M],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[M,"Facebook"],ee],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[M,ee],[/\bgsa\/([\w\.]+) .*safari\//i],[ee,[M,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[ee,[M,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[M,"Chrome WebView"],ee],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[ee,[M,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[M,ee],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[ee,[M,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[ee,M],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[M,[ee,w,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[M,ee],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[M,"Netscape"],ee],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[ee,[M,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[M,ee],[/(cobalt)\/([\w\.]+)/i],[M,[ee,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",m]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",m]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",m]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[E,[q,"Samsung"],[O,re]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[E,[q,"Samsung"],[O,te]],[/\((ip(?:hone|od)[\w ]*);/i],[E,[q,"Apple"],[O,te]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[E,[q,"Apple"],[O,re]],[/(macintosh);/i],[E,[q,"Apple"]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[E,[q,"Huawei"],[O,re]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[E,[q,"Huawei"],[O,te]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[E,/_/g," "],[q,"Xiaomi"],[O,te]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[E,/_/g," "],[q,"Xiaomi"],[O,re]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[E,[q,"OPPO"],[O,te]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[E,[q,"Vivo"],[O,te]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[E,[q,"Realme"],[O,te]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[E,[q,"Motorola"],[O,te]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[E,[q,"Motorola"],[O,re]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[E,[q,"LG"],[O,re]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[E,[q,"LG"],[O,te]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[E,[q,"Lenovo"],[O,re]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[E,/_/g," "],[q,"Nokia"],[O,te]],[/(pixel c)\b/i],[E,[q,"Google"],[O,re]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[E,[q,"Google"],[O,te]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[E,[q,"Sony"],[O,te]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[E,"Xperia Tablet"],[q,"Sony"],[O,re]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[E,[q,"OnePlus"],[O,te]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[E,[q,"Amazon"],[O,re]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[E,/(.+)/g,"Fire Phone $1"],[q,"Amazon"],[O,te]],[/(playbook);[-\w\),; ]+(rim)/i],[E,q,[O,re]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[E,[q,"BlackBerry"],[O,te]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[E,[q,"ASUS"],[O,re]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[E,[q,"ASUS"],[O,te]],[/(nexus 9)/i],[E,[q,"HTC"],[O,re]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[q,[E,/_/g," "],[O,te]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[E,[q,"Acer"],[O,re]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[E,[q,"Meizu"],[O,te]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[E,[q,"Sharp"],[O,te]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[q,E,[O,te]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[q,E,[O,re]],[/(surface duo)/i],[E,[q,"Microsoft"],[O,re]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[E,[q,"Fairphone"],[O,te]],[/(u304aa)/i],[E,[q,"AT&T"],[O,te]],[/\bsie-(\w*)/i],[E,[q,"Siemens"],[O,te]],[/\b(rct\w+) b/i],[E,[q,"RCA"],[O,re]],[/\b(venue[\d ]{2,7}) b/i],[E,[q,"Dell"],[O,re]],[/\b(q(?:mv|ta)\w+) b/i],[E,[q,"Verizon"],[O,re]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[E,[q,"Barnes & Noble"],[O,re]],[/\b(tm\d{3}\w+) b/i],[E,[q,"NuVision"],[O,re]],[/\b(k88) b/i],[E,[q,"ZTE"],[O,re]],[/\b(nx\d{3}j) b/i],[E,[q,"ZTE"],[O,te]],[/\b(gen\d{3}) b.+49h/i],[E,[q,"Swiss"],[O,te]],[/\b(zur\d{3}) b/i],[E,[q,"Swiss"],[O,re]],[/\b((zeki)?tb.*\b) b/i],[E,[q,"Zeki"],[O,re]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[q,"Dragon Touch"],E,[O,re]],[/\b(ns-?\w{0,9}) b/i],[E,[q,"Insignia"],[O,re]],[/\b((nxa|next)-?\w{0,9}) b/i],[E,[q,"NextBook"],[O,re]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[q,"Voice"],E,[O,te]],[/\b(lvtel\-)?(v1[12]) b/i],[[q,"LvTel"],E,[O,te]],[/\b(ph-1) /i],[E,[q,"Essential"],[O,te]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[E,[q,"Envizen"],[O,re]],[/\b(trio[-\w\. ]+) b/i],[E,[q,"MachSpeed"],[O,re]],[/\btu_(1491) b/i],[E,[q,"Rotor"],[O,re]],[/(shield[\w ]+) b/i],[E,[q,"Nvidia"],[O,re]],[/(sprint) (\w+)/i],[q,E,[O,te]],[/(kin\.[onetw]{3})/i],[[E,/\./g," "],[q,"Microsoft"],[O,te]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[E,[q,"Zebra"],[O,re]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[E,[q,"Zebra"],[O,te]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[q,E,[O,"console"]],[/droid.+; (shield) bui/i],[E,[q,"Nvidia"],[O,"console"]],[/(playstation [345portablevi]+)/i],[E,[q,"Sony"],[O,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[E,[q,"Microsoft"],[O,"console"]],[/smart-tv.+(samsung)/i],[q,[O,ne]],[/hbbtv.+maple;(\d+)/i],[[E,/^/,"SmartTV"],[q,"Samsung"],[O,ne]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[q,"LG"],[O,ne]],[/(apple) ?tv/i],[q,[E,"Apple TV"],[O,ne]],[/crkey/i],[[E,"Chromecast"],[q,"Google"],[O,ne]],[/droid.+aft(\w)( bui|\))/i],[E,[q,"Amazon"],[O,ne]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[E,[q,"Sharp"],[O,ne]],[/(bravia[\w ]+)( bui|\))/i],[E,[q,"Sony"],[O,ne]],[/(mitv-\w{5}) bui/i],[E,[q,"Xiaomi"],[O,ne]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[q,v],[E,v],[O,ne]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[O,ne]],[/((pebble))app/i],[q,E,[O,"wearable"]],[/droid.+; (glass) \d/i],[E,[q,"Google"],[O,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[E,[q,"Zebra"],[O,"wearable"]],[/(quest( 2)?)/i],[E,[q,"Facebook"],[O,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[q,[O,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[E,[O,te]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[E,[O,re]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[O,re]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[O,te]],[/(android[-\w\. ]{0,9});.+buil/i],[E,[q,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[ee,[M,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[ee,[M,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[M,ee],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[ee,M]],os:[[/microsoft (windows) (vista|xp)/i],[M,ee],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[M,[ee,w,ie]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[M,"Windows"],[ee,w,ie]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[ee,/_/g,"."],[M,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[M,"Mac OS"],[ee,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[ee,M],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[M,ee],[/\(bb(10);/i],[ee,[M,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[ee,[M,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[ee,[M,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[ee,[M,"webOS"]],[/crkey\/([\d\.]+)/i],[ee,[M,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[M,"Chromium OS"],ee],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[M,ee],[/(sunos) ?([\w\.\d]*)/i],[[M,"Solaris"],ee],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[M,ee]]},P=function(s,d){if("object"==typeof s&&(d=s,s=void 0),!(this instanceof P))return new P(s,d).getResult();var _=s||(void 0!==S&&S.navigator&&S.navigator.userAgent?S.navigator.userAgent:""),y=d?function(s,d){var _={};for(var y in s)d[y]&&d[y].length%2==0?_[y]=d[y].concat(s[y]):_[y]=s[y];return _}(se,d):se;return this.getBrowser=function(){var s,d={};return d[M]=void 0,d[ee]=void 0,b.call(d,_,y.browser),d.major="string"==typeof(s=d.version)?s.replace(/[^\d\.]/g,"").split(".")[0]:void 0,d},this.getCPU=function(){var s={architecture:void 0};return b.call(s,_,y.cpu),s},this.getDevice=function(){var s={vendor:void 0,model:void 0,type:void 0};return b.call(s,_,y.device),s},this.getEngine=function(){var s={name:void 0,version:void 0};return b.call(s,_,y.engine),s},this.getOS=function(){var s={name:void 0,version:void 0};return b.call(s,_,y.os),s},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return _},this.setUA=function(s){return _="string"==typeof s&&s.length>350?v(s,350):s,this},this.setUA(_),this};P.VERSION="1.0.33",P.BROWSER=p([M,ee,"major"]),P.CPU=p(["architecture"]),P.DEVICE=p([E,q,O,"console",te,ne,re,"wearable","embedded"]),P.ENGINE=P.OS=p([M,ee]),void 0!==d?(void 0!==s&&s.exports&&(d=s.exports=P),d.UAParser=P):_(132)?void 0===(y=function(){return P}.call(d,_,d,s))||(s.exports=y):void 0!==S&&(S.UAParser=P);var ae=void 0!==S&&(S.jQuery||S.Zepto);if(ae&&!ae.ua){var oe=new P;ae.ua=oe.getResult(),ae.ua.get=function(){return oe.getUA()},ae.ua.set=function(s){oe.setUA(s);var d=oe.getResult();for(var _ in d)ae.ua[_]=d[_]}}}("object"==typeof window?window:this)},function(s,d,_){"use strict";var y={}.propertyIsEnumerable,S=Object.getOwnPropertyDescriptor,T=S&&!y.call({1:2},1);d.f=T?function(s){var d=S(this,s);return!!d&&d.enumerable}:y},function(s,d,_){var y=_(7),S=_(1),T=_(58);s.exports=!y&&!S((function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a}))},function(s,d,_){var y=_(0),S=_(8),T=y.document,E=S(T)&&S(T.createElement);s.exports=function(s){return E?T.createElement(s):{}}},function(s,d,_){var y=_(44),S=Function.toString;"function"!=typeof y.inspectSource&&(y.inspectSource=function(s){return S.call(s)}),s.exports=y.inspectSource},function(s,d,_){var y=_(21),S=_(44);(s.exports=function(s,d){return S[s]||(S[s]=void 0!==d?d:{})})("versions",[]).push({version:"3.9.1",mode:y?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},function(s,d,_){var y=_(4),S=_(87),T=_(41),E=_(11);s.exports=function(s,d){for(var _=S(d),M=E.f,O=T.f,q=0;q<_.length;q++){var ee=_[q];y(s,ee)||M(s,ee,O(d,ee))}}},function(s,d,_){var y=_(4),S=_(29),T=_(89).indexOf,E=_(47);s.exports=function(s,d){var _,M=S(s),O=0,q=[];for(_ in M)!y(E,_)&&y(M,_)&&q.push(_);for(;d.length>O;)y(M,_=d[O++])&&(~T(q,_)||q.push(_));return q}},function(s,d){d.f=Object.getOwnPropertySymbols},function(s,d,_){"use strict";var y=_(29),S=_(92),T=_(22),E=_(14),M=_(68),O=E.set,q=E.getterFor("Array Iterator");s.exports=M(Array,"Array",(function(s,d){O(this,{type:"Array Iterator",target:y(s),index:0,kind:d})}),(function(){var s=q(this),d=s.target,_=s.kind,y=s.index++;return!d||y>=d.length?(s.target=void 0,{value:void 0,done:!0}):"keys"==_?{value:y,done:!1}:"values"==_?{value:d[y],done:!1}:{value:[y,d[y]],done:!1}}),"values"),T.Arguments=T.Array,S("keys"),S("values"),S("entries")},function(s,d,_){var y=_(93),S=_(94),T=_(1);s.exports=!!Object.getOwnPropertySymbols&&!T((function(){return!Symbol.sham&&(y?38===S:S>37&&S<41)}))},function(s,d,_){var y=_(7),S=_(11),T=_(3),E=_(67);s.exports=y?Object.defineProperties:function(s,d){T(s);for(var _,y=E(d),M=y.length,O=0;M>O;)S.f(s,_=y[O++],d[_]);return s}},function(s,d,_){var y=_(62),S=_(50);s.exports=Object.keys||function(s){return y(s,S)}},function(s,d,_){"use strict";var y=_(5),S=_(69),T=_(33),E=_(24),M=_(23),O=_(10),q=_(13),ee=_(2),te=_(21),re=_(22),ne=_(70),ie=ne.IteratorPrototype,se=ne.BUGGY_SAFARI_ITERATORS,ae=ee("iterator"),v=function(){return this};s.exports=function(s,d,_,ee,ne,oe,ce){S(_,d,ee);var le,ue,de,k=function(s){if(s===ne&&me)return me;if(!se&&s in fe)return fe[s];switch(s){case"keys":case"values":case"entries":return function(){return new _(this,s)}}return function(){return new _(this)}},he=d+" Iterator",pe=!1,fe=s.prototype,ge=fe[ae]||fe["@@iterator"]||ne&&fe[ne],me=!se&&ge||k(ne),ve="Array"==d&&fe.entries||ge;if(ve&&(le=T(ve.call(new s)),ie!==Object.prototype&&le.next&&(te||T(le)===ie||(E?E(le,ie):"function"!=typeof le[ae]&&O(le,ae,v)),M(le,he,!0,!0),te&&(re[he]=v))),"values"==ne&&ge&&"values"!==ge.name&&(pe=!0,me=function(){return ge.call(this)}),te&&!ce||fe[ae]===me||O(fe,ae,me),re[d]=me,ne)if(ue={values:k("values"),keys:oe?me:k("keys"),entries:k("entries")},ce)for(de in ue)(se||pe||!(de in fe))&&q(fe,de,ue[de]);else y({target:d,proto:!0,forced:se||pe},ue);return ue}},function(s,d,_){"use strict";var y=_(70).IteratorPrototype,S=_(32),T=_(17),E=_(23),M=_(22),c=function(){return this};s.exports=function(s,d,_){var O=d+" Iterator";return s.prototype=S(y,{next:T(1,_)}),E(s,O,!1,!0),M[O]=c,s}},function(s,d,_){"use strict";var y,S,T,E=_(1),M=_(33),O=_(10),q=_(4),ee=_(2),te=_(21),re=ee("iterator"),ne=!1;[].keys&&("next"in(T=[].keys())?(S=M(M(T)))!==Object.prototype&&(y=S):ne=!0);var ie=null==y||E((function(){var s={};return y[re].call(s)!==s}));ie&&(y={}),te&&!ie||q(y,re)||O(y,re,(function(){return this})),s.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:ne}},function(s,d,_){"use strict";var y=_(5),S=_(21),T=_(100),E=_(1),M=_(18),O=_(72),q=_(101),ee=_(13);y({target:"Promise",proto:!0,real:!0,forced:!!T&&E((function(){T.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(s){var d=O(this,M("Promise")),_="function"==typeof s;return this.then(_?function(_){return q(d,s()).then((function(){return _}))}:s,_?function(_){return q(d,s()).then((function(){throw _}))}:s)}}),S||"function"!=typeof T||T.prototype.finally||ee(T.prototype,"finally",M("Promise").prototype.finally)},function(s,d,_){var y=_(3),S=_(25),T=_(2)("species");s.exports=function(s,d){var _,E=y(s).constructor;return void 0===E||null==(_=y(E)[T])?d:S(_)}},function(s,d,_){"use strict";var y=_(25),i=function(s){var d,_;this.promise=new s((function(s,y){if(void 0!==d||void 0!==_)throw TypeError("Bad Promise constructor");d=s,_=y})),this.resolve=y(d),this.reject=y(_)};s.exports.f=function(s){return new i(s)}},function(s,d){s.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(s,d,_){var y=_(13);s.exports=function(s,d,_){for(var S in d)y(s,S,d[S],_);return s}},function(s,d,_){var y=_(15),S=_(9);s.exports=function(s){if(void 0===s)return 0;var d=y(s),_=S(d);if(d!==_)throw RangeError("Wrong length or index");return _}},function(s,d,_){"use strict";var y=_(12),S=_(49),T=_(9);s.exports=function(s){for(var d=y(this),_=T(d.length),E=arguments.length,M=S(E>1?arguments[1]:void 0,_),O=E>2?arguments[2]:void 0,q=void 0===O?_:S(O,_);q>M;)d[M++]=s;return d}},function(s,d,_){"use strict";var y=_(18),S=_(11),T=_(2),E=_(7),M=T("species");s.exports=function(s){var d=y(s),_=S.f;E&&d&&!d[M]&&_(d,M,{configurable:!0,get:function(){return this}})}},function(s,d,_){var y=_(108);s.exports=function(s,d){var _=y(s);if(_%d)throw RangeError("Wrong offset");return _}},function(s,d,_){_(36)("Uint8",(function(s){return function(d,_,y){return s(this,d,_,y)}}))},function(s,d,_){"use strict";_(123);var y,S=_(5),T=_(7),E=_(82),M=_(0),O=_(66),q=_(13),ee=_(34),te=_(4),re=_(124),ne=_(125),ie=_(54).codeAt,se=_(128),ae=_(23),oe=_(129),ce=_(14),le=M.URL,ue=oe.URLSearchParams,de=oe.getState,he=ce.set,pe=ce.getterFor("URL"),fe=Math.floor,ge=Math.pow,me=/[A-Za-z]/,ve=/[\d+-.A-Za-z]/,we=/\d/,be=/^(0x|0X)/,ye=/^[0-7]+$/,ke=/^\d+$/,Ie=/^[\dA-Fa-f]+$/,Ne=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,We=/[\u0000\t\u000A\u000D #/:?@[\\]]/,Ue=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Be=/[\t\u000A\u000D]/g,W=function(s,d){var _,y,S;if("["==d.charAt(0)){if("]"!=d.charAt(d.length-1))return"Invalid host";if(!(_=N(d.slice(1,-1))))return"Invalid host";s.host=_}else if(X(s)){if(d=se(d),Ne.test(d))return"Invalid host";if(null===(_=I(d)))return"Invalid host";s.host=_}else{if(We.test(d))return"Invalid host";for(_="",y=ne(d),S=0;S<y.length;S++)_+=V(y[S],qe);s.host=_}},I=function(s){var d,_,y,S,T,E,M,O=s.split(".");if(O.length&&""==O[O.length-1]&&O.pop(),(d=O.length)>4)return s;for(_=[],y=0;y<d;y++){if(""==(S=O[y]))return s;if(T=10,S.length>1&&"0"==S.charAt(0)&&(T=be.test(S)?16:8,S=S.slice(8==T?1:2)),""===S)E=0;else{if(!(10==T?ke:8==T?ye:Ie).test(S))return s;E=parseInt(S,T)}_.push(E)}for(y=0;y<d;y++)if(E=_[y],y==d-1){if(E>=ge(256,5-d))return null}else if(E>255)return null;for(M=_.pop(),y=0;y<_.length;y++)M+=_[y]*ge(256,3-y);return M},N=function(s){var d,_,y,S,T,E,M,O=[0,0,0,0,0,0,0,0],q=0,ee=null,te=0,f=function(){return s.charAt(te)};if(":"==f()){if(":"!=s.charAt(1))return;te+=2,ee=++q}for(;f();){if(8==q)return;if(":"!=f()){for(d=_=0;_<4&&Ie.test(f());)d=16*d+parseInt(f(),16),te++,_++;if("."==f()){if(0==_)return;if(te-=_,q>6)return;for(y=0;f();){if(S=null,y>0){if(!("."==f()&&y<4))return;te++}if(!we.test(f()))return;for(;we.test(f());){if(T=parseInt(f(),10),null===S)S=T;else{if(0==S)return;S=10*S+T}if(S>255)return;te++}O[q]=256*O[q]+S,2!=++y&&4!=y||q++}if(4!=y)return;break}if(":"==f()){if(te++,!f())return}else if(f())return;O[q++]=d}else{if(null!==ee)return;te++,ee=++q}}if(null!==ee)for(E=q-ee,q=7;0!=q&&E>0;)M=O[q],O[q--]=O[ee+E-1],O[ee+--E]=M;else if(8!=q)return;return O},B=function(s){var d,_,y,S;if("number"==typeof s){for(d=[],_=0;_<4;_++)d.unshift(s%256),s=fe(s/256);return d.join(".")}if("object"==typeof s){for(d="",y=function(s){for(var d=null,_=1,y=null,S=0,T=0;T<8;T++)0!==s[T]?(S>_&&(d=y,_=S),y=null,S=0):(null===y&&(y=T),++S);return S>_&&(d=y,_=S),d}(s),_=0;_<8;_++)S&&0===s[_]||(S&&(S=!1),y===_?(d+=_?":":"::",S=!0):(d+=s[_].toString(16),_<7&&(d+=":")));return"["+d+"]"}return s},qe={},ze=re({},qe,{" ":1,'"':1,"<":1,">":1,"`":1}),He=re({},ze,{"#":1,"?":1,"{":1,"}":1}),Ge=re({},He,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(s,d){var _=ie(s,0);return _>32&&_<127&&!te(d,s)?s:encodeURIComponent(s)},Je={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(s){return te(Je,s.scheme)},K=function(s){return""!=s.username||""!=s.password},Y=function(s){return!s.host||s.cannotBeABaseURL||"file"==s.scheme},$=function(s,d){var _;return 2==s.length&&me.test(s.charAt(0))&&(":"==(_=s.charAt(1))||!d&&"|"==_)},J=function(s){var d;return s.length>1&&$(s.slice(0,2))&&(2==s.length||"/"===(d=s.charAt(2))||"\\"===d||"?"===d||"#"===d)},Z=function(s){var d=s.path,_=d.length;!_||"file"==s.scheme&&1==_&&$(d[0],!0)||d.pop()},Q=function(s){return"."===s||"%2e"===s.toLowerCase()},Ve={},$e={},Ke={},Xe={},Ye={},Ze={},Qe={},et={},tt={},rt={},nt={},it={},st={},ot={},ct={},lt={},ut={},ht={},pt={},gt={},mt={},_e=function(s,d,_,S){var T,E,M,O,q,ee=_||Ve,re=0,ie="",se=!1,ae=!1,oe=!1;for(_||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,d=d.replace(Ue,"")),d=d.replace(Be,""),T=ne(d);re<=T.length;){switch(E=T[re],ee){case Ve:if(!E||!me.test(E)){if(_)return"Invalid scheme";ee=Ke;continue}ie+=E.toLowerCase(),ee=$e;break;case $e:if(E&&(ve.test(E)||"+"==E||"-"==E||"."==E))ie+=E.toLowerCase();else{if(":"!=E){if(_)return"Invalid scheme";ie="",ee=Ke,re=0;continue}if(_&&(X(s)!=te(Je,ie)||"file"==ie&&(K(s)||null!==s.port)||"file"==s.scheme&&!s.host))return;if(s.scheme=ie,_)return void(X(s)&&Je[s.scheme]==s.port&&(s.port=null));ie="","file"==s.scheme?ee=ot:X(s)&&S&&S.scheme==s.scheme?ee=Xe:X(s)?ee=et:"/"==T[re+1]?(ee=Ye,re++):(s.cannotBeABaseURL=!0,s.path.push(""),ee=pt)}break;case Ke:if(!S||S.cannotBeABaseURL&&"#"!=E)return"Invalid scheme";if(S.cannotBeABaseURL&&"#"==E){s.scheme=S.scheme,s.path=S.path.slice(),s.query=S.query,s.fragment="",s.cannotBeABaseURL=!0,ee=mt;break}ee="file"==S.scheme?ot:Ze;continue;case Xe:if("/"!=E||"/"!=T[re+1]){ee=Ze;continue}ee=tt,re++;break;case Ye:if("/"==E){ee=rt;break}ee=ht;continue;case Ze:if(s.scheme=S.scheme,E==y)s.username=S.username,s.password=S.password,s.host=S.host,s.port=S.port,s.path=S.path.slice(),s.query=S.query;else if("/"==E||"\\"==E&&X(s))ee=Qe;else if("?"==E)s.username=S.username,s.password=S.password,s.host=S.host,s.port=S.port,s.path=S.path.slice(),s.query="",ee=gt;else{if("#"!=E){s.username=S.username,s.password=S.password,s.host=S.host,s.port=S.port,s.path=S.path.slice(),s.path.pop(),ee=ht;continue}s.username=S.username,s.password=S.password,s.host=S.host,s.port=S.port,s.path=S.path.slice(),s.query=S.query,s.fragment="",ee=mt}break;case Qe:if(!X(s)||"/"!=E&&"\\"!=E){if("/"!=E){s.username=S.username,s.password=S.password,s.host=S.host,s.port=S.port,ee=ht;continue}ee=rt}else ee=tt;break;case et:if(ee=tt,"/"!=E||"/"!=ie.charAt(re+1))continue;re++;break;case tt:if("/"!=E&&"\\"!=E){ee=rt;continue}break;case rt:if("@"==E){se&&(ie="%40"+ie),se=!0,M=ne(ie);for(var ce=0;ce<M.length;ce++){var le=M[ce];if(":"!=le||oe){var ue=V(le,Ge);oe?s.password+=ue:s.username+=ue}else oe=!0}ie=""}else if(E==y||"/"==E||"?"==E||"#"==E||"\\"==E&&X(s)){if(se&&""==ie)return"Invalid authority";re-=ne(ie).length+1,ie="",ee=nt}else ie+=E;break;case nt:case it:if(_&&"file"==s.scheme){ee=lt;continue}if(":"!=E||ae){if(E==y||"/"==E||"?"==E||"#"==E||"\\"==E&&X(s)){if(X(s)&&""==ie)return"Invalid host";if(_&&""==ie&&(K(s)||null!==s.port))return;if(O=W(s,ie))return O;if(ie="",ee=ut,_)return;continue}"["==E?ae=!0:"]"==E&&(ae=!1),ie+=E}else{if(""==ie)return"Invalid host";if(O=W(s,ie))return O;if(ie="",ee=st,_==it)return}break;case st:if(!we.test(E)){if(E==y||"/"==E||"?"==E||"#"==E||"\\"==E&&X(s)||_){if(""!=ie){var de=parseInt(ie,10);if(de>65535)return"Invalid port";s.port=X(s)&&de===Je[s.scheme]?null:de,ie=""}if(_)return;ee=ut;continue}return"Invalid port"}ie+=E;break;case ot:if(s.scheme="file","/"==E||"\\"==E)ee=ct;else{if(!S||"file"!=S.scheme){ee=ht;continue}if(E==y)s.host=S.host,s.path=S.path.slice(),s.query=S.query;else if("?"==E)s.host=S.host,s.path=S.path.slice(),s.query="",ee=gt;else{if("#"!=E){J(T.slice(re).join(""))||(s.host=S.host,s.path=S.path.slice(),Z(s)),ee=ht;continue}s.host=S.host,s.path=S.path.slice(),s.query=S.query,s.fragment="",ee=mt}}break;case ct:if("/"==E||"\\"==E){ee=lt;break}S&&"file"==S.scheme&&!J(T.slice(re).join(""))&&($(S.path[0],!0)?s.path.push(S.path[0]):s.host=S.host),ee=ht;continue;case lt:if(E==y||"/"==E||"\\"==E||"?"==E||"#"==E){if(!_&&$(ie))ee=ht;else if(""==ie){if(s.host="",_)return;ee=ut}else{if(O=W(s,ie))return O;if("localhost"==s.host&&(s.host=""),_)return;ie="",ee=ut}continue}ie+=E;break;case ut:if(X(s)){if(ee=ht,"/"!=E&&"\\"!=E)continue}else if(_||"?"!=E)if(_||"#"!=E){if(E!=y&&(ee=ht,"/"!=E))continue}else s.fragment="",ee=mt;else s.query="",ee=gt;break;case ht:if(E==y||"/"==E||"\\"==E&&X(s)||!_&&("?"==E||"#"==E)){if(".."===(q=(q=ie).toLowerCase())||"%2e."===q||".%2e"===q||"%2e%2e"===q?(Z(s),"/"==E||"\\"==E&&X(s)||s.path.push("")):Q(ie)?"/"==E||"\\"==E&&X(s)||s.path.push(""):("file"==s.scheme&&!s.path.length&&$(ie)&&(s.host&&(s.host=""),ie=ie.charAt(0)+":"),s.path.push(ie)),ie="","file"==s.scheme&&(E==y||"?"==E||"#"==E))for(;s.path.length>1&&""===s.path[0];)s.path.shift();"?"==E?(s.query="",ee=gt):"#"==E&&(s.fragment="",ee=mt)}else ie+=V(E,He);break;case pt:"?"==E?(s.query="",ee=gt):"#"==E?(s.fragment="",ee=mt):E!=y&&(s.path[0]+=V(E,qe));break;case gt:_||"#"!=E?E!=y&&("'"==E&&X(s)?s.query+="%27":s.query+="#"==E?"%23":V(E,qe)):(s.fragment="",ee=mt);break;case mt:E!=y&&(s.fragment+=V(E,ze))}re++}},Pe=function(s){var d,_,y=ee(this,Pe,"URL"),S=arguments.length>1?arguments[1]:void 0,E=String(s),M=he(y,{type:"URL"});if(void 0!==S)if(S instanceof Pe)d=pe(S);else if(_=_e(d={},String(S)))throw TypeError(_);if(_=_e(M,E,null,d))throw TypeError(_);var O=M.searchParams=new ue,q=de(O);q.updateSearchParams(M.query),q.updateURL=function(){M.query=String(O)||null},T||(y.href=Te.call(y),y.origin=Se.call(y),y.protocol=Ae.call(y),y.username=Me.call(y),y.password=Ee.call(y),y.host=Oe.call(y),y.hostname=De.call(y),y.port=Le.call(y),y.pathname=je.call(y),y.search=Ce.call(y),y.searchParams=Re.call(y),y.hash=xe.call(y))},_t=Pe.prototype,Te=function(){var s=pe(this),d=s.scheme,_=s.username,y=s.password,S=s.host,T=s.port,E=s.path,M=s.query,O=s.fragment,q=d+":";return null!==S?(q+="//",K(s)&&(q+=_+(y?":"+y:"")+"@"),q+=B(S),null!==T&&(q+=":"+T)):"file"==d&&(q+="//"),q+=s.cannotBeABaseURL?E[0]:E.length?"/"+E.join("/"):"",null!==M&&(q+="?"+M),null!==O&&(q+="#"+O),q},Se=function(){var s=pe(this),d=s.scheme,_=s.port;if("blob"==d)try{return new URL(d.path[0]).origin}catch(s){return"null"}return"file"!=d&&X(s)?d+"://"+B(s.host)+(null!==_?":"+_:""):"null"},Ae=function(){return pe(this).scheme+":"},Me=function(){return pe(this).username},Ee=function(){return pe(this).password},Oe=function(){var s=pe(this),d=s.host,_=s.port;return null===d?"":null===_?B(d):B(d)+":"+_},De=function(){var s=pe(this).host;return null===s?"":B(s)},Le=function(){var s=pe(this).port;return null===s?"":String(s)},je=function(){var s=pe(this),d=s.path;return s.cannotBeABaseURL?d[0]:d.length?"/"+d.join("/"):""},Ce=function(){var s=pe(this).query;return s?"?"+s:""},Re=function(){return pe(this).searchParams},xe=function(){var s=pe(this).fragment;return s?"#"+s:""},Fe=function(s,d){return{get:s,set:d,configurable:!0,enumerable:!0}};if(T&&O(_t,{href:Fe(Te,(function(s){var d=pe(this),_=String(s),y=_e(d,_);if(y)throw TypeError(y);de(d.searchParams).updateSearchParams(d.query)})),origin:Fe(Se),protocol:Fe(Ae,(function(s){var d=pe(this);_e(d,String(s)+":",Ve)})),username:Fe(Me,(function(s){var d=pe(this),_=ne(String(s));if(!Y(d)){d.username="";for(var y=0;y<_.length;y++)d.username+=V(_[y],Ge)}})),password:Fe(Ee,(function(s){var d=pe(this),_=ne(String(s));if(!Y(d)){d.password="";for(var y=0;y<_.length;y++)d.password+=V(_[y],Ge)}})),host:Fe(Oe,(function(s){var d=pe(this);d.cannotBeABaseURL||_e(d,String(s),nt)})),hostname:Fe(De,(function(s){var d=pe(this);d.cannotBeABaseURL||_e(d,String(s),it)})),port:Fe(Le,(function(s){var d=pe(this);Y(d)||(""==(s=String(s))?d.port=null:_e(d,s,st))})),pathname:Fe(je,(function(s){var d=pe(this);d.cannotBeABaseURL||(d.path=[],_e(d,s+"",ut))})),search:Fe(Ce,(function(s){var d=pe(this);""==(s=String(s))?d.query=null:("?"==s.charAt(0)&&(s=s.slice(1)),d.query="",_e(d,s,gt)),de(d.searchParams).updateSearchParams(d.query)})),searchParams:Fe(Re),hash:Fe(xe,(function(s){var d=pe(this);""!=(s=String(s))?("#"==s.charAt(0)&&(s=s.slice(1)),d.fragment="",_e(d,s,mt)):d.fragment=null}))}),q(_t,"toJSON",(function(){return Te.call(this)}),{enumerable:!0}),q(_t,"toString",(function(){return Te.call(this)}),{enumerable:!0}),le){var vt=le.createObjectURL,wt=le.revokeObjectURL;vt&&q(Pe,"createObjectURL",(function(s){return vt.apply(le,arguments)})),wt&&q(Pe,"revokeObjectURL",(function(s){return wt.apply(le,arguments)}))}ae(Pe,"URL"),S({global:!0,forced:!E,sham:!T},{URL:Pe})},function(s,d,_){var y=_(1),S=_(2),T=_(21),E=S("iterator");s.exports=!y((function(){var s=new URL("b?a=1&b=2&c=3","http://a"),d=s.searchParams,_="";return s.pathname="c%20d",d.forEach((function(s,y){d.delete("b"),_+=y+s})),T&&!s.toJSON||!d.sort||"http://a/c%20d?a=1&c=3"!==s.href||"3"!==d.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!d[E]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==_||"x"!==new URL("http://x",void 0).host}))},function(s,d,_){var y=_(3);s.exports=function(s){var d=s.return;if(void 0!==d)return y(d.call(s)).value}},function(s,d,_){"use strict";var y=_(5),S=_(25),T=_(73),E=_(135),M=_(136);y({target:"Promise",stat:!0},{allSettled:function(s){var d=this,_=T.f(d),y=_.resolve,O=_.reject,q=E((function(){var _=S(d.resolve),T=[],E=0,O=1;M(s,(function(s){var S=E++,M=!1;T.push(void 0),O++,_.call(d,s).then((function(s){M||(M=!0,T[S]={status:"fulfilled",value:s},--O||y(T))}),(function(s){M||(M=!0,T[S]={status:"rejected",reason:s},--O||y(T))}))})),--O||y(T)}));return q.error&&O(q.value),_.promise}})},function(s,d){var _;_=function(){return this}();try{_=_||new Function("return this")()}catch(s){"object"==typeof window&&(_=window)}s.exports=_},function(s,d,_){var y=_(0),S=_(59),T=y.WeakMap;s.exports="function"==typeof T&&/native code/.test(S(T))},function(s,d,_){var y=_(18),S=_(48),T=_(63),E=_(3);s.exports=y("Reflect","ownKeys")||function(s){var d=S.f(E(s)),_=T.f;return _?d.concat(_(s)):d}},function(s,d,_){var y=_(0);s.exports=y},function(s,d,_){var y=_(29),S=_(9),T=_(49),a=function(s){return function(d,_,E){var M,O=y(d),q=S(O.length),ee=T(E,q);if(s&&_!=_){for(;q>ee;)if((M=O[ee++])!=M)return!0}else for(;q>ee;ee++)if((s||ee in O)&&O[ee]===_)return s||ee||0;return!s&&-1}};s.exports={includes:a(!0),indexOf:a(!1)}},function(s,d,_){var y=_(1),S=/#|\.prototype\./,o=function(s,d){var _=E[T(s)];return _==O||_!=M&&("function"==typeof d?y(d):!!d)},T=o.normalize=function(s){return String(s).replace(S,".").toLowerCase()},E=o.data={},M=o.NATIVE="N",O=o.POLYFILL="P";s.exports=o},function(s,d){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,d,_){var y=_(2),S=_(32),T=_(11),E=y("unscopables"),M=Array.prototype;null==M[E]&&T.f(M,E,{configurable:!0,value:S(null)}),s.exports=function(s){M[E][s]=!0}},function(s,d,_){var y=_(20),S=_(0);s.exports="process"==y(S.process)},function(s,d,_){var y,S,T=_(0),E=_(95),M=T.process,O=M&&M.versions,q=O&&O.v8;q?S=(y=q.split("."))[0]+y[1]:E&&(!(y=E.match(/Edge\/(\d+)/))||y[1]>=74)&&(y=E.match(/Chrome\/(\d+)/))&&(S=y[1]),s.exports=S&&+S},function(s,d,_){var y=_(18);s.exports=y("navigator","userAgent")||""},function(s,d,_){var y=_(65);s.exports=y&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(s,d,_){var y=_(18);s.exports=y("document","documentElement")},function(s,d,_){var y=_(1);s.exports=!y((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(s,d,_){var y=_(8);s.exports=function(s){if(!y(s)&&null!==s)throw TypeError("Can't set "+String(s)+" as a prototype");return s}},function(s,d,_){var y=_(0);s.exports=y.Promise},function(s,d,_){var y=_(3),S=_(8),T=_(73);s.exports=function(s,d){if(y(s),S(d)&&d.constructor===s)return d;var _=T.f(s);return(0,_.resolve)(d),_.promise}},function(s,d,_){"use strict";var y=_(5),S=_(0),T=_(51),E=_(78),M=T.ArrayBuffer;y({global:!0,forced:S.ArrayBuffer!==M},{ArrayBuffer:M}),E("ArrayBuffer")},function(s,d){var _=Math.abs,y=Math.pow,S=Math.floor,T=Math.log,E=Math.LN2;s.exports={pack:function(s,d,M){var O,q,ee,te=new Array(M),re=8*M-d-1,ne=(1<<re)-1,ie=ne>>1,se=23===d?y(2,-24)-y(2,-77):0,ae=s<0||0===s&&1/s<0?1:0,oe=0;for((s=_(s))!=s||s===1/0?(q=s!=s?1:0,O=ne):(O=S(T(s)/E),s*(ee=y(2,-O))<1&&(O--,ee*=2),(s+=O+ie>=1?se/ee:se*y(2,1-ie))*ee>=2&&(O++,ee/=2),O+ie>=ne?(q=0,O=ne):O+ie>=1?(q=(s*ee-1)*y(2,d),O+=ie):(q=s*y(2,ie-1)*y(2,d),O=0));d>=8;te[oe++]=255&q,q/=256,d-=8);for(O=O<<d|q,re+=d;re>0;te[oe++]=255&O,O/=256,re-=8);return te[--oe]|=128*ae,te},unpack:function(s,d){var _,S=s.length,T=8*S-d-1,E=(1<<T)-1,M=E>>1,O=T-7,q=S-1,ee=s[q--],te=127&ee;for(ee>>=7;O>0;te=256*te+s[q],q--,O-=8);for(_=te&(1<<-O)-1,te>>=-O,O+=d;O>0;_=256*_+s[q],q--,O-=8);if(0===te)te=1-M;else{if(te===E)return _?NaN:ee?-1/0:1/0;_+=y(2,d),te-=M}return(ee?-1:1)*_*y(2,te-d)}}},function(s,d,_){_(36)("Uint32",(function(s){return function(d,_,y){return s(this,d,_,y)}}))},function(s,d,_){var y=_(0),S=_(1),T=_(106),E=_(19).NATIVE_ARRAY_BUFFER_VIEWS,M=y.ArrayBuffer,O=y.Int8Array;s.exports=!E||!S((function(){O(1)}))||!S((function(){new O(-1)}))||!T((function(s){new O,new O(null),new O(1.5),new O(s)}),!0)||S((function(){return 1!==new O(new M(2),1,void 0).length}))},function(s,d,_){var y=_(2)("iterator"),S=!1;try{var T=0,E={next:function(){return{done:!!T++}},return:function(){S=!0}};E[y]=function(){return this},Array.from(E,(function(){throw 2}))}catch(s){}s.exports=function(s,d){if(!d&&!S)return!1;var _=!1;try{var T={};T[y]=function(){return{next:function(){return{done:_=!0}}}},s(T)}catch(s){}return _}},function(s,d,_){var y={};y[_(2)("toStringTag")]="z",s.exports="[object z]"===String(y)},function(s,d,_){var y=_(15);s.exports=function(s){var d=y(s);if(d<0)throw RangeError("The argument can't be less than 0");return d}},function(s,d,_){var y=_(12),S=_(9),T=_(26),E=_(52),M=_(27),O=_(19).aTypedArrayConstructor;s.exports=function(s){var d,_,q,ee,te,re,ne=y(s),ie=arguments.length,se=ie>1?arguments[1]:void 0,ae=void 0!==se,oe=T(ne);if(null!=oe&&!E(oe))for(re=(te=oe.call(ne)).next,ne=[];!(ee=re.call(te)).done;)ne.push(ee.value);for(ae&&ie>2&&(se=M(se,arguments[2],2)),_=S(ne.length),q=new(O(this))(_),d=0;_>d;d++)q[d]=ae?se(ne[d],d):ne[d];return q}},function(s,d,_){var y=_(27),S=_(42),T=_(12),E=_(9),M=_(111),O=[].push,l=function(s){var d=1==s,_=2==s,q=3==s,ee=4==s,te=6==s,re=7==s,ne=5==s||te;return function(ie,se,ae,oe){for(var ce,le,ue=T(ie),de=S(ue),he=y(se,ae,3),pe=E(de.length),fe=0,ge=oe||M,me=d?ge(ie,pe):_||re?ge(ie,0):void 0;pe>fe;fe++)if((ne||fe in de)&&(le=he(ce=de[fe],fe,ue),s))if(d)me[fe]=le;else if(le)switch(s){case 3:return!0;case 5:return ce;case 6:return fe;case 2:O.call(me,ce)}else switch(s){case 4:return!1;case 7:O.call(me,ce)}return te?-1:q||ee?ee:me}};s.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},function(s,d,_){var y=_(8),S=_(112),T=_(2)("species");s.exports=function(s,d){var _;return S(s)&&("function"!=typeof(_=s.constructor)||_!==Array&&!S(_.prototype)?y(_)&&null===(_=_[T])&&(_=void 0):_=void 0),new(void 0===_?Array:_)(0===d?0:d)}},function(s,d,_){var y=_(20);s.exports=Array.isArray||function(s){return"Array"==y(s)}},function(s,d,_){var y=_(8),S=_(24);s.exports=function(s,d,_){var T,E;return S&&"function"==typeof(T=d.constructor)&&T!==_&&y(E=T.prototype)&&E!==_.prototype&&S(s,E),s}},function(s,d,_){_(36)("Int32",(function(s){return function(d,_,y){return s(this,d,_,y)}}))},function(s,d,_){"use strict";var y=_(116),S=_(3),T=_(9),E=_(15),M=_(30),O=_(119),q=_(120),ee=_(121),te=Math.max,re=Math.min;y("replace",2,(function(s,d,_,y){var ne=y.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,ie=y.REPLACE_KEEPS_$0,se=ne?"$":"$0";return[function(_,y){var S=M(this),T=null==_?void 0:_[s];return void 0!==T?T.call(_,S,y):d.call(String(S),_,y)},function(s,y){if(!ne&&ie||"string"==typeof y&&-1===y.indexOf(se)){var M=_(d,s,this,y);if(M.done)return M.value}var ae=S(s),oe=String(this),ce="function"==typeof y;ce||(y=String(y));var le=ae.global;if(le){var ue=ae.unicode;ae.lastIndex=0}for(var de=[];;){var he=ee(ae,oe);if(null===he)break;if(de.push(he),!le)break;""===String(he[0])&&(ae.lastIndex=O(oe,T(ae.lastIndex),ue))}for(var pe,fe="",ge=0,me=0;me<de.length;me++){he=de[me];for(var ve=String(he[0]),we=te(re(E(he.index),oe.length),0),be=[],ye=1;ye<he.length;ye++)be.push(void 0===(pe=he[ye])?pe:String(pe));var ke=he.groups;if(ce){var Ie=[ve].concat(be,we,oe);void 0!==ke&&Ie.push(ke);var Ne=String(y.apply(void 0,Ie))}else Ne=q(ve,oe,we,be,ke,y);we>=ge&&(fe+=oe.slice(ge,we)+Ne,ge=we+ve.length)}return fe+oe.slice(ge)}]}))},function(s,d,_){"use strict";_(28);var y=_(13),S=_(1),T=_(2),E=_(53),M=_(10),O=T("species"),q=!S((function(){var s=/./;return s.exec=function(){var s=[];return s.groups={a:"7"},s},"7"!=="".replace(s,"$<a>")})),ee="$0"==="a".replace(/./,"$0"),te=T("replace"),re=!!/./[te]&&""===/./[te]("a","$0"),ne=!S((function(){var s=/(?:)/,d=s.exec;s.exec=function(){return d.apply(this,arguments)};var _="ab".split(s);return 2!==_.length||"a"!==_[0]||"b"!==_[1]}));s.exports=function(s,d,_,te){var ie=T(s),se=!S((function(){var d={};return d[ie]=function(){return 7},7!=""[s](d)})),ae=se&&!S((function(){var d=!1,_=/a/;return"split"===s&&((_={}).constructor={},_.constructor[O]=function(){return _},_.flags="",_[ie]=/./[ie]),_.exec=function(){return d=!0,null},_[ie](""),!d}));if(!se||!ae||"replace"===s&&(!q||!ee||re)||"split"===s&&!ne){var oe=/./[ie],ce=_(ie,""[s],(function(s,d,_,y,S){return d.exec===E?se&&!S?{done:!0,value:oe.call(d,_,y)}:{done:!0,value:s.call(_,d,y)}:{done:!1}}),{REPLACE_KEEPS_$0:ee,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:re}),le=ce[0],ue=ce[1];y(String.prototype,s,le),y(RegExp.prototype,ie,2==d?function(s,d){return ue.call(s,this,d)}:function(s){return ue.call(s,this)})}te&&M(RegExp.prototype[ie],"sham",!0)}},function(s,d,_){"use strict";var y=_(3);s.exports=function(){var s=y(this),d="";return s.global&&(d+="g"),s.ignoreCase&&(d+="i"),s.multiline&&(d+="m"),s.dotAll&&(d+="s"),s.unicode&&(d+="u"),s.sticky&&(d+="y"),d}},function(s,d,_){"use strict";var y=_(1);function i(s,d){return RegExp(s,d)}d.UNSUPPORTED_Y=y((function(){var s=i("a","y");return s.lastIndex=2,null!=s.exec("abcd")})),d.BROKEN_CARET=y((function(){var s=i("^r","gy");return s.lastIndex=2,null!=s.exec("str")}))},function(s,d,_){"use strict";var y=_(54).charAt;s.exports=function(s,d,_){return d+(_?y(s,d).length:1)}},function(s,d,_){var y=_(12),S=Math.floor,T="".replace,E=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,M=/\$([$&'`]|\d{1,2})/g;s.exports=function(s,d,_,O,q,ee){var te=_+s.length,re=O.length,ne=M;return void 0!==q&&(q=y(q),ne=E),T.call(ee,ne,(function(y,T){var E;switch(T.charAt(0)){case"$":return"$";case"&":return s;case"`":return d.slice(0,_);case"'":return d.slice(te);case"<":E=q[T.slice(1,-1)];break;default:var M=+T;if(0===M)return y;if(M>re){var ee=S(M/10);return 0===ee?y:ee<=re?void 0===O[ee-1]?T.charAt(1):O[ee-1]+T.charAt(1):y}E=O[M-1]}return void 0===E?"":E}))}},function(s,d,_){var y=_(20),S=_(53);s.exports=function(s,d){var _=s.exec;if("function"==typeof _){var T=_.call(s,d);if("object"!=typeof T)throw TypeError("RegExp exec method returned something other than an Object or null");return T}if("RegExp"!==y(s))throw TypeError("RegExp#exec called on incompatible receiver");return S.call(s,d)}},function(s,d,_){_(36)("Uint8",(function(s){return function(d,_,y){return s(this,d,_,y)}}),!0)},function(s,d,_){"use strict";var y=_(54).charAt,S=_(14),T=_(68),E=S.set,M=S.getterFor("String Iterator");T(String,"String",(function(s){E(this,{type:"String Iterator",string:String(s),index:0})}),(function(){var s,d=M(this),_=d.string,S=d.index;return S>=_.length?{value:void 0,done:!0}:(s=y(_,S),d.index+=s.length,{value:s,done:!1})}))},function(s,d,_){"use strict";var y=_(7),S=_(1),T=_(67),E=_(63),M=_(56),O=_(12),q=_(42),ee=Object.assign,te=Object.defineProperty;s.exports=!ee||S((function(){if(y&&1!==ee({b:1},ee(te({},"a",{enumerable:!0,get:function(){te(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var s={},d={},_=Symbol();return s[_]=7,"abcdefghijklmnopqrst".split("").forEach((function(s){d[s]=s})),7!=ee({},s)[_]||"abcdefghijklmnopqrst"!=T(ee({},d)).join("")}))?function(s,d){for(var _=O(s),S=arguments.length,ee=1,te=E.f,re=M.f;S>ee;)for(var ne,ie=q(arguments[ee++]),se=te?T(ie).concat(te(ie)):T(ie),ae=se.length,oe=0;ae>oe;)ne=se[oe++],y&&!re.call(ie,ne)||(_[ne]=ie[ne]);return _}:ee},function(s,d,_){"use strict";var y=_(27),S=_(12),T=_(126),E=_(52),M=_(9),O=_(127),q=_(26);s.exports=function(s){var d,_,ee,te,re,ne,ie=S(s),se="function"==typeof this?this:Array,ae=arguments.length,oe=ae>1?arguments[1]:void 0,ce=void 0!==oe,le=q(ie),ue=0;if(ce&&(oe=y(oe,ae>2?arguments[2]:void 0,2)),null==le||se==Array&&E(le))for(_=new se(d=M(ie.length));d>ue;ue++)ne=ce?oe(ie[ue],ue):ie[ue],O(_,ue,ne);else for(re=(te=le.call(ie)).next,_=new se;!(ee=re.call(te)).done;ue++)ne=ce?T(te,oe,[ee.value,ue],!0):ee.value,O(_,ue,ne);return _.length=ue,_}},function(s,d,_){var y=_(3),S=_(83);s.exports=function(s,d,_,T){try{return T?d(y(_)[0],_[1]):d(_)}catch(d){throw S(s),d}}},function(s,d,_){"use strict";var y=_(31),S=_(11),T=_(17);s.exports=function(s,d,_){var E=y(d);E in s?S.f(s,E,T(0,_)):s[E]=_}},function(s,d,_){"use strict";var y=/[^\0-\u007E]/,S=/[.\u3002\uFF0E\uFF61]/g,T="Overflow: input needs wider integers to process",E=Math.floor,M=String.fromCharCode,c=function(s){return s+22+75*(s<26)},l=function(s,d,_){var y=0;for(s=_?E(s/700):s>>1,s+=E(s/d);s>455;y+=36)s=E(s/35);return E(y+36*s/(s+38))},u=function(s){var d,_,y=[],S=(s=function(s){for(var d=[],_=0,y=s.length;_<y;){var S=s.charCodeAt(_++);if(S>=55296&&S<=56319&&_<y){var T=s.charCodeAt(_++);56320==(64512&T)?d.push(((1023&S)<<10)+(1023&T)+65536):(d.push(S),_--)}else d.push(S)}return d}(s)).length,O=128,q=0,ee=72;for(d=0;d<s.length;d++)(_=s[d])<128&&y.push(M(_));var te=y.length,re=te;for(te&&y.push("-");re<S;){var ne=2147483647;for(d=0;d<s.length;d++)(_=s[d])>=O&&_<ne&&(ne=_);var ie=re+1;if(ne-O>E((2147483647-q)/ie))throw RangeError(T);for(q+=(ne-O)*ie,O=ne,d=0;d<s.length;d++){if((_=s[d])<O&&++q>2147483647)throw RangeError(T);if(_==O){for(var se=q,ae=36;;ae+=36){var oe=ae<=ee?1:ae>=ee+26?26:ae-ee;if(se<oe)break;var ce=se-oe,le=36-oe;y.push(M(c(oe+ce%le))),se=E(ce/le)}y.push(M(c(se))),ee=l(q,ie,re==te),q=0,++re}}++q,++O}return y.join("")};s.exports=function(s){var d,_,T=[],E=s.toLowerCase().replace(S,".").split(".");for(d=0;d<E.length;d++)_=E[d],T.push(y.test(_)?"xn--"+u(_):_);return T.join(".")}},function(s,d,_){"use strict";_(64);var y=_(5),S=_(18),T=_(82),E=_(13),M=_(75),O=_(23),q=_(69),ee=_(14),te=_(34),re=_(4),ne=_(27),ie=_(37),se=_(3),ae=_(8),oe=_(32),ce=_(17),le=_(130),ue=_(26),de=_(2),he=S("fetch"),pe=S("Headers"),fe=de("iterator"),ge=ee.set,me=ee.getterFor("URLSearchParams"),ve=ee.getterFor("URLSearchParamsIterator"),we=/\+/g,be=Array(4),D=function(s){return be[s-1]||(be[s-1]=RegExp("((?:%[\\da-f]{2}){"+s+"})","gi"))},L=function(s){try{return decodeURIComponent(s)}catch(d){return s}},j=function(s){var d=s.replace(we," "),_=4;try{return decodeURIComponent(d)}catch(s){for(;_;)d=d.replace(D(_--),L);return d}},ye=/[!'()~]|%20/g,ke={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},x=function(s){return ke[s]},F=function(s){return encodeURIComponent(s).replace(ye,x)},W=function(s,d){if(d)for(var _,y,S=d.split("&"),T=0;T<S.length;)(_=S[T++]).length&&(y=_.split("="),s.push({key:j(y.shift()),value:j(y.join("="))}))},I=function(s){this.entries.length=0,W(this.entries,s)},N=function(s,d){if(s<d)throw TypeError("Not enough arguments")},Ie=q((function(s,d){ge(this,{type:"URLSearchParamsIterator",iterator:le(me(s).entries),kind:d})}),"Iterator",(function(){var s=ve(this),d=s.kind,_=s.iterator.next(),y=_.value;return _.done||(_.value="keys"===d?y.key:"values"===d?y.value:[y.key,y.value]),_})),U=function(){te(this,U,"URLSearchParams");var s,d,_,y,S,T,E,M,O,q=arguments.length>0?arguments[0]:void 0,ee=[];if(ge(this,{type:"URLSearchParams",entries:ee,updateURL:function(){},updateSearchParams:I}),void 0!==q)if(ae(q))if("function"==typeof(s=ue(q)))for(_=(d=s.call(q)).next;!(y=_.call(d)).done;){if((E=(T=(S=le(se(y.value))).next).call(S)).done||(M=T.call(S)).done||!T.call(S).done)throw TypeError("Expected sequence with length 2");ee.push({key:E.value+"",value:M.value+""})}else for(O in q)re(q,O)&&ee.push({key:O,value:q[O]+""});else W(ee,"string"==typeof q?"?"===q.charAt(0)?q.slice(1):q:q+"")},Ne=U.prototype;M(Ne,{append:function(s,d){N(arguments.length,2);var _=me(this);_.entries.push({key:s+"",value:d+""}),_.updateURL()},delete:function(s){N(arguments.length,1);for(var d=me(this),_=d.entries,y=s+"",S=0;S<_.length;)_[S].key===y?_.splice(S,1):S++;d.updateURL()},get:function(s){N(arguments.length,1);for(var d=me(this).entries,_=s+"",y=0;y<d.length;y++)if(d[y].key===_)return d[y].value;return null},getAll:function(s){N(arguments.length,1);for(var d=me(this).entries,_=s+"",y=[],S=0;S<d.length;S++)d[S].key===_&&y.push(d[S].value);return y},has:function(s){N(arguments.length,1);for(var d=me(this).entries,_=s+"",y=0;y<d.length;)if(d[y++].key===_)return!0;return!1},set:function(s,d){N(arguments.length,1);for(var _,y=me(this),S=y.entries,T=!1,E=s+"",M=d+"",O=0;O<S.length;O++)(_=S[O]).key===E&&(T?S.splice(O--,1):(T=!0,_.value=M));T||S.push({key:E,value:M}),y.updateURL()},sort:function(){var s,d,_,y=me(this),S=y.entries,T=S.slice();for(S.length=0,_=0;_<T.length;_++){for(s=T[_],d=0;d<_;d++)if(S[d].key>s.key){S.splice(d,0,s);break}d===_&&S.push(s)}y.updateURL()},forEach:function(s){for(var d,_=me(this).entries,y=ne(s,arguments.length>1?arguments[1]:void 0,3),S=0;S<_.length;)y((d=_[S++]).value,d.key,this)},keys:function(){return new Ie(this,"keys")},values:function(){return new Ie(this,"values")},entries:function(){return new Ie(this,"entries")}},{enumerable:!0}),E(Ne,fe,Ne.entries),E(Ne,"toString",(function(){for(var s,d=me(this).entries,_=[],y=0;y<d.length;)s=d[y++],_.push(F(s.key)+"="+F(s.value));return _.join("&")}),{enumerable:!0}),O(U,"URLSearchParams"),y({global:!0,forced:!T},{URLSearchParams:U}),T||"function"!=typeof he||"function"!=typeof pe||y({global:!0,enumerable:!0,forced:!0},{fetch:function(s){var d,_,y,S=[s];return arguments.length>1&&(ae(d=arguments[1])&&(_=d.body,"URLSearchParams"===ie(_)&&((y=d.headers?new pe(d.headers):new pe).has("content-type")||y.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),d=oe(d,{body:ce(0,String(_)),headers:ce(0,y)}))),S.push(d)),he.apply(this,S)}}),s.exports={URLSearchParams:U,getState:me}},function(s,d,_){var y=_(3),S=_(26);s.exports=function(s){var d=S(s);if("function"!=typeof d)throw TypeError(String(s)+" is not iterable");return y(d.call(s))}},function(s,d,_){_(5)({global:!0},{globalThis:_(0)})},function(s,d){(function(d){s.exports=d}).call(this,{})},function(s,d,_){"use strict";var y=_(5),S=_(25),T=_(12),E=_(1),M=_(134),O=[],q=O.sort,ee=E((function(){O.sort(void 0)})),te=E((function(){O.sort(null)})),re=M("sort");y({target:"Array",proto:!0,forced:ee||!te||!re},{sort:function(s){return void 0===s?q.call(T(this)):q.call(T(this),S(s))}})},function(s,d,_){"use strict";var y=_(1);s.exports=function(s,d){var _=[][s];return!!_&&y((function(){_.call(null,d||function(){throw 1},1)}))}},function(s,d){s.exports=function(s){try{return{error:!1,value:s()}}catch(s){return{error:!0,value:s}}}},function(s,d,_){var y=_(3),S=_(52),T=_(9),E=_(27),M=_(26),O=_(83),l=function(s,d){this.stopped=s,this.result=d};s.exports=function(s,d,_){var q,ee,te,re,ne,ie,se,ae=_&&_.that,oe=!(!_||!_.AS_ENTRIES),ce=!(!_||!_.IS_ITERATOR),le=!(!_||!_.INTERRUPTED),ue=E(d,ae,1+oe+le),P=function(s){return q&&O(q),new l(!0,s)},k=function(s){return oe?(y(s),le?ue(s[0],s[1],P):ue(s[0],s[1])):le?ue(s,P):ue(s)};if(ce)q=s;else{if("function"!=typeof(ee=M(s)))throw TypeError("Target is not iterable");if(S(ee)){for(te=0,re=T(s.length);re>te;te++)if((ne=k(s[te]))&&ne instanceof l)return ne;return new l(!1)}q=ee.call(s)}for(ie=q.next;!(se=ie.call(q)).done;){try{ne=k(se.value)}catch(s){throw O(q),s}if("object"==typeof ne&&ne&&ne instanceof l)return ne}return new l(!1)}},function(s,d,_){"use strict";_.r(d),_.d(d,"AcrobatJS",(function(){return lt})),_.d(d,"enums",(function(){return y})),_.d(d,"AcrobatJSSecurityHandler",(function(){return Ar})),_.d(d,"CertificateValidationInterface",(function(){return Mr}));var y={};_.r(y),_.d(y,"PageRequestType",(function(){return ke})),_.d(y,"AnnotType",(function(){return Ie})),_.d(y,"Permissions",(function(){return Ne})),_.d(y,"ContentType",(function(){return We})),_.d(y,"ColorPaletteKey",(function(){return Ue})),_.d(y,"FTPDFToWebViewTranslationStatus",(function(){return Be})),_.d(y,"ProcessingMode",(function(){return qe})),_.d(y,"WasmSwitchingState",(function(){return ze})),_.d(y,"Workflow",(function(){return He})),_(16),_(6),_(71),_(102),_(35),_(104),_(38),_(39),_(40),_(114),_(80),_(115),_(28),_(122);const S=Object.freeze(["unknown",'"Kozuka Gothic Pr6N R", "Meiryo", "Hira Kaku Pro N", "Hira Min Pro N", "Noto Sans JP"','"Adobe Heiti Std", "SimSun", "ST Heiti SC", "Adobe Song Std"','"DF Kai Shu", "ST Heiti TC", "Adobe Fan Heiti Std", "MingLiU", "Li Hei Pro", "Adobe Ming Std"','"Gulim", "Apple Gothic", "Adobe Gothic Std", "GulimChe", "Apple Myungjo", "Adobe Myungjo Std"']);var T=new class{constructor(){this._textDataMap={},this._fontNameMap={},this._canvas=document.createElement("canvas")}_getFontWidth(s){const d=this._canvas.getContext("2d");return d.font="10px ".concat(s),d.measureText("thequickbrownfoxjumpsovethelazydog").width}_fontAvailable(s){const d=this._getFontWidth("monospace"),_=this._getFontWidth("serif"),y=this._getFontWidth("sans-serif");return d!==this._getFontWidth('"'.concat(s,'",monospace'))||y!==this._getFontWidth('"'.concat(s,'",sans-serif'))||_!==this._getFontWidth('"'.concat(s,'",serif'))}_getCSSFontFaceString(s,d){if(void 0===this._fontNameMap[s.psName]){const d=s.bold?"bold ":"",_=s.italic?"italic ":"";this._fontNameMap[s.psName]="".concat(d+_,'10px "').concat(s.displayName?s.displayName:s.psName,'"'),this._textDataMap[s.psName]||(this._fontNameMap[s.psName]="".concat(d+_,"10px ").concat(S[s.language]))}return this._fontNameMap[s.psName].replace("10px","".concat(d,"px"))}_prepareContextForFontMatrix(s,d){const _=this._canvas.getContext("2d"),y=Math.ceil(1.65*d.size);this._canvas.setAttribute("height",y),this._canvas.setAttribute("width",y),_.font=this._getCSSFontFaceString(s,d.size);const S=-d.top,T=-d.left,E=1/d.size;return _.setTransform(d.a*E,d.b*E,-d.c*E,-d.d*E,T,S),_}_getBitmapForCharCode(s,d){s.save(),s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,this._canvas.width,this._canvas.height),s.restore(),s.fillText(String.fromCharCode(d),0,0);const _=s.getImageData(0,0,this._canvas.width,this._canvas.height),y={width:_.width,height:_.height,data:new Uint8ClampedArray(_.width*_.height)};for(let s=0;s<_.width*_.height;s+=1)y.data[s]=_.data[4*s+3];return y}_logData(s){const d={},_="".concat(s.psName,"(").concat(s.displayName,")");return this._textDataMap[s.psName]?d[_]="ExactFont":s.allowFallback?d[_]="SystemDefault":d[_]="FauxFont",d}generateGlyphBitmap(s,d){const _={bitmaps:{}};if(!d)return _;const{matrix:y}=d;if(void 0===this._textDataMap[d.psName]){const s=this._fontAvailable(d.displayName?d.displayName:d.psName);this._textDataMap[d.psName]=s}if(_.analyticsData=this._logData(d),_[d.psName]=this._textDataMap[d.psName],!this._textDataMap[d.psName]&&!d.allowFallback)return _;const S=this._prepareContextForFontMatrix(d,y);return s.forEach((s=>{if(void 0===_.bitmaps[y.key+s]){const d=this._getBitmapForCharCode(S,s);_.bitmaps[y.key+s]=d}})),_}};const E=15,M=20,L=s=>s&&"function"==typeof s,j=s=>{let d;for(d=s.length-1;d>=0&&!(s[d]>0);d--);s.splice(d+1)},C=(s,d)=>{const _=s.split(".").map((s=>parseInt(s,10))),y=d.split(".").map((s=>parseInt(s,10)));j(_),j(y);const S=Math.min(_.length,y.length);for(let s=0;s<S;s+=1){if(_[s]>y[s])return 1;if(_[s]<y[s])return-1}return _.length===y.length?0:_.length<y.length?-1:1};_(81),_(131),Object.freeze({CACHED:"cached",UNCACHED:"uncached",UNKNOWN:"unknown"});const R=()=>performance.now()+performance.timeOrigin,x=s=>s-performance.timeOrigin,O="registerLicense",q="openPDF",ee="getPageRendition",te="addMessagePort",re="verifyDigitalSignatures",ne="createFormField",ie="updateFormField",se="deleteFormField",ae="isFileQualifiedForLiquidMode",oe="translateToLiquidModeView",ce="getLiquidModeViewResource",le="applyCNFTPDFUpdates",ue="getHtmlLocationForDocPoint",de="getDocPointForHtmlLocation",he="JSApi",pe="editLinkAnnot",fe="deleteLinkAnnot",ge=[ae,oe,ce,le,ue,de];let me=!1;const at=function(){me&&console.log(...arguments)};var ve=_(55),we=_.n(ve);const dt=()=>(new we.a).getBrowser(),ft=s=>("13.0",!(-1===C(s,"13.0")||((s,d)=>1===C(s,"13.1"))(s))),be=Object.freeze({INCORRECT_PASSWORD:3,LINEARIZATION_DICT_NOT_FOUND:4,INCOMPLETE_BUFFER_RANGES_DOWNLOADED:-1,SAB_INDEX_OUT_OF_BOUNDS:-2}),ye=Object.freeze({INVALID_BUFFER:"Invalid buffer",INVALID_PAGE_NUM:"Invalid page number",SHARED_ARRAY_BUFFER_NOT_SUPPORTED:"Shared array buffer not supported",LINEARIZATION_DICT_NOT_FOUND:"Linearization dict not found",INCOMPLETE_BUFFER_RANGES_DOWNLOADED:"Incomplete pdf buffer ranges downloaded",SAB_INDEX_OUT_OF_BOUNDS:"Shared array buffer index is out of bounds",PASSWORD_PROTECTED_PDF_NOT_SUPPORTED_IN_LINEARIZED_WORKFLOW:"password protected pdf not supported in linearized workflow",INCORRECT_PASSWORD_ENTERED:"Incorrect password entered"}),ke=Object.freeze({PAGE:0,PAGE_CACHE:1,THUMBNAIL:2}),Ie=Object.freeze({TEXT:1,LINK:2,FREE_TEXT:4,LINE:8,SQUARE:16,CIRCLE:32,POLYGON:64,POLYLINE:128,HIGHLIGHT:256,UNDERLINE:512,SQUIGGLY:1024,STRIKEOUT:2048,CARET:4096,STAMP:8192,INK:16384,POPUP:32768,FILE_ATTACHMENT:65536,SOUND:131072,MOVIE:262144,SCREEN:524288,WIDGET:1048576,WATERMARK:2097152,THREE_D:4194304,FREE_TEXT_TYPEWRITER:8388608,ALL:4294967295,NONE:0}),Ne=Object.freeze({PRINT:4,MODIFY_CONTENT:8,COPY_EXTRACT_CONTENT:16,COMMENTING:32,FORM_FILLING:256,COPY_EXTRACT_CONTENT_ACCESSIBILITY:512,DOCUMENT_ASSEMBLY:1024,HIGH_QUALITY_PRINT:2048}),We=Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2,INVALID:3,IMAGE:4}),Ue=Object.freeze({BACKGROUND:"background",TEXT:"text"}),Be=Object.freeze({NOT_STARTED:-1,IN_PROGRESS:0,COMPLETE:1,ERROR:2}),qe=Object.freeze({BATCHED:"batched",DEFAULT:"default"}),ze=Object.freeze({NOT_SWITCHED:-1,SWITCHING:0,SWITCHED:1}),He=Object.freeze({LINEARIZED:"Linearized",NON_LINEARIZED:"Non-Linearized"});class At{constructor(){this._beginRequestCallback=null,this._loadCallback=null,this._errorCallback=null}open(s){this._beginRequestCallback=s}onload(s){this._loadCallback=s}onerror(s){this._errorCallback=s}send(s){this._beginRequestCallback(s).then((s=>{if(this._loadCallback){const d={command:le,priority:10,params:{cnftpdfUpdatesStream:s},transferList:[s]};this._loadCallback(d)}})).catch((s=>{this._errorCallback&&this._errorCallback({type:"AdobeSenseiPredictRequestFailed",body:s})}))}}class Mt{constructor(){this._adobeSenseiPredictRequest=new At}init(s,d,_){this._adobeSenseiPredictRequest.open(s),this._adobeSenseiPredictRequest.onload(d),this._adobeSenseiPredictRequest.onerror(_)}fetchCNFTPDFUpdates(s){this._adobeSenseiPredictRequest.send(s)}}function Et(s,d){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(s);d&&(y=y.filter((function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),_.push.apply(_,y)}return _}function Ot(s){for(var d=1;d<arguments.length;d++){var _=null!=arguments[d]?arguments[d]:{};d%2?Et(Object(_),!0).forEach((function(d){Dt(s,d,_[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):Et(Object(_)).forEach((function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(_,d))}))}return s}function Dt(s,d,_){return(d=function(s){var d=function(s,d){if("object"!=typeof s||!s)return s;var _=s[Symbol.toPrimitive];if(void 0!==_){var y=_.call(s,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(s);return"symbol"==typeof d?d:d+""}(d))in s?Object.defineProperty(s,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[d]=_,s}class Lt{constructor(s,d){this._startTranslationCallback=s,this._recordPerfMarkerCallback=d,this._html=null,this._htmlRequestQueue=[],this._isNewHTMLAvailable=!1,this._resources=new Map,this._pendingResourceRequests=new Map,this._translationStatus=Be.NOT_STARTED,this._errorMsg=null,this._adobeSenseiClient=new Mt,this._perfMarkers=new Map,this._serverMetaData=null,this._textDecoder=new TextDecoder}get _isTranslationStarted(){return this._translationStatus!==Be.NOT_STARTED}get _isTranslationComplete(){return this._translationStatus===Be.COMPLETE}get _hasTranslationFailed(){return this._translationStatus===Be.ERROR}_startTranslation(s){this._startTranslationCallback(s),this._translationStatus=Be.IN_PROGRESS,this.recordPerfMarker({marker:"beginTranslation"})}get _isHTMLRequestQueueEmpty(){return 0===this._htmlRequestQueue.length}_resolveHTMLRequest(s){const{requestStartTime:d,resolveCallback:_}=s;_({data:{html:this._html,serverMetaData:this._serverMetaData},timeTaken:performance.now()-d}),this.recordPerfMarker({marker:"firstHTMLMarkupResolved"}),this._isTranslationComplete&&this.recordPerfMarker({marker:"lastHTMLMarkupResolved"}),this._isNewHTMLAvailable=!1}_rejectHTMLRequest(s,d){const{requestStartTime:_,rejectCallback:y}=s;y(Ot(Ot({},d),{},{timeTaken:performance.now()-_}))}_resolvePendingHTMLRequest(){if(!this._isHTMLRequestQueueEmpty&&(this._isNewHTMLAvailable||this._isTranslationComplete)){const s=this._htmlRequestQueue.shift();this._resolveHTMLRequest(s)}}_resolveAllPendingHTMLRequests(){for(;!this._isHTMLRequestQueueEmpty;)this._resolvePendingHTMLRequest()}_rejectAllPendingHTMLRequests(s){this._htmlRequestQueue.forEach((d=>{this._rejectHTMLRequest(d,s)})),this._htmlRequestQueue=[]}_handleHTMLRequest(){return new Promise(((s,d)=>{const _=performance.now();this._htmlRequestQueue.push({requestStartTime:_,resolveCallback:s,rejectCallback:d}),this.recordPerfMarker({marker:"firstHTMLMarkupRequested"}),this._hasTranslationFailed?this._rejectAllPendingHTMLRequests():this._resolvePendingHTMLRequest()}))}getHTMLStream(s,d,_){return this._isTranslationStarted||(this._startTranslation(s),this._adobeSenseiClient.init(d,_,this._onAdobeSenseiClientError.bind(this))),new Promise(((d,_)=>{const y=performance.now(),S=new ReadableStream({pull:s=>{const d=this._handleHTMLRequest();s.enqueue(d),this._hasTranslationFailed&&(this._rejectAllPendingHTMLRequests(),s.close()),this._isTranslationComplete&&(this._resolveAllPendingHTMLRequests(),s.close())}}),{command:T}=s;d({command:T,data:{htmlStream:S},timeTaken:performance.now()-y})}))}setHTML(s,d,_){_&&(this._serverMetaData=_);const y=this._textDecoder.decode(s.buffer);this._html=encodeURI(y),this._translationStatus=d,this._isNewHTMLAvailable=!0,this._resolvePendingHTMLRequest(),this._isTranslationComplete&&this._resolveAllPendingHTMLRequests()}_resolveResourceRequest(s){const{command:d,resourceID:_,resourceURL:y,requestStartTime:S,resolveCallback:T}=s;T({command:d,data:Ot({resourceID:_,resourceURL:y},this._resources.get(y)),timeTaken:performance.now()-S})}_resolvePendingResourceRequest(s){if(this._pendingResourceRequests.has(s)&&this._resources.has(s)){const d=this._pendingResourceRequests.get(s);this._resolveResourceRequest(d),this._pendingResourceRequests.delete(s)}}getResource(s){let{command:d,params:_}=s;const{resourceID:y,resourceURL:S}=_;return new Promise(((s,_)=>{const T=performance.now(),E={command:d,resourceID:y,resourceURL:S,requestStartTime:T,resolveCallback:s};this._pendingResourceRequests.set(S,E),this._resolvePendingResourceRequest(S)}))}setResource(s,d,_){this._resources.set(s,{resourceContent:d,resourceMimeType:_}),this._resolvePendingResourceRequest(s)}fetchCNFTPDFUpdates(s){this._adobeSenseiClient.fetchCNFTPDFUpdates(s)}_onAdobeSenseiClientError(s){this._translationStatus=Be.ERROR,this._errorMsg=s,this._rejectAllPendingHTMLRequests(s)}recordPerfMarker(s){const{marker:d}=s;if(!this._perfMarkers.has(d)&&(this._perfMarkers.set(d,performance.now()),this._recordPerfMarkerCallback)){const s={};s[d]=this._perfMarkers.get(d),this._recordPerfMarkerCallback("ajsPerfTimings",s)}}}const jt=s=>{try{return new URL(s).origin}catch(s){return}},Ct=(s,d)=>!(!s||!jt(s))&&d.location.origin!==jt(s),xt=function(s){const d=function(s){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"acrobatProxy.5412d87778a2649b1f0a.js";return"var Module = {};\n  Module.ajsRootUrl = '".concat(s,"';\n  importScripts(Module.ajsRootUrl + '").concat(d,"');")}(s,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"acrobatProxy.5412d87778a2649b1f0a.js"),_=new Blob([d],{type:"application/javascript"});return URL.createObjectURL(_)},Ge=Object.freeze({ENABLE:0,DISABLE:1}),Je=(Object.freeze({READY_TO_WRITE_CHUNK:0,CHUNK_WRITTEN:1}),Object.freeze({MESSAGE_IN_PROGRESS:0,MESSAGE_WRITTEN:1}),Object.freeze({busyLoopStatus:0,doneStatus:1,readWriteStatus:2,lengthByteFirst:3,lengthByteSecond:4,responseStart:5})),It=(s,d)=>{s&&(new Uint8Array(s)[Je.busyLoopStatus]=d?Ge.ENABLE:Ge.DISABLE)};function Bt(s,d){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(s);d&&(y=y.filter((function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),_.push.apply(_,y)}return _}function Ut(s,d,_){return(d=function(s){var d=function(s,d){if("object"!=typeof s||!s)return s;var _=s[Symbol.toPrimitive];if(void 0!==_){var y=_.call(s,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(s);return"symbol"==typeof d?d:d+""}(d))in s?Object.defineProperty(s,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[d]=_,s}_(133),_(84);const Ve=65536,$e=(Object.freeze({approval:"Approval",certification:"Certification",ur:"Usage Rights"}),Object.freeze({valid:"valid",invalid:"invalid",unknown:"unknown"})),Ke=Object.freeze({currentTime:"currentTime",signingTime:"signingTime"}),Xe=Object.freeze({version:"Version",serialNumber:"Serial Number",issuer:"Issuer",subject:"Subject",validityStarts:"Validity Starts",validityEnds:"Validity Ends",keyUsage:"Key Usage",extendedKeyUsage:"Extended Key Usage",certificatePolicies:"Certificate Policies",crlDistributionPoints:"CRL Distribution Points",certificateAuthorityInformationAccess:"Certificate Authority Information Access",basicConstraints:"Basic Constraints",signatureAlgorithm:"Signature Algorithm",publicKey:"Public Key",subjectKeyIdentifier:"Subject Key Identifier",authorityKeyIdentifier:"Authority Key Identifier",x509Data:"X509 Data"}),Ye=Object.freeze({HIGH:10,LOW:20});function Kt(s,d){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(s);d&&(y=y.filter((function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),_.push.apply(_,y)}return _}function Yt(s){for(var d=1;d<arguments.length;d++){var _=null!=arguments[d]?arguments[d]:{};d%2?Kt(Object(_),!0).forEach((function(d){$t(s,d,_[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):Kt(Object(_)).forEach((function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(_,d))}))}return s}function $t(s,d,_){return(d=function(s){var d=function(s,d){if("object"!=typeof s||!s)return s;var _=s[Symbol.toPrimitive];if(void 0!==_){var y=_.call(s,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(s);return"symbol"==typeof d?d:d+""}(d))in s?Object.defineProperty(s,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[d]=_,s}class Jt{constructor(s){this.validators=s||[],this.X509Certificate=null,this.X509CRL=null}getCertificateDetails(s){return new Promise(((d,y)=>{const i=()=>{const _=new this.X509Certificate(s);return d(_.getDetails())};if(this.X509Certificate)return i();Promise.all([_.e("vendors~X509CRL~X509Certificate"),_.e("X509CRL~X509Certificate"),_.e("X509Certificate")]).then(_.bind(null,152)).then((s=>(this.X509Certificate=s.default,i()))).catch((()=>d({})))}))}getCRLDetails(s){return new Promise(((d,y)=>{const i=()=>{const _=new this.X509CRL(s);return d(_.getDetails())};if(this.X509CRL)return i();Promise.all([_.e("vendors~X509CRL~X509Certificate"),_.e("X509CRL~X509Certificate"),_.e("X509CRL")]).then(_.bind(null,153)).then((s=>(this.X509CRL=s.default,i()))).catch((()=>d({})))}))}async getParsedCertificates(){const s=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((s=>this.getCertificateDetails(s)));return(await Promise.allSettled(s)).map((s=>s.value))}async getParsedCRLs(){const s=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((s=>this.getCRLDetails(s)));return(await Promise.allSettled(s)).map((s=>s.value))}validate(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const d=[],_={trustSources:[],status:$e.unknown,certificates:s,validatorErrors:d,verifiedBy:"",validation:{validatedOn:Ke.currentTime,timestamp:(new Date).toISOString()}},n=(y,S)=>{if(y>=this.validators.length)return S(Yt({},_));this.validators[y].validate(s).then((s=>{var d;const T=null==s||null===(d=s.status)||void 0===d?void 0:d.toLowerCase();if(_.certificates=s.certificates,T===$e.valid||T===$e.invalid)return s.status=T,s.verifiedBy=this.validators[y].name(),S(Yt(Yt({},_),s));n(y+1,S)})).catch((s=>{d.push({validator:this.validators[y].name(),error:{message:s.message||"",reason:s.reason||{}}}),n(y+1,S)}))};return new Promise((d=>{if(!s.length)return d(Yt({},_));n(0,d)}))}}class Zt{constructor(s){this.validationManager=new Jt(s)}_sortSignaturesBySigningTime(s){s.sort(((s,d)=>{const _=s.signatureDetails.timestamp,y=d.signatureDetails.timestamp;return _||y?_?y?Date.parse(_)-Date.parse(y):-1:1:0}))}_processSignatureData(s){this._sortSignaturesBySigningTime(s)}async _fixCertificateOrder(s){if(s.length<=1)return s;const d=await this.validationManager.getParsedCertificates(s);d.forEach(((s,d)=>{s.index=d}));try{const _=(s=>{if(!s.length)return s;s.length>=2&&s[0][Xe.serialNumber]===s[1][Xe.serialNumber]&&s.shift();const d=[],_=s.find((s=>{const d=s[Xe.basicConstraints];if(d)return"No"===d.CA;const _=s[Xe.keyUsage];return!(!_||_.includes("Crl Sign")||_.includes("Key Cert Sign"))}));if(!_)return s;for(d.push(_);d.length<s.length;){const _=d[d.length-1],y=s.find((s=>s[Xe.serialNumber]!==_[Xe.serialNumber]&&JSON.stringify(s[Xe.subject])===JSON.stringify(_[Xe.issuer])));if(!y)break;d.push(y)}return d})(d);return _.map((d=>s[d.index]))}catch(d){return s}}async _getCertificateChains(s){const d=[];if(!s||!s.signatures)return d;s.signatures.forEach((s=>{const _=s.certificates.map((s=>s.pem));d.push(_)}));const _=d.map((s=>this._fixCertificateOrder(s)));return(await Promise.allSettled(_)).map((s=>s.value))}async _handleX509Parsing(s,d){var _;null!=s&&null!==(_=s.certificates)&&void 0!==_&&_.length&&(d.certificates=await this.validationManager.getParsedCertificates(s.certificates))}_handleCertificateValidationInfo(s,d){d.certificateValidation={status:s.status||$e.unknown,trustSources:s.trustSources||[],verifiedBy:s.verifiedBy||"",validatorErrors:s.validatorErrors||[],validation:s.validation||{}}}async responseHandler(s,d){try{const d=(await this._getCertificateChains(s.data.data)).map((s=>this.validationManager.validate(s))),_=await Promise.allSettled(d),{signatures:y}=s.data.data;y.forEach(((s,d)=>{const{value:y}=_[d];this._handleCertificateValidationInfo(y,s)}));const S=y.map(((s,d)=>{const{value:y}=_[d];return this._handleX509Parsing(y,s)}));await Promise.allSettled(S),this._processSignatureData(s.data.data.signatures)}catch(s){}finally{d(s.data.msgId,s)}}}const Ze=["params"];function er(s,d){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(s);d&&(y=y.filter((function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),_.push.apply(_,y)}return _}function tr(s){for(var d=1;d<arguments.length;d++){var _=null!=arguments[d]?arguments[d]:{};d%2?er(Object(_),!0).forEach((function(d){rr(s,d,_[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):er(Object(_)).forEach((function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(_,d))}))}return s}function rr(s,d,_){return(d=function(s){var d=function(s,d){if("object"!=typeof s||!s)return s;var _=s[Symbol.toPrimitive];if(void 0!==_){var y=_.call(s,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(s);return"symbol"==typeof d?d:d+""}(d))in s?Object.defineProperty(s,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[d]=_,s}class nr{constructor(s){this._getAnnotData=s,this._annotData=new Map}getAnnotData(s){let{params:d}=s,_=function(s,d){if(null==s)return{};var _,y,S=function(s,d){if(null==s)return{};var _={};for(var y in s)if({}.hasOwnProperty.call(s,y)){if(d.includes(y))continue;_[y]=s[y]}return _}(s,d);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(s);for(y=0;y<T.length;y++)_=T[y],d.includes(_)||{}.propertyIsEnumerable.call(s,_)&&(S[_]=s[_])}return S}(s,Ze);const{annotId:y}=d;return new Promise(((s,S)=>{this._getAnnotData(tr({params:d},_)).then((d=>{const _=tr({},d);_&&_.data&&_.data.annot?(_.data.annot=tr(tr({},_.data.annot),this._annotData.get(y)),s(_)):S({message:"Annotation data for annotation ID ".concat(y," not found")}),this._annotData.delete(y)})).catch((s=>{S(s)}))}))}setAnnotData(s){const{annotId:d}=s;this._annotData.set(d,s)}}const Qe=["data"],et=["html","translationStatus"];function ar(s,d){if(null==s)return{};var _,y,S=function(s,d){if(null==s)return{};var _={};for(var y in s)if({}.hasOwnProperty.call(s,y)){if(d.includes(y))continue;_[y]=s[y]}return _}(s,d);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(s);for(y=0;y<T.length;y++)_=T[y],d.includes(_)||{}.propertyIsEnumerable.call(s,_)&&(S[_]=s[_])}return S}function sr(s,d){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(s);d&&(y=y.filter((function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),_.push.apply(_,y)}return _}function cr(s){for(var d=1;d<arguments.length;d++){var _=null!=arguments[d]?arguments[d]:{};d%2?sr(Object(_),!0).forEach((function(d){lr(s,d,_[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):sr(Object(_)).forEach((function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(_,d))}))}return s}function lr(s,d,_){return(d=ur(d))in s?Object.defineProperty(s,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[d]=_,s}function ur(s){var d=function(s,d){if("object"!=typeof s||!s)return s;var _=s[Symbol.toPrimitive];if(void 0!==_){var y=_.call(s,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(s);return"symbol"==typeof d?d:d+""}const tt="".concat("ajs","PerfTimings");var rt=class{constructor(s){let{ajsWorkerPath:d="",useFullBuild:_=!1,enableWasmExceptions:y=!1,enableLogging:S=!1,workerCreator:T,signalDispatcher:E,windowObj:M,enableProgressiveRendering:ee=!1,apiTrackingInfo:re,currentPluginCount:ne,hostEnv:ie}=s;if(!window.Worker)throw new Error("Web Workers not supported!");Object.assign(this,cr({ajsWorkerPath:d,useFullBuild:_,enableWasmExceptions:y,enableLogging:S,signalDispatcher:E,workerCreator:T,windowObj:M,enableProgressiveRendering:ee,apiTrackingInfo:re,hostEnv:ie},L(ne)&&{currentPluginCount:ne})),this._messageMap={},this._unsettledMessageList=[],this._pdfBuffer=null,this._decryptedPdfBuffer=null,this._pdfPassword="",this._jsSAB=null,this._includeDocLevelActions=!1,this._messageCount=0,this.pluginModesEntered=new Map,this.activePluginModeInfo={activePluginMode:"",activePluginModeStartTime:null},this._linearizationInfo={},this._digSigHandler=null,this._annotDataClient=new nr((s=>this.sendMessageToWorker(s))),this._ftpdfWebViewCache=new Lt((s=>{this.sendMessageToWorker(s)}),((s,d)=>{this.signalDispatcher.trigger(s,d)})),this._wasmSwitchHandler=new class{constructor(s){let{sendMessageToWorker:d,restartWorker:_,getOpenPdfMessage:y}=s;this.sendMessageToWorker=d,this.restartWorker=_,this.getOpenPdfMessage=y,this.pluginPortsMap=null,this.switchingState=ze.NOT_SWITCHED}shouldSwitch(){return this.switchingState===ze.NOT_SWITCHED}isSwitching(){return this.switchingState===ze.SWITCHING}setSwitchingState(s){this.switchingState=s}switchToFullBuild(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve(),d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!this.shouldSwitch())return Promise.reject();const _=d;this.setSwitchingState(ze.SWITCHING),this.sendMessageToWorker({command:"pauseMessageProcessing",params:{}});const y=this.sendMessageToWorker({command:"getMessages",params:{}});return Promise.all([y,s]).catch((s=>{throw this.setSwitchingState(ze.NOT_SWITCHED),s})).then((s=>{let[d]=s;const y=d;return this.restartWorker().then((()=>{var s,d;const S=this._checkCommandInObject(_,q)?null==_||null===(s=_.data)||void 0===s||null===(d=s.currEvent)||void 0===d?void 0:d.msgId:void 0,T=!this._checkCommandInObject(_,O)&&this.getOpenPdfMessage(S);(this._checkCommandInObject(_,he)||this._checkCommandInObject(_,q))&&delete _.data.currEvent,this._checkCommandInObject(y,q)&&delete y.data.currEvent,T&&this.sendMessageToWorker(T),this._sendMessageListToWorker(y,_),y&&y.data&&(this.pluginPortsMap=y.data.pluginPortsMap),this._sendPluginPortsToWorker()})).finally((()=>{this.setSwitchingState(ze.SWITCHED)}))}))}_checkCommandInObject(s,d){return s&&s.data&&s.data.currEvent&&s.data.currEvent.command===d}_setAppearanceDataInCurrEventHelper(s,d,_){const y=s;if(y&&y.params&&y.params.data){const{annotIndex:S}=s.params.data;if(void 0!==S&&S>=0&&S<d.length&&y.params.data.appearanceData){const s=d[S];y.params.data.appearanceData.buffer=s,_.push(s.buffer)}}}_setAppearanceDataInCurrEvent(s,d){const _=s,y=_.currEventAppearanceData;if(y.length>0){let s=_&&_.params&&_.params.data;_.params.data.commentData&&(s=_.params.data.commentData),s&&(Array.isArray(s)?s.forEach((s=>{this._setAppearanceDataInCurrEventHelper(s,y,d)})):this._setAppearanceDataInCurrEventHelper(_,y,d)),delete _.currEventAppearanceData}}_sendMessageListToWorker(s){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;const _=[],y=d&&d.data&&d.data.currEvent;let S;const T=s&&s.data&&s.data.msgList;if(y?(this._setAppearanceDataInCurrEvent(y,_),S={value:y,next:T,priority:1}):S=T,!S)return;const E={command:"addMessages",params:{msgList:S},transferList:_};this.sendMessageToWorker(E)}_sendPluginPortsToWorker(){if(this.pluginPortsMap&&this.pluginPortsMap instanceof Map&&this.pluginPortsMap.size>0){const s=[];return this.pluginPortsMap.forEach(((d,_)=>{const y={command:te,params:{port:d,pluginName:_},transferList:[d]};s.push(this.sendMessageToWorker(y))})),Promise.all(s).then((()=>{this.pluginPortsMap=null}))}return Promise.resolve()}}({sendMessageToWorker:s=>this.sendMessageToWorker(s),restartWorker:()=>this._restartWorker(),getOpenPdfMessage:s=>this._getOpenPdfMessage(s)}),this._wasmErrorHandler=new class{constructor(s){let{getPluginModesInfo:d,messageCallback:_,logError:y,switchToFullBuild:S,enableWasmExceptions:T,switchToNonLinearizedWorkflow:E}=s;this.getPluginModesInfo=d,this.switchToFullBuild=S,this.messageCallback=_,this.logError=y,this.enableWasmExceptions=T,this.switchToNonLinearizedWorkflow=E,this._errorTypesLogged=[],this._lastEventBeforeWasmSwitch=null}get lastEventBeforeWasmSwitch(){return this._lastEventBeforeWasmSwitch}resetLastEventBeforeWasmSwitch(){this._lastEventBeforeWasmSwitch=null}handleWasmError(s,d,_,y){if(this._logErrorData(s,d,_,y),this.enableWasmExceptions){var S;const d=null==s||null===(S=s.data)||void 0===S?void 0:S.currEvent;return _===He.LINEARIZED?this.switchToNonLinearizedWorkflow(d):(this._sendCorruptFileError(d,s.errorCode),Promise.resolve())}return this._handleSwitchJS(s,d)}_sendCorruptFileError(s,d){if(s&&s.msgId){const _={error:"corruptFile",errorCode:d};this.messageCallback(s.msgId,_)}}_handleSwitchJS(s,d){var _;const y=null==s||null===(_=s.data)||void 0===_?void 0:_.currEvent;if(["FirstTimeSwitchJS","LinearizationSwitchJS"].includes(d))return this._lastEventBeforeWasmSwitch=y,this.switchToFullBuild(s);const S=this._lastEventBeforeWasmSwitch||y;return this._sendCorruptFileError(S,s.errorCode),Promise.resolve()}_logErrorData(s,d,_,y){const S=[],{activePluginModeInfo:T,pluginModesEntered:E}=this.getPluginModesInfo(),{activePluginMode:M,activePluginModeStartTime:O}=T;E.forEach(((s,d)=>{S.push(function(s){for(var d=1;d<arguments.length;d++){var _=null!=arguments[d]?arguments[d]:{};d%2?Bt(Object(_),!0).forEach((function(d){Ut(s,d,_[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):Bt(Object(_)).forEach((function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(_,d))}))}return s}({name:d},s))}));const q={ajsError:{activePluginMode:M,pluginModesEntered:S}};if(M&&O){const s=performance.now();q.ajsError.timeSpentInActivePluginMode=s-O}if(s&&s.data){const{currEvent:d,stackTrace:_,pdfUpdatesSoFar:S,memInfo:T}=s.data;d?q.ajsError.currEvent=d.command:y&&(q.ajsError.lastProcessedMessage=y.command),console.log(_),q.ajsError.stackTrace=_,q.ajsError.pdfUpdatesSoFar=S,q.ajsError.memInfo=T}if(s){const d=["errorCode","filename","lineno","colno"];((s,d,_)=>{const y=s;void 0!==d&&void 0!==y&&_.forEach((s=>{const _=d[s];void 0!==_&&(y[s]=_)}))})(q.ajsError,s,d),console.error("Exception: ".concat(q.ajsError.errorCode)),s.message&&(q.ajsError.errorMessage=s.message)}q.ajsError.type=d,this.enableWasmExceptions?(q.ajsError.workflow=_,this._errorTypesLogged.includes(q.ajsError.workflow)||(this.logError(q.ajsError),this._errorTypesLogged.push(q.ajsError.workflow))):this._errorTypesLogged.includes(q.ajsError.type)||(this.logError(q.ajsError),this._errorTypesLogged.push(q.ajsError.type))}}({getPluginModesInfo:()=>({activePluginModeInfo:this.activePluginModeInfo,pluginModesEntered:this.pluginModesEntered}),messageCallback:(s,d)=>this._callMessageCallback(s,d),logError:s=>this.signalDispatcher.trigger("ajsError",s),switchToFullBuild:s=>this._switchToFullBuild(s),enableWasmExceptions:this.enableWasmExceptions,switchToNonLinearizedWorkflow:s=>this.switchToNonLinearizedWorkflow(s)})}_getUpdatedMessageCount(){return this._messageCount+=1,this._messageCount}_isWasmSupportedOnBrowser(){let s=!0;return-1===navigator.userAgent.indexOf("OS 11_2")||-1===navigator.userAgent.indexOf("iPhone")&&-1===navigator.userAgent.indexOf("iPad")||(s=!1),self.WebAssembly&&"object"==typeof self.WebAssembly||(s=!1),((()=>{const s=dt().name.toLowerCase();return"safari"===s||"mobile safari"===s})()&&ft(dt().version)||(()=>{const s=(new we.a).getOS();return s&&"iOS"===s.name&&ft(s.version)})())&&(s=!1),s}_createWorker(){if(this.workerCreator&&"function"==typeof this.workerCreator&&(this.worker=this.workerCreator()),!this.worker){const s=this.enableWasmExceptions?"acrobatProxy_we.58d85e1af147ae738317.js":"acrobatProxy.5412d87778a2649b1f0a.js";this.workerURL=Ct(this.ajsWorkerPath,this.windowObj)?xt(this.ajsWorkerPath,s):"".concat(this.ajsWorkerPath).concat(s),this.worker=new window.Worker(this.workerURL)}}init(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise(((_,y)=>{if(this._initResolve=_,this._initReject=y,!this._isWasmSupportedOnBrowser()){const s={error:"WASM is not supported on this browser!"};return this._initReject(s)}this.signalDispatcher.trigger(tt,{ajsInit:performance.now()}),this._createWorker(),this.worker.onmessage=this._onWorkerMessage.bind(this),this.worker.onerror=this._onWorkerError.bind(this);const S=this._wasmSwitchHandler.isSwitching(),T=this.enableWasmExceptions?"renderingWorker_we.58685b6d6f93b8b35a5f.js":"renderingWorker.58685b6d6f93b8b35a5f.js",E={command:"init",params:{useFullBuild:S||this.useFullBuild,enableLogging:this.enableLogging,totalMemory:s,t5Cache:Math.max(d,209715200),enableProgressiveRendering:this.enableProgressiveRendering,apiTrackingInfo:this.apiTrackingInfo,hostEnv:this.hostEnv,devicePixelRatio:window.devicePixelRatio,renderingWorkerPath:Ct(this.ajsWorkerPath,this.windowObj)?xt(this.ajsWorkerPath,T):"".concat(this.ajsWorkerPath).concat(T)}};this._ajsBinaryStartTime=performance.now(),this.signalDispatcher.trigger("ajsBinaryLoadStarted",{startTime:this._ajsBinaryStartTime,isFullBuild:S||this.useFullBuild}),this.worker.postMessage(E),this.enableProgressiveRendering&&this.createMsgChannelBwMainAndRenderingWorker()}))}createMsgChannelBwMainAndRenderingWorker(){const{port1:s,port2:d}=new MessageChannel;this.worker.postMessage({command:"transferPortToRenderingWorker",port:s},[s]),d.onmessage=this.worker.onmessage}registerPDFBufferFetcher(s){this.fetchPDFBufferRanges=s}setCNPDFDownloadManager(s){this.isCNPDF=!0,this._cnpdfDownloadManager=s}notifyPDFBuffer(s){const d={command:"setPDFBuffer",params:{buffer:s}};this.signalDispatcher.trigger("completePDFBufferAvailable",{}),this.setPDFBuffer(s),this.worker.postMessage(d)}setPDFBuffer(s){this._pdfBuffer=s}terminate(){this._terminateWorker(),at("AJS proxy worker is terminated")}terminateRenderingWorker(){const s={command:"terminateRenderingWorker"};return this.sendMessageToWorker(s)}_terminateWorker(){this.worker&&this.worker.terminate()}_shouldSwitchToFullBuild(){return!this.useFullBuild&&this._wasmSwitchHandler.shouldSwitch()}_restartWorker(){return this._terminateWorker(),this.worker=void 0,this.init()}loadFullWorker(){return this._switchToFullBuild()}getUpdatedPDF(){const s={data:{buffer:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._decryptedPdfBuffer:this._pdfBuffer}};return Promise.resolve(s)}_getOpenPdfMessage(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const d={command:q,priority:1,params:{buffer:this._pdfBuffer,password:this._pdfPassword,includeActions:this._includeDocLevelActions,jsSAB:this._jsSAB}};return s&&(d.msgId=s),d}_cleanUpLinearizationWorkflow(){let s=Promise.resolve();return this._pdfBuffer||(s=this.fetchPDFBufferRanges([{start:0}]).then((s=>{const d=s[0];this.setPDFBuffer(d)}))),s.then((()=>{this._linearizationInfo={},this.fetchPDFBufferRanges=null}))}isLinearizedWorkflow(){return this._linearizationInfo.pdfSize}switchToNonLinearizedWorkflow(s){return this.sendMessageToWorker({command:"pauseMessageProcessing",params:{}}),this._cleanUpLinearizationWorkflow().then((()=>{const d=(null==s?void 0:s.command)===q,_=d?s.msgId:"",y=this._getOpenPdfMessage(_);y.params.switchingToNonLinearizedWorkflow=!0;const S=this.sendMessageToWorker(y);let T;return T=s&&!d?this.sendMessageToWorker(s):S,this.sendMessageToWorker({command:"resumeMessageProcessing",params:{}}),T}))}_switchToFullBuild(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._shouldSwitchToFullBuild()){It(this._jsSAB,!1);const d=this.isLinearizedWorkflow()?this._cleanUpLinearizationWorkflow():Promise.resolve();return this._wasmSwitchHandler.switchToFullBuild(d,s)}return Promise.resolve()}_onWasmError(s){let d="WASM_ERROR";this.enableWasmExceptions||(d="SecondTimeSwitchJS",this._shouldSwitchToFullBuild()&&(d=this.isLinearizedWorkflow()?"LinearizationSwitchJS":"FirstTimeSwitchJS"));const _=this.isLinearizedWorkflow()?He.LINEARIZED:He.NON_LINEARIZED;this._wasmErrorHandler.handleWasmError(s,d,_,this._lastMessage).then((()=>{["WASM_ERROR","SecondTimeSwitchJS"].includes(d)&&(this._postToWorker({command:"resumeMessageProcessing",params:{}}),It(this._jsSAB,!0))}))}sendMessageToWorker(s){let d=Promise.resolve();!this.enableWasmExceptions&&ge.includes(s.command)&&(d=this.loadFullWorker());let _=Promise.resolve();return this.isCNPDF&&(_=this._cnpdfDownloadManager.fetchMissingComponents(s,"ajs")),Promise.all([d,_]).then((d=>{let[_,y]=d;if(y&&(s.params.cnpdfComponents=y),s.command===q&&s.params){const{buffer:d,password:_,linearizationInfo:y,jsSAB:S,includeActions:T}=s.params;y?(this._linearizationInfo=y,this._int32PartialPDFSAB=new Int32Array(this._linearizationInfo.partialPDFSAB)):(this._pdfBuffer=d,this.signalDispatcher.trigger("completePDFBufferAvailable",{})),this._pdfPassword=_,this._includeDocLevelActions=T,this._jsSAB=S}if(s.command===re){const{certificateChainValidators:d}=s.params;this._digSigHandler=new Zt(d),delete s.params.certificateChainValidators}return new Promise(((d,_)=>{const y=s,S=performance.now();y.mainThreadDispatchTime=R(),y.msgId||(y.msgId=this._getUpdatedMessageCount(),this._messageMap[y.msgId]=s=>{const T=performance.now()-S;let E={};s.error?(E=cr(cr({},s),{},{totalTime:T}),_(E)):(E=cr(cr({},s.data),{},{totalTime:T}),d(E)),at("msgId and TotalTime",y.msgId,T)}),this._postToWorker(y)}))}))}sendMessageToWorkerSynchronously(s){return new Promise(((d,_)=>{const y=s,S=performance.now();y.msgId||(y.msgId=this._getUpdatedMessageCount(),this._messageMap[y.msgId]=s=>{const T=performance.now()-S;let E={};s.error?(E=cr(cr({},s),{},{totalTime:T}),_(E)):(E=cr(cr({},s.data),{},{totalTime:T}),d(E)),at("msgId and TotalTime",y.msgId,T)}),this._postToWorker(y)}))}_trackMessage(s){null!=s&&s.msgId&&this.apiTrackingInfo.enabled&&this.apiTrackingInfo.trackList.includes(s.command)&&this._unsettledMessageList.push(s.msgId)}_postToWorker(s){const d=s;at("message to worker",d);const _=d.transferList||[];delete d.transferList,this._trackMessage(d),this.worker.postMessage(d,_)}_updatePluginInfo(s){const{activePluginMode:d,activePluginModeStartTime:_}=this.activePluginModeInfo,{activePluginMode:y}=s;let S=null;if(y&&(S=performance.now(),this.pluginModesEntered.has(y)||this.pluginModesEntered.set(y,{})),d&&_){const s=performance.now();this.pluginModesEntered.set(d,{timeSpent:s-_})}this.activePluginModeInfo={activePluginMode:y,activePluginModeStartTime:S}}_notifyBufferRanges(s,d){if(s.length!==d.length)this._int32PartialPDFSAB[0]=be.INCOMPLETE_BUFFER_RANGES_DOWNLOADED;else{let s,_,y=d.length;for(let S=0;S<d.length;S++){if(s=new Uint8Array(d[S]),this._int32PartialPDFSAB[S]=s.length,_=new Int32Array(s,0,s.length),this._int32PartialPDFSAB.length-y<_.length){this._int32PartialPDFSAB[0]=be.SAB_INDEX_OUT_OF_BOUNDS;break}this._int32PartialPDFSAB.set(_,y),y+=_.length}}Atomics.notify(this._int32PartialPDFSAB,0,1)}_handleFileData(s){let{fileDescription:d,fileId:_,fileData:y,fileDataMimeType:S}=s;if("annotData"===d)this._setAnnotData({annotId:_,annotData:y,annotDataMimeType:S})}getAnnotData(s){return this._annotDataClient.getAnnotData(s)}_setAnnotData(s){this._annotDataClient.setAnnotData(s)}getFTPDFWebViewHTMLStream(s,d){return this._ftpdfWebViewCache.getHTMLStream(s,d,this.sendMessageToWorker.bind(this))}_setFTPDFWebViewHTML(s,d,_){this._ftpdfWebViewCache.setHTML(s,d,_)}getLiquidModeViewResource(s){return this._ftpdfWebViewCache.getResource(s)}_setFTPDFWebViewResource(s,d,_){this._ftpdfWebViewCache.setResource(s,d,_)}_notifyIfWorkerIdle(){this.currentPluginCount()||0!==this._unsettledMessageList.length||this.signalDispatcher.trigger("workerIdle",{})}_removeUnsettledMessage(s){const d=this._unsettledMessageList.indexOf(s);this._unsettledMessageList.splice(d,1)}_refineDataForLogging(s){if(!s.transferList)return s;const d=s.transferList,{data:_}=s,y=ar(s,Qe);if(!_[d])return s;const{[d]:S}=_,T=ar(_,[d].map(ur));return cr(cr({},y),{},{data:cr(cr({},T),{},{[d]:"data not logged by default"})})}_onWorkerMessage(s){const{data:d}=s;if(d.workerThreadDispatchTime&&(d.workerToMainTime=R()-d.workerThreadDispatchTime,delete d.workerThreadDispatchTime),at("message from worker",this._refineDataForLogging(d)),"proxyInitDone"===d.message)this.signalDispatcher.trigger(tt,{proxyInitTime:x(d.proxyInitTime)});else if("fileData"===d.message)this._handleFileData(d);else if("init"===d.command){if(!d.isInitialized)return this._initReject({error:d.error});this.signalDispatcher.trigger(tt,{ajsLoaded:performance.now()}),this._initResolve()}else if("wasmInitTime"===d.command){const{importScriptStartTime:s,importScriptEndTime:_,wasmInitTime:y,wasmLoadStartTime:S,wasmLoadEndTime:T,resourceType:E}=d;this.signalDispatcher.trigger("ajsBinaryTotalTime",{ajsBinaryTotalTime:performance.now()-this._ajsBinaryStartTime,resourceType:E}),this.signalDispatcher.trigger(tt,{wasmLoadStartTime:x(S),wasmLoadEndTime:x(T),wasmInitTime:x(y),wasmjsImportStartTime:x(s),wasmjsImportEndTime:x(_)})}else if("secondaryModuleLoaded"===d.command){const{info:s,timings:_}=d,{secondaryModuleInitTime:y,secondaryModuleLoadStartTime:S,secondaryModuleLoadEndTime:T}=_,E={secondaryModuleLoadStartTime:x(S),secondaryModuleLoadEndTime:x(T),secondaryModuleInitTime:x(y)};this.signalDispatcher.trigger(tt,E),this.signalDispatcher.trigger("secondaryModuleLoaded",cr(cr({},s),E))}else if("generateGlyphBitmap"===d.command){const{resolveId:s,params:_}=d,{fontInfo:y,chars:S}=_,E=T.generateGlyphBitmap(S,y),{matrix:M}=y;this.signalDispatcher.trigger("unembeddedFontsDetected",{chars:S,fontName:M.fontName});const O={command:"missingFontBitmaps",params:{missingTextData:E,resolveId:s}};this._postToWorker(O)}else if("updatePDFBuffer"===d.command)d.pdfBuffer&&(d.decryptedBuffer?this._decryptedPdfBuffer=d.pdfBuffer:this._pdfBuffer=d.pdfBuffer);else if("fetchPDFBufferRanges"===d.command)if(this._pdfBuffer){at("fetchPDFBufferRanges: full pdf available");const s=d.ranges.map((s=>this._pdfBuffer.slice(s.start,Math.min(s.end+1,this._pdfBuffer.byteLength))));this._notifyBufferRanges(d.ranges,s)}else this.fetchPDFBufferRanges(d.ranges).then((s=>this._notifyBufferRanges(d.ranges,s)));else if("fetchCNFTPDFUpdates"===d.command)this._ftpdfWebViewCache.fetchCNFTPDFUpdates(d);else if("liquidModePerfMarker"===d.command)this._ftpdfWebViewCache.recordPerfMarker(d);else if("setFTPDFWebViewHTML"===d.command){const{html:s,translationStatus:_}=d,y=ar(d,et);this._setFTPDFWebViewHTML(s,_,y)}else if("setFTPDFWebViewResource"===d.command){const{resourceURL:s,resourceContent:_,resourceMimeType:y}=d;this._setFTPDFWebViewResource(s,_,y)}else if(d.command===re)this._digSigHandler&&this._digSigHandler.responseHandler(s,this._callMessageCallback.bind(this));else if(d.lastProcessedMessage)this._lastMessage=d.lastProcessedMessage;else if(Object.prototype.hasOwnProperty.call(d,"activePluginMode")&&"string"==typeof d.activePluginMode)this._updatePluginInfo(d);else if("trackingEvent"===d.command)this.signalDispatcher.trigger(d.eventName,d.data);else if("trackDeletedMessages"===d.command)this._settleMessages(d.deletedMessagesList);else{"openPDF"===d.command&&this._pdfBuffer&&It(this._jsSAB,!0);const{msgId:_,error:y}=d;if(void 0!==_)if("WASM_ERROR"===y)this._onWasmError(d);else{let S;S=y?cr(cr({},d),{},{error:d.err_code||y}):s,this._callMessageCallback(_,S)}}}_settleMessages(s){this._unsettledMessageList.length&&(s.forEach((s=>{this._removeUnsettledMessage(s)})),setTimeout((()=>{this._notifyIfWorkerIdle()}),10)),s.forEach((s=>delete this._messageMap[s]))}_callMessageCallback(s,d){const{lastEventBeforeWasmSwitch:_}=this._wasmErrorHandler;_&&s===_.msgId&&this._wasmErrorHandler.resetLastEventBeforeWasmSwitch();const y=this._messageMap[s];L(y)&&y(d),this._settleMessages([s])}_onWorkerError(s){this._onWasmError(s)}};const nt={ZOOM_LEVEL_CHANGE:"zoomLevelChange",HC_THEME_CHANGE:"highContrastThemeChange"},it=(Object.freeze({invalid:0,openPDF:1,openCNPDF:2,getPageRendition:3,getPageRangeGeometry:4,extractPageText:5,selectContent:6,hitTest:7,getSelectedText:8,getBookmarks:9,getDataFromNamesTree:10,getAttachments:11,getAttachmentBuffer:12,getHyperlinkData:13,findText:14,getAnnotAppearance:15,createAnnot:16,editAnnot:17,deleteAnnot:18,getAnnots:19,getVoiceAnnotData:20,registerLicense:21,getDocumentXMPMetadata:22,editWillBegin:23,editDidEnd:24,processAction:25,editOperationBegin:26,editOperationDone:27,getPageFontList:28,saveChangesToPDF:29,setLinearizedBlockSize:30,getFASFields:31,createFASField:32,deleteFASField:33,updateFASField:34,flattenFASFields:35,getFASFieldAppearance:36,createAnnots:37,deleteAnnots:38,translateToLiquidModeView:39,applyCNFTPDFUpdates:40,getHtmlLocationForDocPoint:41,getDocPointForHtmlLocation:42,JSApi:43,createFormField:44,createFormFields:45,updateFormField:46,deleteFormField:47,deleteFormFields:48,getFormFields:49,updateSignMetadata:50,getSignMetadata:51,lockFormFields:52,createLinkAnnot:53,getLinkAnnots:54,editLinkAnnot:55,deleteLinkAnnot:56,deleteLinkAnnots:57,addIcon:58,updateDocInfo:59,updateFormFields:60,detectSignFields:61,getOverprintType:62,verifyDigitalSignatures:63,editLinkAnnots:64,isFileQualifiedForLiquidMode:65,removeOffScreenCanvas:66,terminateRenderingWorker:67,detectLanguage:68,getPagesScanStatus:69,getMetadata:70,isScannedDocument:71,getImageBuffer:72,getDocumentParts:73,setDocumentParts:74,getImageC2PAMetadata:75}),Object.freeze({kNoError:0,kZeroByteFile:1,kPDFDownloadingError:2,kIncorrectPassword:3,kLinearizationDictNotFound:4,kUnknownError:5}),Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2,INVALID:3,IMAGE:4,PATH:5}),Object.freeze({kNoDirection:0,kForwardArrow:1,kBackwardArrow:2,kUpArrow:3,kDownArrow:4})),st=Object.freeze({kNoShortcut:0,kLineBegin:1,kLineEnd:2}),ot=Object.freeze({NORMAL:1,RELAXED:2,DISABLED:3});function br(s){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",y=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{childCb:S,componentCb:T}=d,{components:E,children:M,path:O}=s;let q;q=O?"".concat(_,"/").concat(O):"".concat(_),Array.isArray(E)&&L(T)&&E.forEach((s=>{const d="".concat(q,"/").concat(s.path);T({component:s,absolutePath:d})})),Array.isArray(M)&&M.forEach((s=>{if(L(S)){const d="".concat(q,"/").concat(s.path);S({child:s,absolutePath:d})}y&&br(s,d,q,y)}))}class wr{constructor(s){let{manifest:d,cnpdfFetcher:_,signalDispatcher:y,waitForFullCNPDF:S=!1}=s;this._manifest=d,this._cnpdfFetcher=_,this._signalDispatcher=y,this._componentCache={},this._componentPathIdDict={},this._requiredComponentPerPageList={},this._waitForFullCNPDF=S,this._fullCnpdfAvailable=!1,this._componentAvailabilityMap={ajs:{}},this._init()}_init(){this._componentAvailabilityMap.ajs=new Map,this._mapComponents(this._manifest),this._cnpdfFetcher.subscribe(this.handleCnpdfManagerEvent.bind(this))}handleCnpdfManagerEvent(s){const{componentId:d,componentPath:_,componentArrayBuffer:y}=s;if(d)this._componentCache[d]=y;else if(_){const s=this._componentPathIdDict[_];this._componentCache[s]=y}this._verifyAllComponentsCached()&&this._notifyCompleteCNPDFAvailable()}_mapComponents(s){!function(s,d){br(s,{componentCb:d},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",!(arguments.length>3&&void 0!==arguments[3])||arguments[3])}(s,(s=>{let{component:d,absolutePath:_}=s;if(this._componentPathIdDict[_]=d.id,_.includes("/pages/page-")){const s=parseInt(_.match(/\/pages\/page-(\d+)\//)[1],10);void 0===this._requiredComponentPerPageList[s+1]&&(this._requiredComponentPerPageList[s+1]=[]),this._requiredComponentPerPageList[s+1]=[...this._requiredComponentPerPageList[s+1],_]}}))}_getRequiredComponentList(s){const d=[];switch(s.command){case"openCNPDF":d.push("/page-hints-table.json","/xref.json","/root/rootObjects.cos","/document/StructTree.cos","/document/docObjects.cos","/document/NameTree.cos");break;case"getPageRendition":var _;null!==(_=s.params)&&void 0!==_&&_.pageNum&&d.push(...this._requiredComponentPerPageList[s.params.pageNum])}return d.map((s=>this._componentPathIdDict[s])).filter((s=>void 0!==s))}_verifyAllComponentsCached(){return Object.keys(this._componentPathIdDict).every((s=>this._componentCache[this._componentPathIdDict[s]]))}_notifyCompleteCNPDFAvailable(){this._signalDispatcher.trigger("completeCNPDFAvailable",{}),this._fullCnpdfAvailable=!0}registerPageLevelApis(s){}registerDocLevelApis(s){}fetchMissingComponents(s){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajs";if(this._waitForFullCNPDF&&!this._fullCnpdfAvailable)return this._cnpdfFetcher.fetchCompleteCNPDF(Ye.HIGH);const _=[Promise.resolve()],y=this._getRequiredComponentList(s);for(const s of y)this._componentCache[s]||_.push(this._cnpdfFetcher.getComponent({componentId:s}));return Promise.all(_).then((()=>{const s={};for(const _ of y)!this._componentAvailabilityMap[d].get(_)&&this._componentCache[_]&&(this._componentAvailabilityMap[d].set(_,!0),s[_]=this._componentCache[_]);return s}))}prefetchComponents(){return this._cnpdfFetcher.fetchCompleteCNPDF(Ye.LOW)}}const ct=["evtName"];function _r(s,d){var _=Object.keys(s);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(s);d&&(y=y.filter((function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable}))),_.push.apply(_,y)}return _}function Pr(s){for(var d=1;d<arguments.length;d++){var _=null!=arguments[d]?arguments[d]:{};d%2?_r(Object(_),!0).forEach((function(d){kr(s,d,_[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(_)):_r(Object(_)).forEach((function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(_,d))}))}return s}function kr(s,d,_){return(d=function(s){var d=function(s,d){if("object"!=typeof s||!s)return s;var _=s[Symbol.toPrimitive];if(void 0!==_){var y=_.call(s,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(s);return"symbol"==typeof d?d:d+""}(d))in s?Object.defineProperty(s,d,{value:_,enumerable:!0,configurable:!0,writable:!0}):s[d]=_,s}class Tr{constructor(s){let{ajsPath:d="",enableLogging:y=!1,useFullBuild:S=!1,enableWasmExceptions:T=!1,workerCreator:E,windowObj:M=window,enableProgressiveRendering:O=!1,apiTrackingInfo:q={enabled:!1,trackList:[]},hostEnv:ee}=s;const te=Array.isArray(q.trackList);Object.assign(this,{ajsPath:d,useFullBuild:S,enableWasmExceptions:T,enableLogging:y,workerCreator:E,windowObj:M,enableProgressiveRendering:O,apiTrackingInfo:{enabled:q.enabled&&te,trackList:te?q.trackList:[]},hostEnv:ee}),this._signalDispatcher=new class{constructor(){this._reset()}_reset(){this.commonListeners=[]}subscribe(s){this.commonListeners.includes(s)||this.commonListeners.push(s)}unsubscribe(s){this.commonListeners.includes(s)&&this.commonListeners.splice(this.commonListeners.indexOf(s),1)}getAllListeners(){return this.commonListeners}trigger(){for(var s=arguments.length,d=new Array(s),_=0;_<s;_++)d[_]=arguments[_];this.commonListeners.forEach((s=>s(...d,"ajs")))}removeAll(){this._reset()}},this._pluginsMap=new Map,this.ajsWorkerInitPromise=null,this._canvasMap=new Map,this._isRenderingWorkerPresent=!1,_.p=d,this._completePDFBufferPromise=null,this._fetchPdfBufferRangesCallback=null,this._linearizationPdfSize=0}_attachListenerToPlugin(s,d){const _=this._getPlugin(d);_&&_.subscribe(s)}_attachAllListenersToPlugin(s){this._signalDispatcher.getAllListeners().forEach((d=>this._attachListenerToPlugin(d,s)))}_attachListenerToAllPlugins(s){this._pluginsMap.forEach(((d,_)=>this._attachListenerToPlugin(s,_)))}_removeAllListenersFromPlugin(s){const d=this._getPlugin(s);d&&this._signalDispatcher.getAllListeners().forEach(d.unsubscribe)}_removeListenerFromAllPlugins(s){this._pluginsMap.forEach((d=>d.unsubscribe(s)))}_currentPluginCount(){return this._pluginsMap.size}_checkPluginDoesNotExist(s){let{name:d}=s;return new Promise(((s,_)=>{this._getPlugin(d)&&_(new Error("Plugin ".concat(d," already exists"))),s()}))}_checkApisDontExist(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(((d,_)=>{const y=s.filter((s=>this[s]));y.length&&_(new Error("Following apis already exist: ".concat(y.join(",")))),d()}))}_getPlugin(s){return this._pluginsMap.has(s)?this._pluginsMap.get(s):null}_sendCoreApisToPlugin(s){const d=this._getPlugin(s);d&&d.setCoreApis(this._getExposedApis(d.requestedApiList))}_getExposedApis(){const s={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((d=>{this[d]&&(s[d]=Promise.resolve(this[d].bind(this)))})),s}_populateSupportedPluginApis(s){let{name:d}=s;const _=this._getPlugin(d);_.supportedApiList.forEach((s=>{this[s]=_[s].bind(_)}))}_removeSupportedPluginApis(s){let{name:d}=s;const _=this._getPlugin(d);_&&_.supportedApiList.forEach((s=>{delete this[s]}))}_createMessageChannel(s,d){const{port1:_,port2:y}=new MessageChannel;return Promise.all([this._transferPortToPlugin(_,s),this._transferPortToT5(y,d)])}_transferPortToPlugin(s,d){const _={params:{port:s},transferList:[s]};return d.addMessagePort(_)}_transferPortToT5(s,d){const _={command:te,params:{port:s,pluginName:d},transferList:[s]};return this._ajsWorker.sendMessageToWorker(_)}_removePluginPortFromT5(s){const d={command:"removeMessagePort",params:{pluginName:s}};return this._ajsWorker.sendMessageToWorker(d)}_createBatchOfMessagesAndSendToWorker(s,d,_,y){const S=[],T=[];d.forEach(((s,y)=>{const E={command:_,params:Pr(Pr({},s),{},{shouldUpdatePDFBuffer:y===d.length-1})};if(S.push(E),s&&s.data&&s.data.appearanceData&&s.data.appearanceData.buffer){const d=s.data.appearanceData.buffer;T.push(d.buffer)}}));const E={command:s,priority:y,params:{data:S},processingMode:qe.BATCHED,transferList:T};return this._ajsWorker.sendMessageToWorker(E)}_terminateWorker(){this._ajsWorker.terminate(),this._signalDispatcher.removeAll()}init(){const{ajsPath:s,useFullBuild:d,enableWasmExceptions:_,enableLogging:y,workerCreator:S,windowObj:T,enableProgressiveRendering:E,hostEnv:M}=this;return me=y,this._ajsWorker=new rt({ajsWorkerPath:"".concat(s,"build/"),useFullBuild:d,enableWasmExceptions:_,enableLogging:y,workerCreator:S,signalDispatcher:this._signalDispatcher,currentPluginCount:this._currentPluginCount.bind(this),windowObj:T,enableProgressiveRendering:E,apiTrackingInfo:this.apiTrackingInfo,hostEnv:M}),this._isRenderingWorkerPresent=E||!1,this.ajsWorkerInitPromise=this._ajsWorker.init(),this.ajsWorkerInitPromise}registerPlugin(s){const{plugin:d,name:_,autoLoad:y}=s;return this._checkPluginDoesNotExist(s).then((()=>this._checkApisDontExist(d.supportedApiList))).then((()=>{if(this._pluginsMap.set(_,d),this._populateSupportedPluginApis(s),this._attachAllListenersToPlugin(_),this._sendCoreApisToPlugin(_),y)return this.loadPlugin(s)}))}deregisterPlugin(s){const{name:d}=s;return this.unloadPlugin(s).then((()=>{this._removeSupportedPluginApis({name:d}),this._pluginsMap.delete(d),this._removeAllListenersFromPlugin(d)}))}loadPlugin(s){const{name:d}=s,_=this._getPlugin(d);if(_){const s=_.load();return _.isSeparateWorker?Promise.all([s,this.ajsWorkerInitPromise]).then((s=>this._createMessageChannel(_,d).then((()=>s[0])))):s}return Promise.reject(new Error("Plugin ".concat(d," does not exist")))}unloadPlugin(s){const{name:d}=s,_=this._getPlugin(d);return _?(_.isSeparateWorker&&this._removePluginPortFromT5(d),_.unload()):Promise.resolve()}getApiListByPlugin(s){const d=this._getPlugin(s);return d?d.supportedApiList:[]}terminate(){return new Promise((s=>{this._pluginsMap.forEach(((s,d)=>{this.deregisterPlugin({name:d})})),this._isRenderingWorkerPresent?this._ajsWorker.terminateRenderingWorker().finally((()=>{this._terminateWorker(),s()})):(this._terminateWorker(),s())}))}subscribe(s){this._signalDispatcher.subscribe(s),this._attachListenerToAllPlugins(s)}unsubscribe(s){this._signalDispatcher.unsubscribe(s),this._removeListenerFromAllPlugins(s)}registerLicense(s){let{token:d,domain:_}=s;const y={command:O,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{token:d,domain:_}};return this._ajsWorker.sendMessageToWorker(y)}openPDF(s){let{buffer:d,password:_="",documentId:y,includeActions:S=!1,jsSAB:T=null,securityHandler:E=null,storePDFHash:M=!1}=s,O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,ee=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const te=ArrayBuffer.isView(d)?d.buffer:d;if(!this._isValidArrayBuffer(te))return Promise.reject({error:ye.INVALID_BUFFER});this._signalDispatcher.trigger("openPDFCalled",{}),this._canvasMap.clear();const re={command:q,priority:ee,viewState:O,params:{buffer:te,password:_,documentId:y,includeActions:S,jsSAB:T,storePDFHash:M}};return this._ajsWorker.sendMessageToWorker(re).then((s=>s.data.errorCode===be.INCORRECT_PASSWORD&&E&&L(E.fetchPassword)?E.fetchPassword().then((s=>{const d={buffer:te,password:s,documentId:y,includeActions:S,jsSAB:T,securityHandler:E,storePDFHash:M};return this.openPDF(d,O,ee)})):(this._prepareTransformationMatrices(s),Promise.resolve(s))))}setLinearizedBlockSize(){const s={command:"setLinearizedBlockSize",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{blockSize:arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve}};return this._ajsWorker.sendMessageToWorker(s)}openLinearizedPDF(s){let{password:d="",fetchPdfSizeCallback:_,fetchPdfBufferRangesCallback:y,includeActions:S=!1,blockSize:T=Ve,documentId:E}=s,M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return void 0===self.SharedArrayBuffer?Promise.reject({error:ye.SHARED_ARRAY_BUFFER_NOT_SUPPORTED}):(this._fetchPdfBufferRangesCallback=y,this._completePDFBufferPromise=this._fetchPdfBufferRangesCallback([{start:0}]),new Promise(((s,y)=>{Promise.all([this._fetchPDFBufferRanges([{start:0,end:1024}]),_()]).then((_=>{let[ee,te]=_;this._linearizationPdfSize=te;const re=4*te+1024,ne=ee[0],ie=new SharedArrayBuffer(re),se={command:q,priority:O,viewState:M,params:{password:d,linearizationInfo:{initialBuffer:ne,pdfSize:te,partialPDFSAB:ie,blockSize:T},documentId:E,includeActions:S}};return this._ajsWorker.registerPDFBufferFetcher(this._fetchPDFBufferRanges.bind(this)),this._ajsWorker.sendMessageToWorker(se).then((d=>{if(d.data.errorCode===be.INCORRECT_PASSWORD&&s(d),d.data.errorCode===be.LINEARIZATION_DICT_NOT_FOUND)return this._switchToNonLinearizedWorkflow().then(s,y);this._prepareTransformationMatrices(d),this._ajsWorker.isLinearizedWorkflow()&&this._completePDFBufferPromise.then((s=>{if(void 0===s||0===s.length)return;const d=s[0];if(d.byteLength>this._linearizationPdfSize)return this._switchToNonLinearizedWorkflow();this._ajsWorker.notifyPDFBuffer(d)})),s(d)})).catch((s=>y({error:s})))}),(()=>this._fallbackToOpenPDf(O,M,E,S,d).then(s,y)))})))}_fallbackToOpenPDf(s,d,_,y,S){return this._completePDFBufferPromise.then((T=>{const E={buffer:T[0],password:S,documentId:_,includeActions:y};return this.openPDF(E,d,s)}))}_switchToNonLinearizedWorkflow(){return this._ajsWorker.switchToNonLinearizedWorkflow().then((s=>(this._prepareTransformationMatrices(s),s)))}_fetchPDFBufferRanges(s){if(1===s.length&&0===s[0].start&&void 0===s[0].end)return this._completePDFBufferPromise;const t=()=>this._completePDFBufferPromise.then((d=>s.map((s=>d[0].slice(s.start,Math.min(s.end+1,d[0].byteLength))))));if(1!==s.length||0!==s[0].start||1024!==s[0].end){const d=.75*this._linearizationPdfSize;if(s.some((s=>s.end-s.start>d)))return t()}return this._fetchPdfBufferRangesCallback(s).catch((()=>t()))}async openCNPDF(s){let{manifest:d,cnpdfFetcher:_,sharedMemorySize:y=36700160}=s,S={command:"openCNPDF",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{manifest:d}};const T="undefined"!=typeof SharedArrayBuffer;if(T){const{clientPort:s,sharedArrayBuffer:d}=await _.getSyncChannel("ajs",y);S=Pr(Pr({},S),{},{params:Pr(Pr({},S.params),{},{sharedMemory:d,cnpdfFetcherPort:s}),transferList:[s]})}return this.cnpdfDownloadManager=new wr({manifest:d,cnpdfFetcher:_,signalDispatcher:this._signalDispatcher,waitForFullCNPDF:!T}),this._ajsWorker.setCNPDFDownloadManager(this.cnpdfDownloadManager),this._ajsWorker.sendMessageToWorker(S).then((s=>(T&&this.cnpdfDownloadManager.prefetchComponents(),s)))}loadFullWorker(){return this._ajsWorker.loadFullWorker()}getPageRangeGeometry(s){let{startPageNum:d,endPageNum:_,forceCacheless:y=!1}=s;const S={command:"getPageRangeGeometry",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{startPageNum:d,endPageNum:_,forceCacheless:y}};return this._ajsWorker.sendMessageToWorker(S)}getMetadata(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const{includeActions:y=!1,forceCacheless:S=!1}=s,T={command:"getMetadata",priority:_,viewState:d,params:{includeActions:y,forceCacheless:S}};return this._ajsWorker.sendMessageToWorker(T)}getDocumentParts(s){let{includeSignData:d=!1}=s;const _={command:"getDocumentParts",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{includeSignData:d}};return this._ajsWorker.sendMessageToWorker(_)}setDocumentParts(s){let{data:d}=s;const _={command:"setDocumentParts",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:d}};return this._ajsWorker.sendMessageToWorker(_)}_isValidRGBArr(s){return s&&Array.isArray(s)&&3===s.length}_validateColorPalette(s){return!!s&&this._isValidRGBArr(s[Ue.BACKGROUND])&&this._isValidRGBArr(s[Ue.TEXT])}getPageRendition(s){let{pageNum:d,zoomLevel:_,renderRect:y,devicePixelRatio:S=window.devicePixelRatio,requestType:T,showAnnots:E=Ie.ALL,tileRect:M,timeLimit:O,maxRenderInterval:q,renderIntervalMultiplier:te,hiddenOCGs:re=[],colorPallete:ne,includeActions:ie=!1,mimeType:se,enableOverprintSupport:ae=!1,canvas:oe,canvasId:ce}=s,le=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(!d||d<0){const s={command:ee,data:{status:"failed",error:ye.INVALID_PAGE_NUM}};return Promise.resolve(s)}const de=new Uint32Array(1);de[0]=E;const he=Pr(Pr({zoomLevel:_,renderRect:y,devicePixelRatio:S,pageNum:d,showAnnots:de[0],tileRect:M,requestType:T,timeLimit:O,maxRenderInterval:q,renderIntervalMultiplier:te,hiddenOCGs:re,includeActions:ie,mimeType:se,enableOverprintSupport:ae},this._validateColorPalette(ne)&&{colorPallete:ne}),{},{isCanvasDrawing:!1});let pe=[];if(oe&&this._isRenderingWorkerPresent&&(he.canvasId=ce,he.isCanvasDrawing=!0,!this._canvasMap.has(ce))){const s=oe.transferControlToOffscreen();he.canvas=s,pe=[s],this._canvasMap.set(ce,!0)}const fe={command:ee,priority:ue,viewState:le,params:he,transferList:pe};return this._ajsWorker.sendMessageToWorker(fe)}collectProfileData(){const s={command:"collectProfileData"};return this._ajsWorker.sendMessageToWorker(s)}hitTest(s){let{pageNum:d,x:_,y,shouldDetectWeblinks:S=!0,shouldCreateContentPointMap:T=!1}=s;const E={command:"hitTest",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,x:_,y,shouldDetectWeblinks:S,shouldCreateContentPointMap:T}};return this._ajsWorker.sendMessageToWorker(E)}selectContent(s){let{startPoint:d,endPoint:_,direction:y,snapToWords:S,jumpTo:T=st.kNoShortcut,force:E=!1,getCaret:M=!1}=s;const O={command:"selectContent",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{startPoint:d,endPoint:_,direction:y,snapToWords:S,jumpTo:T,force:E,getCaret:M}};return this._ajsWorker.sendMessageToWorker(O)}getDocumentXMPMetadata(s){let{}=s;const d={command:"getDocumentXMPMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(d)}getAttachments(s){let{}=s;const d={command:"getAttachments",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(d)}getBookmarks(s){let{}=s;const d={command:"getBookmarks",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(d)}getDataFromNamesTree(s){const d={command:"getDataFromNamesTree",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:s};return this._ajsWorker.sendMessageToWorker(d)}getAttachmentBuffer(s){let{name:d}=s;const _={command:"getAttachmentBuffer",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{name:d}};return this._ajsWorker.sendMessageToWorker(_)}getSelectedText(s){let{richText:d=!1}=s;const _={command:"getSelectedText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{richText:d}};return this._ajsWorker.sendMessageToWorker(_)}getHyperlinkData(s){let{pageNum:d,x:_,y,shouldDetectWeblinks:S=!0}=s;const T={command:"getHyperlinkData",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{x:_,y,pageNum:d,shouldDetectWeblinks:S}};return this._ajsWorker.sendMessageToWorker(T)}findText(s){let{text:d,startPage:_,numPages:y}=s;const S={command:"findText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{text:d,startPage:_,numPages:y}};return this._ajsWorker.sendMessageToWorker(S)}extractPageText(s){let{pageNum:d,getWordRects:_=!1,getTextAttributes:y=!1,getFormFieldData:S=!1,getCharRects:T=!1}=s;const E={command:"extractPageText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,getWordRects:_,getTextAttributes:y,getFormFieldData:S,getCharRects:T}};return this._ajsWorker.sendMessageToWorker(E)}getAnnots(s){let{pageNum:d,annotsFilter:_,includeActions:y=!1}=s;const S={command:"getAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,annotsFilter:_,includeActions:y}};return this._ajsWorker.sendMessageToWorker(S)}createAnnot(s){let{data:d}=s;const _={command:"createAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:d}};return this._ajsWorker.sendMessageToWorker(_)}updateSignMetadata(s){let{data:d}=s;const _={command:"updateSignMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:d}};return this._ajsWorker.sendMessageToWorker(_)}getSignMetadata(s){let{}=s;const d={command:"getSignMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(d)}createFormField(s){let{data:d}=s;const _={command:ne,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:d}};return this._ajsWorker.sendMessageToWorker(_)}createFormFields(s){let{fields:d}=s,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return this._createBatchOfMessagesAndSendToWorker("createFormFields",d,ne,_)}updateFormField(s){let{pageNum:d,id:_,data:y,authoringMode:S=!1}=s;const T={command:ie,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,id:_,data:y,authoringMode:S}};return this._ajsWorker.sendMessageToWorker(T)}addIcon(s){let{iconName:d,newIconName:_}=s;const y={command:"addIcon",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,params:{newIconName:_,iconName:d}};return this._ajsWorker.sendMessageToWorker(y)}updateFormFields(s){let{fields:d}=s,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return this._createBatchOfMessagesAndSendToWorker("updateFormFields",d,ie,_)}deleteFormField(s){let{pageNum:d,id:_}=s;const y={command:se,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,id:_}};return this._ajsWorker.sendMessageToWorker(y)}deleteFormFields(s){let{fields:d}=s,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return this._createBatchOfMessagesAndSendToWorker("deleteFormFields",d,se,_)}getFormFields(s){let{pageNum:d,includeActions:_=!1,includeSignData:y=!1}=s;const S={command:"getFormFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,includeActions:_,includeSignData:y}};return this._ajsWorker.sendMessageToWorker(S)}lockFormFields(s){let{}=s;const d={command:"lockFormFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(d)}createAnnots(s){let{data:d}=s;const _={command:"createAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:d}};return this._ajsWorker.sendMessageToWorker(_)}editAnnot(s){let{pageNum:d,id:_,data:y}=s;const S={command:"editAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,id:_,data:y}};return this._ajsWorker.sendMessageToWorker(S)}deleteAnnot(s){let{pageNum:d,id:_}=s;const y={command:"deleteAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,id:_}};return this._ajsWorker.sendMessageToWorker(y)}deleteAnnots(s){let{data:d}=s;const _={command:"deleteAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:d}};return this._ajsWorker.sendMessageToWorker(_)}getAnnotAppearance(s){let{pageNum:d,id:_,zoomLevel:y,devicePixelRatio:S,appearanceSubDict:T,appearanceState:M,colorPallete:O,ignoreDisplayFlags:q=!1,enableOverprintSupport:ee=!1}=s;const te={command:"getAnnotAppearance",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:Pr(Pr({pageNum:d,id:_,zoomLevel:y,devicePixelRatio:S,appearanceSubDict:T,appearanceState:M},this._validateColorPalette(O)&&{colorPallete:O}),{},{ignoreDisplayFlags:q,enableOverprintSupport:ee})};return this._ajsWorker.sendMessageToWorker(te)}getVoiceAnnotData(s){let{pageNum:d,annotId:_}=s;const y={command:"getVoiceAnnotData",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,annotId:_}};return this._ajsWorker.getAnnotData(y)}JSApi(s){let{params:d}=s;const _={command:he,priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,params:d};return d.addResultToSAB?this._ajsWorker.sendMessageToWorkerSynchronously(_):this._ajsWorker.sendMessageToWorker(_)}updateDocInfo(s){let{data:d}=s;const _={command:"updateDocInfo",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,params:{data:d}};return this._ajsWorker.sendMessageToWorker(_)}getImageBuffer(s){let{pageNum:d,croppedBounds:_,unCroppedBounds:y,boundCheckTolerance:S=2,preserveTransform:T=!0}=s;const E={command:"getImageBuffer",viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,params:{pageNum:d,croppedBounds:_,unCroppedBounds:y,boundCheckTolerance:S,preserveTransform:T}};return this._ajsWorker.sendMessageToWorker(E)}verifyDigitalSignatures(s){let{certificateChainValidators:d=[]}=s;const _={command:re,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{certificateChainValidators:d}};return this._ajsWorker.sendMessageToWorker(_)}getFASFieldAppearance(s){let{pageNum:d,id:_,zoomLevel:y,enableOverprintSupport:S=!1}=s;const T={command:"getFASFieldAppearance",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,id:_,zoomLevel:y,enableOverprintSupport:S}};return this._ajsWorker.sendMessageToWorker(T)}getFASFields(s){let{pageNum:d}=s;const _={command:"getFASFields",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{pageNum:d}};return this._ajsWorker.sendMessageToWorker(_)}getOverprintType(s){let{pageNum:d}=s;const _={command:"getOverprintType",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{pageNum:d}};return this._ajsWorker.sendMessageToWorker(_)}createFASField(s){let{pageNum:d,data:_}=s;const y={command:"createFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{pageNum:d,data:_}};return this._ajsWorker.sendMessageToWorker(y)}deleteFASField(s){let{pageNum:d,id:_}=s;const y={command:"deleteFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{pageNum:d,id:_}};return this._ajsWorker.sendMessageToWorker(y)}updateFASField(s){let{pageNum:d,id:_,data:y}=s;const S={command:"updateFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{pageNum:d,id:_,data:y}};return this._ajsWorker.sendMessageToWorker(S)}getPagesScanStatus(s){let{startPageIndex:d,endPageIndex:_,ocrType:y}=s;const S={command:"getPagesScanStatus",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,params:{startPageIndex:d,endPageIndex:_,ocrType:y}};return this._ajsWorker.sendMessageToWorker(S)}isScannedDocument(){const s={command:"isScannedDocument",priority:arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,params:{}};return this._ajsWorker.sendMessageToWorker(s)}flattenFASFields(s){let{forceFlatten:d}=s;const _={command:"flattenFASFields",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:E,params:{forceFlatten:d}};return this._ajsWorker.sendMessageToWorker(_)}detectSignFields(s){let{startPage:d,numPages:_,detectAll:y=!1,enableLogging:S=!1}=s;const T={command:"detectSignFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{startPage:d,numPages:_,detectAll:y,enableLogging:S}};return this._ajsWorker.sendMessageToWorker(T)}getUpdatedBuffer(){let{decryptedBuffer:s=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const d=performance.now();return Promise.all(Array.from(this._pluginsMap.values()).map((s=>s.doPreSaveOperations?s.doPreSaveOperations():Promise.resolve({saveRequired:!1})))).then((_=>{const y=performance.now();if(window.TIME_TAKEN_IN_PRE_SAVE_OPS=y-d,-1!==_.findIndex((s=>!0===s.saveRequired))||s){const _={command:"saveChangesToPDF",priority:M,params:{decryptedBuffer:s}};return this._ajsWorker.sendMessageToWorker(_).then((()=>{const _=performance.now();return window.TOTAL_TIME_TAKEN_IN_SAVE=_-d,this._ajsWorker.getUpdatedPDF(s)}))}return this._ajsWorker.getUpdatedPDF()}))}getPageFontList(s){let{pageNum:d}=s;const _={command:"getPageFontList",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d}};return this._ajsWorker.sendMessageToWorker(_)}addFontForViewing(s){let{name:d,type:_,buffer:y}=s,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;const E=ArrayBuffer.isView(y)?y.buffer:y;if(!this._isValidArrayBuffer(E))return Promise.reject({error:ye.INVALID_BUFFER});const M={command:"addFontForViewing",viewState:S,priority:T,params:{name:d,type:_,buffer:E},transferList:[E]};return this._ajsWorker.sendMessageToWorker(M)}isFileQualifiedForLiquidMode(s){let{disqualificationMethod:d=ot.NORMAL,detectBarcodesCallback:_}=s;const y={command:ae,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{disqualificationMethod:d,detectBarcodesCallback:_}};return this._ajsWorker.sendMessageToWorker(y)}translateToLiquidModeView(s){let{fetchCNFTPDFUpdatesCallback:d,convertType1Fonts:_=!0}=s;const y={command:oe,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{convertType1Fonts:_}};return this._ajsWorker.getFTPDFWebViewHTMLStream(y,d)}getLiquidModeViewResource(s){let{resourceID:d,resourceURL:_}=s;const y={command:ce,params:{resourceID:d,resourceURL:_}};return this._ajsWorker.getLiquidModeViewResource(y)}getHtmlLocationForDocPoint(s){let{page:d,x:_,y}=s;const S={command:ue,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{page:d,x:_,y}};return this._ajsWorker.sendMessageToWorker(S)}getDocPointForHtmlLocation(s){let{elementID:d,offset:_}=s;const y={command:de,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{elementID:d,offset:_}};return this._ajsWorker.sendMessageToWorker(y)}convertToViewSpace(s){let{pageNum:d,x:_,y,scale:S=1}=s;if(!this._pageMatrices||0===this._pageMatrices.length)return;const T=this._pageMatrices[d-1]?this._pageMatrices[d-1]:this._pageMatrices[0];let E=T.a*_+T.c*y+T.e,M=T.b*_+T.d*y+T.f;return E=Math.round(E*S),M=Math.round(M*S),{x:E,y:M}}convertToPDFSpace(s){let{pageNum:d,x:_,y,scale:S=1}=s;if(!this._pageMatrices||0===this._pageMatrices.length)return;const T=this._pageMatrices[d-1]?this._pageMatrices[d-1]:this._pageMatrices[0],E=_/S,M=y/S,O=T.a*T.d-T.b*T.c;return{x:(T.d*E-T.c*M+T.c*T.f-T.d*T.e)/O,y:(T.a*M-T.b*E+T.b*T.e-T.a*T.f)/O}}clearMessageQueue(s){let{evtName:d}=s,_=function(s,d){if(null==s)return{};var _,y,S=function(s,d){if(null==s)return{};var _={};for(var y in s)if({}.hasOwnProperty.call(s,y)){if(d.includes(y))continue;_[y]=s[y]}return _}(s,d);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(s);for(y=0;y<T.length;y++)_=T[y],d.includes(_)||{}.propertyIsEnumerable.call(s,_)&&(S[_]=s[_])}return S}(s,ct);if(!Object.values(nt).includes(d))return Promise.reject();const y={command:"clearMessageQueue",params:Pr({evtName:d},_)};return this._ajsWorker.sendMessageToWorker(y)}createLinkAnnot(s){let{pageNum:d,data:_}=s;const y={command:"createLinkAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,data:_}};return this._ajsWorker.sendMessageToWorker(y)}editLinkAnnot(s){let{pageNum:d,id:_,data:y}=s;const S={command:pe,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,id:_,data:y}};return this._ajsWorker.sendMessageToWorker(S)}editLinkAnnots(s){let{links:d}=s,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return this._createBatchOfMessagesAndSendToWorker("editLinkAnnots",d,pe,_)}deleteLinkAnnot(s){let{pageNum:d,id:_}=s;const y={command:fe,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,id:_}};return this._ajsWorker.sendMessageToWorker(y)}deleteLinkAnnots(s){let{links:d}=s,_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E;return this._createBatchOfMessagesAndSendToWorker("deleteLinkAnnots",d,fe,_)}_isValidArrayBuffer(s){return s&&"object"==typeof s&&s instanceof ArrayBuffer}getLinkAnnots(s){let{pageNum:d,includeActions:_=!0,includeSignData:y=!1}=s;const S={command:"getLinkAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:E,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:d,includeActions:_,includeSignData:y}};return this._ajsWorker.sendMessageToWorker(S)}detectLanguage(s){let{text:d="",useDocAsFallback:_=!0}=s;const y={command:"detectLanguage",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{text:d,useDocAsFallback:_}};return this._ajsWorker.sendMessageToWorker(y)}getImageC2PAMetadata(s){let{imageBuffer:d,mimeType:_}=s;const y={command:"getImageC2PAMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:M,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{imageBuffer:d,mimeType:_}};return this._ajsWorker.sendMessageToWorker(y)}removeOffScreenCanvas(s){let{canvasId:d}=s;const _={command:"removeOffScreenCanvas",params:{canvasId:d}};return this._canvasMap.delete(d),this._ajsWorker.sendMessageToWorker(_)}_prepareTransformationMatrices(s){s.data&&s.data.pages&&(this._pageMatrices=[],s.data.pages.forEach((s=>{const[d,_,y,S]=s.boxes.cropBox;let T;switch(s.rotation){case 270:T={a:0,b:-1,c:-1,d:0,e:S,f:y};break;case 180:T={a:-1,b:0,c:0,d:1,e:y,f:-_};break;case 90:T={a:0,b:1,c:1,d:0,e:-_,f:-d};break;default:T={a:1,b:0,c:0,d:-1,e:-d,f:S}}this._pageMatrices.push(T)})))}}Object.defineProperty(Tr,"PageRequestType",{value:ke,writable:!1}),Object.defineProperty(Tr,"AnnotType",{value:Ie,writable:!1}),Object.defineProperty(Tr,"Permissions",{value:Ne,writable:!1}),Object.defineProperty(Tr,"ContentType",{value:We,writable:!1}),Object.defineProperty(Tr,"KeyboardNavigationDirection",{value:it,writable:!1}),Object.defineProperty(Tr,"KeyboardNavigationShortcut",{value:st,writable:!1});var lt=Tr;class Ar{fetchPassword(){throw Error("method not overriden")}}class Mr{name(){throw Error("Method not overridden!")}validate(s){throw Error("Method not overridden!")}}}])},uY7Q:(s,d,_)=>{s=_.nmd(s);var y="__lodash_hash_undefined__",S=9007199254740991,T="[object Arguments]",E="[object AsyncFunction]",M="[object Function]",O="[object GeneratorFunction]",q="[object Null]",ee="[object Object]",te="[object Proxy]",re="[object Undefined]",ne=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,se={};se["[object Float32Array]"]=se["[object Float64Array]"]=se["[object Int8Array]"]=se["[object Int16Array]"]=se["[object Int32Array]"]=se["[object Uint8Array]"]=se["[object Uint8ClampedArray]"]=se["[object Uint16Array]"]=se["[object Uint32Array]"]=!0,se[T]=se["[object Array]"]=se["[object ArrayBuffer]"]=se["[object Boolean]"]=se["[object DataView]"]=se["[object Date]"]=se["[object Error]"]=se[M]=se["[object Map]"]=se["[object Number]"]=se[ee]=se["[object RegExp]"]=se["[object Set]"]=se["[object String]"]=se["[object WeakMap]"]=!1;var ae="object"==typeof _.g&&_.g&&_.g.Object===Object&&_.g,oe="object"==typeof self&&self&&self.Object===Object&&self,ce=ae||oe||Function("return this")(),le=d&&!d.nodeType&&d,ue=le&&s&&!s.nodeType&&s,de=ue&&ue.exports===le,he=de&&ae.process,pe=function(){try{var s=ue&&ue.require&&ue.require("util").types;return s||he&&he.binding&&he.binding("util")}catch(s){}}(),fe=pe&&pe.isTypedArray;var ge,me=Array.prototype,ve=Function.prototype,we=Object.prototype,be=ce["__core-js_shared__"],ye=ve.toString,ke=we.hasOwnProperty,Ie=(ge=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||""))?"Symbol(src)_1."+ge:"",Ne=we.toString,We=ye.call(Object),Ue=RegExp("^"+ye.call(ke).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Be=de?ce.Buffer:void 0,qe=ce.Symbol,ze=ce.Uint8Array,He=Be?Be.allocUnsafe:void 0,Ge=function overArg(s,d){return function(_){return s(d(_))}}(Object.getPrototypeOf,Object),Je=Object.create,Ve=we.propertyIsEnumerable,$e=me.splice,Ke=qe?qe.toStringTag:void 0,Xe=function(){try{var s=getNative(Object,"defineProperty");return s({},"",{}),s}catch(s){}}(),Ye=Be?Be.isBuffer:void 0,Ze=Math.max,Qe=Date.now,et=getNative(ce,"Map"),tt=getNative(Object,"create"),rt=function(){function object(){}return function(s){if(!isObject(s))return{};if(Je)return Je(s);object.prototype=s;var d=new object;return object.prototype=void 0,d}}();function Hash(s){var d=-1,_=null==s?0:s.length;for(this.clear();++d<_;){var y=s[d];this.set(y[0],y[1])}}function ListCache(s){var d=-1,_=null==s?0:s.length;for(this.clear();++d<_;){var y=s[d];this.set(y[0],y[1])}}function MapCache(s){var d=-1,_=null==s?0:s.length;for(this.clear();++d<_;){var y=s[d];this.set(y[0],y[1])}}function Stack(s){var d=this.__data__=new ListCache(s);this.size=d.size}function arrayLikeKeys(s,d){var _=ot(s),y=!_&&st(s),S=!_&&!y&&ct(s),T=!_&&!y&&!S&&lt(s),E=_||y||S||T,M=E?function baseTimes(s,d){for(var _=-1,y=Array(s);++_<s;)y[_]=d(_);return y}(s.length,String):[],O=M.length;for(var q in s)!d&&!ke.call(s,q)||E&&("length"==q||S&&("offset"==q||"parent"==q)||T&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||isIndex(q,O))||M.push(q);return M}function assignMergeValue(s,d,_){(void 0!==_&&!eq(s[d],_)||void 0===_&&!(d in s))&&baseAssignValue(s,d,_)}function assignValue(s,d,_){var y=s[d];ke.call(s,d)&&eq(y,_)&&(void 0!==_||d in s)||baseAssignValue(s,d,_)}function assocIndexOf(s,d){for(var _=s.length;_--;)if(eq(s[_][0],d))return _;return-1}function baseAssignValue(s,d,_){"__proto__"==d&&Xe?Xe(s,d,{configurable:!0,enumerable:!0,value:_,writable:!0}):s[d]=_}Hash.prototype.clear=function hashClear(){this.__data__=tt?tt(null):{},this.size=0},Hash.prototype.delete=function hashDelete(s){var d=this.has(s)&&delete this.__data__[s];return this.size-=d?1:0,d},Hash.prototype.get=function hashGet(s){var d=this.__data__;if(tt){var _=d[s];return _===y?void 0:_}return ke.call(d,s)?d[s]:void 0},Hash.prototype.has=function hashHas(s){var d=this.__data__;return tt?void 0!==d[s]:ke.call(d,s)},Hash.prototype.set=function hashSet(s,d){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=tt&&void 0===d?y:d,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(s){var d=this.__data__,_=assocIndexOf(d,s);return!(_<0)&&(_==d.length-1?d.pop():$e.call(d,_,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(s){var d=this.__data__,_=assocIndexOf(d,s);return _<0?void 0:d[_][1]},ListCache.prototype.has=function listCacheHas(s){return assocIndexOf(this.__data__,s)>-1},ListCache.prototype.set=function listCacheSet(s,d){var _=this.__data__,y=assocIndexOf(_,s);return y<0?(++this.size,_.push([s,d])):_[y][1]=d,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(et||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(s){var d=getMapData(this,s).delete(s);return this.size-=d?1:0,d},MapCache.prototype.get=function mapCacheGet(s){return getMapData(this,s).get(s)},MapCache.prototype.has=function mapCacheHas(s){return getMapData(this,s).has(s)},MapCache.prototype.set=function mapCacheSet(s,d){var _=getMapData(this,s),y=_.size;return _.set(s,d),this.size+=_.size==y?0:1,this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(s){var d=this.__data__,_=d.delete(s);return this.size=d.size,_},Stack.prototype.get=function stackGet(s){return this.__data__.get(s)},Stack.prototype.has=function stackHas(s){return this.__data__.has(s)},Stack.prototype.set=function stackSet(s,d){var _=this.__data__;if(_ instanceof ListCache){var y=_.__data__;if(!et||y.length<199)return y.push([s,d]),this.size=++_.size,this;_=this.__data__=new MapCache(y)}return _.set(s,d),this.size=_.size,this};var nt=function createBaseFor(s){return function(d,_,y){for(var S=-1,T=Object(d),E=y(d),M=E.length;M--;){var O=E[s?M:++S];if(!1===_(T[O],O,T))break}return d}}();function baseGetTag(s){return null==s?void 0===s?re:q:Ke&&Ke in Object(s)?function getRawTag(s){var d=ke.call(s,Ke),_=s[Ke];try{s[Ke]=void 0;var y=!0}catch(s){}var S=Ne.call(s);y&&(d?s[Ke]=_:delete s[Ke]);return S}(s):function objectToString(s){return Ne.call(s)}(s)}function baseIsArguments(s){return isObjectLike(s)&&baseGetTag(s)==T}function baseIsNative(s){return!(!isObject(s)||function isMasked(s){return!!Ie&&Ie in s}(s))&&(isFunction(s)?Ue:ne).test(function toSource(s){if(null!=s){try{return ye.call(s)}catch(s){}try{return s+""}catch(s){}}return""}(s))}function baseKeysIn(s){if(!isObject(s))return function nativeKeysIn(s){var d=[];if(null!=s)for(var _ in Object(s))d.push(_);return d}(s);var d=isPrototype(s),_=[];for(var y in s)("constructor"!=y||!d&&ke.call(s,y))&&_.push(y);return _}function baseMerge(s,d,_,y,S){s!==d&&nt(d,(function(T,E){if(S||(S=new Stack),isObject(T))!function baseMergeDeep(s,d,_,y,S,T,E){var M=safeGet(s,_),O=safeGet(d,_),q=E.get(O);if(q)return void assignMergeValue(s,_,q);var te=T?T(M,O,_+"",s,d,E):void 0,re=void 0===te;if(re){var ne=ot(O),ie=!ne&&ct(O),se=!ne&&!ie&&lt(O);te=O,ne||ie||se?ot(M)?te=M:!function isArrayLikeObject(s){return isObjectLike(s)&&isArrayLike(s)}(M)?ie?(re=!1,te=function cloneBuffer(s,d){if(d)return s.slice();var _=s.length,y=He?He(_):new s.constructor(_);return s.copy(y),y}(O,!0)):se?(re=!1,te=function cloneTypedArray(s,d){var _=d?function cloneArrayBuffer(s){var d=new s.constructor(s.byteLength);return new ze(d).set(new ze(s)),d}(s.buffer):s.buffer;return new s.constructor(_,s.byteOffset,s.length)}(O,!0)):te=[]:te=function copyArray(s,d){var _=-1,y=s.length;d||(d=Array(y));for(;++_<y;)d[_]=s[_];return d}(M):function isPlainObject(s){if(!isObjectLike(s)||baseGetTag(s)!=ee)return!1;var d=Ge(s);if(null===d)return!0;var _=ke.call(d,"constructor")&&d.constructor;return"function"==typeof _&&_ instanceof _&&ye.call(_)==We}(O)||st(O)?(te=M,st(M)?te=function toPlainObject(s){return function copyObject(s,d,_,y){var S=!_;_||(_={});var T=-1,E=d.length;for(;++T<E;){var M=d[T],O=y?y(_[M],s[M],M,_,s):void 0;void 0===O&&(O=s[M]),S?baseAssignValue(_,M,O):assignValue(_,M,O)}return _}(s,keysIn(s))}(M):isObject(M)&&!isFunction(M)||(te=function initCloneObject(s){return"function"!=typeof s.constructor||isPrototype(s)?{}:rt(Ge(s))}(O))):re=!1}re&&(E.set(O,te),S(te,O,y,T,E),E.delete(O));assignMergeValue(s,_,te)}(s,d,E,_,baseMerge,y,S);else{var M=y?y(safeGet(s,E),T,E+"",s,d,S):void 0;void 0===M&&(M=T),assignMergeValue(s,E,M)}}),keysIn)}function baseRest(s,d){return it(function overRest(s,d,_){return d=Ze(void 0===d?s.length-1:d,0),function(){for(var y=arguments,S=-1,T=Ze(y.length-d,0),E=Array(T);++S<T;)E[S]=y[d+S];S=-1;for(var M=Array(d+1);++S<d;)M[S]=y[S];return M[d]=_(E),function apply(s,d,_){switch(_.length){case 0:return s.call(d);case 1:return s.call(d,_[0]);case 2:return s.call(d,_[0],_[1]);case 3:return s.call(d,_[0],_[1],_[2])}return s.apply(d,_)}(s,this,M)}}(s,d,identity),s+"")}function getMapData(s,d){var _=s.__data__;return function isKeyable(s){var d=typeof s;return"string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==s:null===s}(d)?_["string"==typeof d?"string":"hash"]:_.map}function getNative(s,d){var _=function getValue(s,d){return null==s?void 0:s[d]}(s,d);return baseIsNative(_)?_:void 0}function isIndex(s,d){var _=typeof s;return!!(d=null==d?S:d)&&("number"==_||"symbol"!=_&&ie.test(s))&&s>-1&&s%1==0&&s<d}function isPrototype(s){var d=s&&s.constructor;return s===("function"==typeof d&&d.prototype||we)}function safeGet(s,d){if(("constructor"!==d||"function"!=typeof s[d])&&"__proto__"!=d)return s[d]}var it=function shortOut(s){var d=0,_=0;return function(){var y=Qe(),S=16-(y-_);if(_=y,S>0){if(++d>=800)return arguments[0]}else d=0;return s.apply(void 0,arguments)}}(Xe?function(s,d){return Xe(s,"toString",{configurable:!0,enumerable:!1,value:(_=d,function(){return _}),writable:!0});var _}:identity);function eq(s,d){return s===d||s!=s&&d!=d}var st=baseIsArguments(function(){return arguments}())?baseIsArguments:function(s){return isObjectLike(s)&&ke.call(s,"callee")&&!Ve.call(s,"callee")},ot=Array.isArray;function isArrayLike(s){return null!=s&&isLength(s.length)&&!isFunction(s)}var ct=Ye||function stubFalse(){return!1};function isFunction(s){if(!isObject(s))return!1;var d=baseGetTag(s);return d==M||d==O||d==E||d==te}function isLength(s){return"number"==typeof s&&s>-1&&s%1==0&&s<=S}function isObject(s){var d=typeof s;return null!=s&&("object"==d||"function"==d)}function isObjectLike(s){return null!=s&&"object"==typeof s}var lt=fe?function baseUnary(s){return function(d){return s(d)}}(fe):function baseIsTypedArray(s){return isObjectLike(s)&&isLength(s.length)&&!!se[baseGetTag(s)]};function keysIn(s){return isArrayLike(s)?arrayLikeKeys(s,!0):baseKeysIn(s)}var ut=function createAssigner(s){return baseRest((function(d,_){var y=-1,S=_.length,T=S>1?_[S-1]:void 0,E=S>2?_[2]:void 0;for(T=s.length>3&&"function"==typeof T?(S--,T):void 0,E&&function isIterateeCall(s,d,_){if(!isObject(_))return!1;var y=typeof d;if("number"==y?isArrayLike(_)&&isIndex(d,_.length):"string"==y&&d in _)return eq(_[d],s);return!1}(_[0],_[1],E)&&(T=S<3?void 0:T,S=1),d=Object(d);++y<S;){var M=_[y];M&&s(d,M,y,T)}return d}))}((function(s,d,_){baseMerge(s,d,_)}));function identity(s){return s}s.exports=ut},"0VNB":(s,d,_)=>{var y=_("5qvf"),S=_("bF6B"),T=S;T.v1=y,T.v4=S,s.exports=T},"2a4/":s=>{for(var d=[],_=0;_<256;++_)d[_]=(_+256).toString(16).substr(1);s.exports=function bytesToUuid(s,_){var y=_||0,S=d;return[S[s[y++]],S[s[y++]],S[s[y++]],S[s[y++]],"-",S[s[y++]],S[s[y++]],"-",S[s[y++]],S[s[y++]],"-",S[s[y++]],S[s[y++]],"-",S[s[y++]],S[s[y++]],S[s[y++]],S[s[y++]],S[s[y++]],S[s[y++]]].join("")}},JTTR:s=>{var d="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(d){var _=new Uint8Array(16);s.exports=function whatwgRNG(){return d(_),_}}else{var y=new Array(16);s.exports=function mathRNG(){for(var s,d=0;d<16;d++)0==(3&d)&&(s=4294967296*Math.random()),y[d]=s>>>((3&d)<<3)&255;return y}}},"5qvf":(s,d,_)=>{var y,S,T=_("JTTR"),E=_("2a4/"),M=0,O=0;s.exports=function v1(s,d,_){var q=d&&_||0,ee=d||[],te=(s=s||{}).node||y,re=void 0!==s.clockseq?s.clockseq:S;if(null==te||null==re){var ne=T();null==te&&(te=y=[1|ne[0],ne[1],ne[2],ne[3],ne[4],ne[5]]),null==re&&(re=S=16383&(ne[6]<<8|ne[7]))}var ie=void 0!==s.msecs?s.msecs:(new Date).getTime(),se=void 0!==s.nsecs?s.nsecs:O+1,ae=ie-M+(se-O)/1e4;if(ae<0&&void 0===s.clockseq&&(re=re+1&16383),(ae<0||ie>M)&&void 0===s.nsecs&&(se=0),se>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");M=ie,O=se,S=re;var oe=(1e4*(268435455&(ie+=122192928e5))+se)%4294967296;ee[q++]=oe>>>24&255,ee[q++]=oe>>>16&255,ee[q++]=oe>>>8&255,ee[q++]=255&oe;var ce=ie/4294967296*1e4&268435455;ee[q++]=ce>>>8&255,ee[q++]=255&ce,ee[q++]=ce>>>24&15|16,ee[q++]=ce>>>16&255,ee[q++]=re>>>8|128,ee[q++]=255&re;for(var le=0;le<6;++le)ee[q+le]=te[le];return d||E(ee)}},bF6B:(s,d,_)=>{var y=_("JTTR"),S=_("2a4/");s.exports=function v4(s,d,_){var T=d&&_||0;"string"==typeof s&&(d="binary"===s?new Array(16):null,s=null);var E=(s=s||{}).random||(s.rng||y)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,d)for(var M=0;M<16;++M)d[T+M]=E[M];return d||S(E)}},Kq49:(s,d,_)=>{"use strict";_.d(d,{Z:()=>AcrobatJSInstanceHandler});var y=_("0VNB"),S=_.n(y),T=_("sR8A"),E=_("plsW"),M=_("ibkQ"),O=_("RbXz");class DoublyLinkedNode{constructor(s){this._value=s,this._previousNode=null,this._nextNode=null}get value(){return this._value}get previousNode(){return this._previousNode}set previousNode(s){this._previousNode=s}get nextNode(){return this._nextNode}set nextNode(s){this._nextNode=s}unlink(){this._previousNode=null,this._nextNode=null}}class DoublyLinkedList{constructor(){this._headNode=null,this._tailNode=null,this._countNodes=0}get headNode(){return this._headNode}get tailNode(){return this._tailNode}nodeCount(){return this._countNodes}append(s){s instanceof DoublyLinkedNode&&(0===this._countNodes?(this._headNode=s,this._tailNode=s):(this._tailNode.nextNode=s,s.previousNode=this._tailNode,this._tailNode=s),this._countNodes+=1)}moveToFront(s){s instanceof DoublyLinkedNode&&this._headNode!==s&&this.remove(s)&&(s.nextNode=this._headNode,this._headNode.previousNode=s,this._headNode=s,this._countNodes+=1)}remove(s){if(!(s instanceof DoublyLinkedNode))return null;if(1===this._countNodes&&this._headNode===s)this._tailNode=null,this._headNode=null;else if(s===this._headNode)this._headNode=this._headNode.nextNode,this._headNode.previousNode=null;else if(s===this._tailNode)this._tailNode=this._tailNode.previousNode,this._tailNode.nextNode=null;else{if(!s.nextNode||!s.previousNode)return null;s.previousNode.nextNode=s.nextNode,s.nextNode.previousNode=s.previousNode}return s.unlink(),this._countNodes-=1,s}front(){return this.isEmpty()?null:this.remove(this._headNode)}isEmpty(){return null===this._headNode}}class AwaitQueue{constructor(){this.addResourceRequest=()=>new Promise((s=>{this._awaitQueue.append(new DoublyLinkedNode((()=>{s()})))})),this.hasPendingRequest=()=>!this._awaitQueue.isEmpty(),this.executeRequest=()=>{if(this.hasPendingRequest()){(0,this._awaitQueue.front().value)()}},this._awaitQueue=new DoublyLinkedList}}var q=_("6Wbc"),ee=_("o2TZ");class AcrobatJSInstanceNode{constructor(s){this._state=q.zI.ACTIVE,this._ajsInstance=s,this._ajsInstanceParameters=null,this._editPluginLoaded=!1}get ajsInstance(){return this._ajsInstance}get state(){return this._state}set state(s){this._state=s}get ajsInstanceParameters(){return this._ajsInstanceParameters}set ajsInstanceParameters(s){this._ajsInstanceParameters=s}get editPluginLoaded(){return this._editPluginLoaded}set editPluginLoaded(s){this._editPluginLoaded=s}deactivate(){this._state!==q.zI.CACHED&&(this._ajsInstance.terminate(),this._ajsInstance=null,this._state=q.zI.CACHED)}terminate(){this._ajsInstanceParameters=null,this.deactivate()}}class AcrobatJSInstanceHandler{constructor(s){this.has=s=>this._activeNodeMap.has(s)||this._inactiveNodeMap.has(s),this.activeAcrobatJSInstanceCount=()=>this._activeNodeMap.size,this.isFull=()=>this.activeAcrobatJSInstanceCount()>=this._maxActiveAJSinstanceLimit||this._instanceCreationRequestCount>=this._maxActiveAJSinstanceLimit,this.checkInstanceState=(s,d)=>{if(this.has(s)){return this._getAcrobatJSInstanceNode(s).state===d}return!1},this._getAcrobatJSInstanceNode=s=>this.has(s)?this._activeNodeMap.get(s)||this._inactiveNodeMap.get(s):null,this.getAcrobatJSInstance=s=>{if(this._activeNodeMap.has(s)){const d=this._getAcrobatJSInstanceNode(s);return d.state=q.zI.ACTIVE,d.ajsInstance}return null},this.getAcrobatJSInstanceParameters=s=>{var d;return null===(d=this._getAcrobatJSInstanceNode(s))||void 0===d?void 0:d.ajsInstanceParameters},this._add=(s,d)=>{this.checkInstanceState(s,q.zI.CACHED)&&this.erase(s),this._activeNodeMap.set(s,new AcrobatJSInstanceNode(d)),this._activeNodeMap.size>this._maxActiveAJSinstanceLimit&&(0,M.Kz)("Active AcrobatJS instance count exceeds limit")},this.setOpenPDFParameters=(s,d)=>{if(this.has(s)){const _=this._getAcrobatJSInstanceNode(s);_.ajsInstanceParameters={..._.ajsInstanceParameters,openPdfParams:d}}},this._evictAjsInstance=s=>{if(this._getAcrobatJSInstanceNode(s).editPluginLoaded||this.checkInstanceState(s,q.zI.CACHED))return!1;const d=this._getAcrobatJSInstanceNode(s);return this._inactiveNodeMap.set(s,d),this._activeNodeMap.delete(s),d.deactivate(),!0},this.erase=s=>{const d=this._getAcrobatJSInstanceNode(s);d&&(this.checkInstanceState(s,q.zI.CACHED)?this._inactiveNodeMap.delete(s):this._activeNodeMap.delete(s),d.terminate()),this.isFull()||this._workerAwaitQueue.executeRequest(),this._activeNodeMap.size||this._inactiveNodeMap.size||((0,M.Kz)("AcrobatJS provider usage stats",{filesOpened:this._filesOpened,instancesCreated:this._instancesCreated}),this._filesOpened=0,this._instancesCreated=0)},this._enableAJSLogging=s.enableAJSLogging,this._useAJSFullBuild=s.useAJSFullBuild,this._exposedAPIs=s.exposedAPIs,this._instanceCreationRequestCount=0,this._activeNodeMap=new Map,this._inactiveNodeMap=new Map,this._workerAwaitQueue=new AwaitQueue,this._filesOpened=0,this._instancesCreated=0,this._maxActiveAJSinstanceLimit=s.maxActiveAJSinstanceLimit||q.U_}setEditPluginLoaded(s,d){this.has(s)&&(this._getAcrobatJSInstanceNode(s).editPluginLoaded=d)}_onAjsEventForProvider(s,d){if("workerIdle"===d){if(this._getAcrobatJSInstanceNode(s).editPluginLoaded)return;this._getAcrobatJSInstanceNode(s).state=q.zI.IDLE,this._workerAwaitQueue.hasPendingRequest()&&this._evictAjsInstance(s)&&this._workerAwaitQueue.executeRequest()}}_ajsInit(s,d,_){var y=this;return s.subscribe((function(){for(var s=arguments.length,_=new Array(s),S=0;S<s;S++)_[S]=arguments[S];return y._onAjsEventForProvider(d,..._)})),_&&s.subscribe(_),s.init()}_tryEvictingAnIdleInstance(){return Array.from(this._activeNodeMap).some((s=>{let[d,_]=s;return!(_.state!==q.zI.IDLE||!this._evictAjsInstance(d))}))}async _getAcrobatJSWorker(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const d={ajsPath:(0,O.lO)(),apiTrackingInfo:{enabled:!0,trackList:this._exposedAPIs},enableLogging:this._enableAJSLogging,useFullBuild:this._useAJSFullBuild,hostEnv:E.envUtil.getHostEnv(),enableWasmExceptions:(0,ee.A)(),...s};return new T.AcrobatJS({...d})}async createAcrobatJSInstance(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0;this.isFull()&&!this._tryEvictingAnIdleInstance()&&(s.forceEvict?Array.from(this._activeNodeMap).some((s=>{let[d]=s;return this._evictAjsInstance(d)})):await this._workerAwaitQueue.addResourceRequest()),this._instanceCreationRequestCount+=1;const{openPdfParams:_,ajsInstanceParams:y}=s,T=d||S().v4(),E=await this._getAcrobatJSWorker(s.ajsConfig);if(this._add(T,E),this._instanceCreationRequestCount-=1,this._instancesCreated+=1,!d){this._filesOpened+=1;this._getAcrobatJSInstanceNode(T).ajsInstanceParameters={openPdfParams:_,ajsInstanceParams:y}}const O=performance.now();return this._ajsInit(E,T,s.onAjsEvent).then((()=>((0,M.Kz)("AcrobatJS instance created",{instanceInitTime:performance.now()-O}),T))).catch((s=>((0,M.Kz)("AcrobatJS instance init error: ",s),this.erase(T),Promise.reject(s))))}}},"6Wbc":(s,d,_)=>{"use strict";_.d(d,{IH:()=>E,Mq:()=>T,Sg:()=>O,U_:()=>y,n5:()=>q,vV:()=>M,zI:()=>S});const y=5,S=Object.freeze({CACHED:0,ACTIVE:1,IDLE:2}),T=new Set([]),E=new Set(["organizeWillBegin","insertPages","insertBlankPage","deletePages","reorderPages","rotatePages","extractPages","organizeDidEnd"]),M=new Set(["isScannedDocument","detectLanguage","getAnnots","extractPageText","detectSignFields"]),O=Object.freeze({INVALID_INTENT:"Intent Is Invalid",FETCH_TOKEN_FAILURE:"Fetch Token Failure",UNKNOWN_ERROR:"Unknown Error"}),q=10},ibkQ:(s,d,_)=>{"use strict";_.d(d,{Ev:()=>setDocumentId,Kz:()=>logEvent,Qf:()=>addFieldsToCommonLogging});const y=_("plsW").logging.getLogger("dc-rendition-provider");let S=!1;const T=document.querySelectorAll("meta[name^=adobe_external]");T&&(S=!T[0]||!T[0].content);let E="",M={sessionId:window.dcWebSessionId,userAgent:navigator.userAgent,isAdobeNetworkUser:S};function setDocumentId(s){E=s}function addFieldsToCommonLogging(s){M={...M,...s}}const logEvent=(s,d)=>{y.emit(s,{...d,...M,docSessionId:window.docSessionId,documentId:E})}},"4DGF":(s,d,_)=>{"use strict";_.d(d,{$5:()=>isIOS18,_Z:()=>isSafari18,un:()=>isEdge,w1:()=>isIE});const isEdge=()=>/Edge/.test(navigator.userAgent),isIE=()=>!!document.documentMode,isSafari18=()=>{const s=navigator.userAgent,d=/Safari/.test(s)&&!/(Chrome|Chromium|Edg)/.test(s),_=s.match(/Version\/(\d+)/);if(d&&_){return 18===parseInt(_[1],10)}return!1},isIOS18=()=>{const s=navigator.userAgent,d=/iPhone|iPad|iPod/.test(s),_=s.match(/OS (\d+)_/);if(d&&_){return 18===parseInt(_[1],10)}return!1}},RbXz:(s,d,_)=>{"use strict";_.d(d,{ZQ:()=>getScriptSrc,ir:()=>getOriginFromUrl,lO:()=>getAjsPath});var y=_("zSZc");const getOriginFromUrl=s=>{const d=document.createElement("a");return d.href=s,`${d.protocol}//${d.hostname}${d.port?`:${d.port}`:""}`},getScriptSrc=s=>{const d=[...document.scripts].find((d=>-1!==d.src.indexOf(s)));return null==d?void 0:d.src},getAjsPath=()=>{const s=getScriptSrc(y.Xy),d=/\/(\d+\.\d+\.\d+_)?\d+\.\d+\.\d+\/rendition\.js$/.exec(s);let _=s;return _=d?`${s.substring(0,d.index+1)}AJS/`:s?`${s.replace(y.Xy,"")}AJS/`:"",_}},zSZc:(s,d,_)=>{"use strict";_.d(d,{$j:()=>ce,$l:()=>ue,Bq:()=>te,D$:()=>oe,GN:()=>T,H3:()=>le,Ho:()=>M,KY:()=>q,Lo:()=>de,VL:()=>S,W1:()=>ne,Wb:()=>O,Xq:()=>fe,Xy:()=>y,_U:()=>re,aK:()=>we,aY:()=>ie,bC:()=>ve,dA:()=>ge,hj:()=>ae,iO:()=>E,im:()=>he,rg:()=>se,u3:()=>pe,yq:()=>me,z1:()=>ee});const y="rendition.js",S="/review",T="/parcel",E="/external",M="/sign",O="/pdfnow",q=["/onedrive","/sharepoint","/gdrive","/local"],ee=Object.freeze({"/onedrive":"OneDrive","/sharepoint":"SharePoint","/gdrive":"GDrive","/local":"Local"}),te=10,re=5,ne=30,ie=10,se=1e3,ae=1500,oe=500,ce=Object.freeze({S3:"S3",DCAPI:"DCAPI",NONE:"NONE"}),le=1,ue=Object.freeze({PDF_DOWNLOAD_URI_START:"pdfDownloadUriStartTime",PDF_DOWNLOAD_URI_END:"pdfDownloadUriEndTime",PDF_DOWNLOAD_START:"pdfDownloadStartTime",PDF_DOWNLOAD_END:"pdfDownloadEndTime",DCAPI_INIT:"dcapiInit",DCAPI_LOADED:"dcapiLoaded",WASM_SPLIT_FLOODGATE_START:"wasmSplitFloodgateStart",WASM_SPLIT_FLOODGATE_END:"wasmSplitFloodgateEnd",CACHED_RENDITION_RETURNED:"cachedRenditionReturned",CACHED_RENDITION:"cachedRendition"}),de=Object.freeze({AdobeSignValidator:"AdobeSignCertificateValidator",ExternalValidator:"ExternalCertificateValidator"}),he=Object.freeze({valid:"VALID",invalid:"INVALID",unknown:"UNKNOWN"}),pe=Object.freeze({currentTime:"currentTime",signingTime:"signingTime"}),fe=Object.freeze({AATL:"AATL",EUTL:"EUTL",OS:"OS"}),ge=Object.freeze({tooManyRequests:"TooManyRequests",gatewayTimeout:"GatewayTimeout",internalServerError:"InternalServerError",apiTimeoutError:"APITimeoutError",unknownError:"UnknownError"}),me="defaultAJSInstance",ve=10,we="anonymous_user"},GNuk:(s,d,_)=>{"use strict";_.d(d,{v:()=>getQueryParams});const getQueryParams=s=>{const d={};let _,y;const S=(s||window.location.search).substr(1).split("&");if(""!==S)for(_=0;_<S.length;_+=1)y=S[_].split("="),2===y.length&&(d[y[0]]=decodeURIComponent(y[1].replace(/\+/g," ")));return d}},"6mnL":(s,d,_)=>{"use strict";_.d(d,{Z:()=>SecurityHandler});var y=_("sR8A");class SecurityHandler extends y.AcrobatJSSecurityHandler{constructor(s){super(),s.fetchPasswordCallback&&(this.fetchPassword=s.fetchPasswordCallback)}}},GTUu:(s,d,_)=>{"use strict";_.d(d,{Xh:()=>cloneDeep,Xm:()=>canDoOrganize,gw:()=>delay,vz:()=>getVariablesFromQueryParams,xN:()=>preloadAsset});var y=_("6Wbc");const cloneDeep=s=>JSON.parse(JSON.stringify(s)),delay=async s=>new Promise((d=>setTimeout(d,s))),getVariablesFromQueryParams=s=>{const d={useDCAPI:{transform:s=>"false"!==s},enableAJSLogging:{transform:s=>"true"===s},useAJSFullBuild:{transform:s=>"true"===s},useProgressiveRendering:{transform:s=>"true"===s},ajsExceptionSupport:{transform:s=>s},ajsSplitWasm:{transform:s=>"true"===s}},_={};return Object.keys(d).forEach((y=>{y in s&&(_[y]=d[y].transform(s[y]))})),_},canDoOrganize=async function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const d={isSupported:!0,reason:{}},{isXFA:_,isPortfolio:S,isEncrypted:T,permissions:E,hasDigitalSignatures:M,hasAcroFormDict:O,hasSignMetadata:q,hasAcroFormFields:ee}=s;if(_||S||T||M||O){const s=1===((s,d)=>s>>>d&1)(E,y.n5);d.isSupported=!1,_&&(d.reason.isXFA=!0),S&&(d.reason.isPortfolio=!0),T&&(d.reason.isEncrypted=!0,d.reason.isDocumentAssemblyAllowed=s),M&&(d.reason.hasDigitalSignatures=!0,d.reason.isDocumentAssemblyAllowed=s),O&&(d.reason.hasAcroFormDict=!0),q&&(d.reason.hasSignMetadata=!0),ee&&(d.reason.hasAcroFormFields=!0)}return d},preloadAsset=function(s){let d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script";if(document.head.querySelector(`link[href="${s}"][rel="preload"]`))return;const _=document.createElement("link");_.href=s,_.as=d,_.rel="preload",document.head.appendChild(_)}},o2TZ:(s,d,_)=>{"use strict";_.d(d,{$:()=>preloadSecondaryWasm,A:()=>shouldEnableWasmExceptions});var y=_("GNuk"),S=_("GTUu"),T=_("RbXz"),E=_("ibkQ"),M=_("4DGF");const shouldEnableWasmExceptions=()=>{const s=(0,y.v)(),d=(0,S.vz)(s);let _=!0;return WebAssembly&&WebAssembly.Exception?d.ajsExceptionSupport&&(_="wasm"===d.ajsExceptionSupport):_=!1,((0,M._Z)()||(0,M.$5)())&&(_=!1),(0,E.Qf)({enableWasmExceptions:_}),_},preloadSecondaryWasm=()=>{const s=`${(0,T.lO)()}build/wasm_acrobat_we_sp.deferred.wasm`;(0,S.xN)(s,"fetch")}},sdTo:(s,d,_)=>{s.exports=_("2pFd")("WOwn")},"4PKp":(s,d,_)=>{s.exports=_("2pFd")("bfRH")},plsW:(s,d,_)=>{s.exports=_("2pFd")("o4sN")},"2pFd":s=>{"use strict";s.exports=window.adobe_dc_sdk["dc-core"]}},y={};function __webpack_require__(s){var d=y[s];if(void 0!==d)return d.exports;var S=y[s]={id:s,loaded:!1,exports:{}};return _[s](S,S.exports,__webpack_require__),S.loaded=!0,S.exports}__webpack_require__.m=_,__webpack_require__.n=s=>{var d=s&&s.__esModule?()=>s.default:()=>s;return __webpack_require__.d(d,{a:d}),d},__webpack_require__.d=(s,d)=>{for(var _ in d)__webpack_require__.o(d,_)&&!__webpack_require__.o(s,_)&&Object.defineProperty(s,_,{enumerable:!0,get:d[_]})},__webpack_require__.f={},__webpack_require__.e=s=>Promise.all(Object.keys(__webpack_require__.f).reduce(((d,_)=>(__webpack_require__.f[_](s,d),d)),[])),__webpack_require__.u=s=>({90:"ajsProvider",611:"fontHelper"}[s]+"-chunk.js"),__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"==typeof window)return window}}(),__webpack_require__.o=(s,d)=>Object.prototype.hasOwnProperty.call(s,d),s={},d="adobe_dc_sdk.components.rendition:",__webpack_require__.l=(_,y,S,T)=>{if(s[_])s[_].push(y);else{var E,M;if(void 0!==S)for(var O=document.getElementsByTagName("script"),q=0;q<O.length;q++){var ee=O[q];if(ee.getAttribute("src")==_||ee.getAttribute("data-webpack")==d+S){E=ee;break}}E||(M=!0,(E=document.createElement("script")).charset="utf-8",E.timeout=120,__webpack_require__.nc&&E.setAttribute("nonce",__webpack_require__.nc),E.setAttribute("data-webpack",d+S),E.src=_),s[_]=[y];var onScriptComplete=(d,y)=>{E.onerror=E.onload=null,clearTimeout(te);var S=s[_];if(delete s[_],E.parentNode&&E.parentNode.removeChild(E),S&&S.forEach((s=>s(y))),d)return d(y)},te=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:E}),12e4);E.onerror=onScriptComplete.bind(null,E.onerror),E.onload=onScriptComplete.bind(null,E.onload),M&&document.head.appendChild(E)}},__webpack_require__.r=s=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},__webpack_require__.nmd=s=>(s.paths=[],s.children||(s.children=[]),s),(()=>{var s;__webpack_require__.g.importScripts&&(s=__webpack_require__.g.location+"");var d=__webpack_require__.g.document;if(!s&&d&&(d.currentScript&&(s=d.currentScript.src),!s)){var _=d.getElementsByTagName("script");if(_.length)for(var y=_.length-1;y>-1&&!s;)s=_[y--].src}if(!s)throw new Error("Automatic publicPath is not supported in this browser");s=s.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=s})(),(()=>{var s={143:0};__webpack_require__.f.j=(d,_)=>{var y=__webpack_require__.o(s,d)?s[d]:void 0;if(0!==y)if(y)_.push(y[2]);else{var S=new Promise(((_,S)=>y=s[d]=[_,S]));_.push(y[2]=S);var T=__webpack_require__.p+__webpack_require__.u(d),E=new Error;__webpack_require__.l(T,(_=>{if(__webpack_require__.o(s,d)&&(0!==(y=s[d])&&(s[d]=void 0),y)){var S=_&&("load"===_.type?"missing":_.type),T=_&&_.target&&_.target.src;E.message="Loading chunk "+d+" failed.\n("+S+": "+T+")",E.name="ChunkLoadError",E.type=S,E.request=T,y[1](E)}}),"chunk-"+d,d)}};var webpackJsonpCallback=(d,_)=>{var y,S,[T,E,M]=_,O=0;if(T.some((d=>0!==s[d]))){for(y in E)__webpack_require__.o(E,y)&&(__webpack_require__.m[y]=E[y]);if(M)M(__webpack_require__)}for(d&&d(_);O<T.length;O++)S=T[O],__webpack_require__.o(s,S)&&s[S]&&s[S][0](),s[S]=0},d=self["webpackJsonp-rendition"]=self["webpackJsonp-rendition"]||[];d.forEach(webpackJsonpCallback.bind(null,0)),d.push=webpackJsonpCallback.bind(null,d.push.bind(d))})();var S={};(()=>{"use strict";__webpack_require__.r(S),__webpack_require__.d(S,{RenditionAPI:()=>RenditionAPI,providers:()=>me});var s=__webpack_require__("0VNB"),d=__webpack_require__.n(s),_=__webpack_require__("uY7Q"),y=__webpack_require__.n(_),T=__webpack_require__("sdTo"),E=__webpack_require__.n(T),M=__webpack_require__("sR8A");const O="12.18.1";var q=__webpack_require__("plsW"),ee=__webpack_require__("4PKp"),te=__webpack_require__("ibkQ");const utils_cancellablePromise=s=>{let d=!1,_=s;_||(_=Promise.reject());return{promise:new Promise(((s,y)=>{_.then((_=>!d&&s(_))).catch((s=>!d&&y(s)))})),cancel:()=>{d=!0}}};let re=[];const renditionMakeCancellablePromise=s=>{const d=utils_cancellablePromise(s);return re.push(d),d.promise};var ne=__webpack_require__("4DGF");const getDigest=s=>(0,ne.w1)()?window.msCrypto.subtle.digest("SHA-256",s):window.crypto&&window.crypto.subtle?window.crypto.subtle.digest("SHA-256",s):Promise.reject("Crypto is not supported"),getDigestHex=s=>[...new Uint8Array(s)].map((s=>s.toString(16).padStart(2,"0"))).join(""),stringToUint8ArrayBuffer=s=>{let d,_,y,S,T,E=0;if(s){for(E=s.length,d=-1,_="undefined"==typeof Uint8Array?new Array(1.5*E):new Uint8Array(3*E),y=0,S=0,T=0;T!==E;){if(y=s.charCodeAt(T),T+=1,y>=55296&&y<=56319){if(T===E){_[d+=1]=239,_[d+=1]=191,_[d+=1]=189;break}S=s.charCodeAt(T),S>=56320&&S<=57343?(y=1024*(y-55296)+(S-56320+65536),T+=1,y>65535&&(_[d+=1]=240|y>>>18,_[d+=1]=128|y>>>12&63,_[d+=1]=128|y>>>6&63,_[d+=1]=128|63&y)):(_[d+=1]=239,_[d+=1]=191,_[d+=1]=189)}y<=127?_[d+=1]=0|y:y<=2047?(_[d+=1]=192|y>>>6,_[d+=1]=128|63&y):(_[d+=1]=224|y>>>12,_[d+=1]=128|y>>>6&63,_[d+=1]=128|63&y)}return"undefined"!=typeof Uint8Array?_.subarray(0,d+1):(_.length=d+1,_)}return""};var ie=__webpack_require__("RbXz"),se=__webpack_require__("zSZc"),ae=__webpack_require__("GNuk"),oe=__webpack_require__("6mnL");const getStreamRequestHeaders=s=>{let{apiKey:d,accessToken:_,transactionId:y,apiTimeoutDuration:S=0}=s;const T={Accept:"application/json, text/plain, */*"};return d&&(T["x-api-key"]=d),_&&(T.Authorization=_),y&&(T["x-transaction-id"]=y),S&&(T.Prefer=`respond-partial, wait=${S}`),new Headers(T)},uploadStream=(s,d,_,y,S)=>new Promise(((T,E)=>{const M=getStreamRequestHeaders(S?{apiKey:_,accessToken:S}:{apiKey:_,transactionId:y}),O=(s=>{const d=new FormData;return d.append("contentAnalyzerRequests",'{\n        "sensei:engines": [{\n          "sensei:execution_info": {\n            "sensei:engine": "Annotation:pdf-object-detection:Service-61274bccdf4e4177b62ee988d67b9989"\n          },\n          "sensei:inputs": {\n            "in_stream": {\n              "sensei:multipart_field_name": "in_stream",\n              "dc:format":"application/pdf+dcxucf"\n            }\n          },\n          "sensei:outputs": {\n            "out_stream": {\n              "sensei:multipart_field_name": "out_stream",\n              "dc:format":"application/zip"\n            }\n          },\n          "sensei:params": {\n            "client_analytics_consent":true,\n            "result_format":"cnpdf_updates",\n            "save_intermediate_files":false,\n            "degree_of_parallelism": 1,\n            "overrides":"",\n            "provisional":true\n          }\n        }]\n      }'),d.append("in_stream",s),d})(s);fetch(d,{method:"POST",headers:M,body:O}).then((s=>{s.ok?T(s):E(s)})).catch((s=>{E(s)}))})),AdobeSenseiPredictClient=s=>{let{cnpdfZipData:d,mimeType:_}=s;return new Promise(((s,y)=>{const S=function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,d="";const _="0123456789";for(let y=0;y<s;y+=1)d+=_.charAt(Math.floor(10*Math.random()));return d}(),T=new Blob([d],{type:_});let E,M,O,ee;!q.auth2.isSignedIn?(M="https://sensei-stage.adobe.io/anonymous/v2/predict",O="https://sensei-stage.adobe.io/anonymous/v2/status",ee="ReaderMobileAndroid4_0002_Anonymous"):(E=q.auth2.getAccessTokenInfo().access_token||void 0,M=`https://senseis-stage.adobe.io/services/v2/stream/predict/${S}`,O=`https://senseis-stage.adobe.io/services/v2/stream/predict/${S}`,ee="AdobeSenseiPredictServiceStageKey"),uploadStream(T,M,ee,S,E).catch((s=>{y(s)})),function(s,d,_,y){let S=arguments.length>4&&void 0!==arguments[4]?arguments[4]:59;return new Promise(((T,E)=>{const M=getStreamRequestHeaders(y?{apiKey:d,accessToken:y}:{apiKey:d,transactionId:_,apiTimeoutDuration:S});fetch(s,{method:"GET",headers:M}).then((s=>{s.ok?(s=>!(!s||!s.headers)&&null!==s.headers.get("content-length"))(s)?E(s):T(s.body):E(s)})).catch((s=>{E(s)}))}))}(O,ee,S,E).then((d=>{s(d)})).catch((s=>{y(s)}))}))};var ce=__webpack_require__("GTUu");class ExternalCertificateValidator extends M.CertificateValidationInterface{constructor(s){super(),this.externalCertificateValidator=s||null}name(){return se.Lo.ExternalValidator}_base64ToArrayBuffer(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!s.length)return null;let d="";s.forEach((s=>{d+=window.atob(s)}));const _=d.length,y=new Uint8Array(_);for(let s=0;s<_;s+=1)y[s]=d.charCodeAt(s);return y.buffer}validate(s){return new Promise((async(d,_)=>{if(!Array.isArray(s))return _(new Error("certificateChain must be an array"));if(!this.externalCertificateValidator)return _(new Error("ExternalCertificateValidator is not available"));try{setTimeout((()=>_(new Error(se.dA.apiTimeoutError))),5e3);const y=this._base64ToArrayBuffer(s),S=await this.externalCertificateValidator({buffer:y});if(!S||!S.status)return _(new Error("ExternalCertificateValidator empty response"));"NOTVALID"===S.status&&(S.status=se.im.invalid),S.certificates||(S.certificates=s),S.trustSources||S.status!==se.im.valid||(S.trustSources=[se.Xq.OS]),S.validation||(S.validation={validatedOn:se.u3.currentTime,timestamp:(new Date).toISOString()}),d(S)}catch(s){_(s)}}))}}const le=ExternalCertificateValidator;class AdobeSignCertificateValidation extends M.CertificateValidationInterface{static isAvailable(){return!0}name(){return se.Lo.AdobeSignValidator}static getValidationAPI(){let s="https://certificatevalidator-dev.adobe.io";const d=q.envUtil.getHostEnv();return"prod"===d?s="https://certificatevalidator.adobe.io":"stage"===d&&(s="https://certificatevalidator-stage.adobe.io"),s+="/certificatevalidator/v1/verify",{api:s,apiKey:"certificatevalidator"}}_getError(s,d){const _=new Error(s);return _.reason=d?{code:d}:{},_}validate(s){return new Promise(((d,_)=>{if(!Array.isArray(s))return _(this._getError("certificateChain must be an array"));const{api:y,apiKey:S}=AdobeSignCertificateValidation.getValidationAPI(),T=new Headers;T.append("Content-Type","application/json"),T.append("x-api-key",S);const E={method:"POST",headers:T,body:JSON.stringify({certificates:s})};fetch(y,E).then((async s=>{if(s.ok){const _=await s.json();_.validation||(_.validation={validatedOn:se.u3.currentTime,timestamp:(new Date).toISOString()}),_&&_.status===se.im.valid&&!_.trustSources.length&&(_.status=se.im.unknown),d(_)}const _=s.status;let y=se.dA.unknownError;throw 429===_?y=se.dA.tooManyRequests:504===_?y=se.dA.gatewayTimeout:_>=500&&_<600&&(y=se.dA.internalServerError),this._getError(y,_)})).then((s=>d(s))).catch((s=>_(s)))}))}}const ue=AdobeSignCertificateValidation,recordNow=(s,d)=>{const _=Math.round(d||performance.now());return window.performance&&window.performance.mark&&window.performance.mark(`provider_rendition_${s}`,{startTime:_}),_};var de=__webpack_require__("Kq49"),he=__webpack_require__("6Wbc"),pe=__webpack_require__("o2TZ");class AJSHandler{constructor(s,d){var _=this;this._shouldEnableProgressiveRendering=()=>!!window.OffscreenCanvas&&this.options.useProgressiveRendering,this.acrobatJSInstanceHandler=new de.Z({enableAJSLogging:s.enableAJSLogging,useAJSFullBuild:s.useAJSFullBuild,maxActiveAJSinstanceLimit:se.bC}),this.options=s,this._assetUriToFileHandle={},this._defaultAJSHandle=null,this._defaultAJSHandlePromise=new Promise((s=>{this._defaultAJSHandleResolve=s})),this._defaultAJSMapped=!1,this._defaultInstanceAssetUri=null,this._ajsSetupPromise=null,this._reInitRequested=!1,this._onAjsEvent=function(s){for(var y=arguments.length,S=new Array(y>1?y-1:0),T=1;T<y;T++)S[T-1]=arguments[T];return d(s===se.yq?_._defaultInstanceAssetUri:s,...S)}}async init(){if(!this._ajsSetupPromise){const s=this._assetUriToFileHandle[se.yq];this._ajsSetupPromise=this._defaultAJSHandle||this._ajsSetup(se.yq,s)}return this._ajsSetupPromise}_getAJSInstanceFromAssetUri(s){const d=s,_=this._assetUriToFileHandle[d];return this.acrobatJSInstanceHandler.getAcrobatJSInstance(_)}static _ajsGetPath(){return ie.lO()}async _ajsSetup(s,d){var _=this;const y={ajsPath:AJSHandler._ajsGetPath(),enableProgressiveRendering:this._shouldEnableProgressiveRendering(),hostEnv:q.envUtil.getHostEnv(),enableWasmExceptions:(0,pe.A)()};this.options.ajsExceptionSupport=y.enableWasmExceptions?"wasm":"js";const S=this.acrobatJSInstanceHandler.createAcrobatJSInstance({ajsConfig:y,forceEvict:!0,onAjsEvent:function(){for(var d=arguments.length,y=new Array(d),S=0;S<d;S++)y[S]=arguments[S];return _._onAjsEvent(s,...y)}},d);s!==se.yq||this._defaultAJSHandle||(S.then(this._defaultAJSHandleResolve),this._defaultAJSHandle=S),this._assetUriToFileHandle[s]=await S}isInstanceCached(s){const d=this._assetUriToFileHandle[s];return this.acrobatJSInstanceHandler.checkInstanceState(d,he.zI.CACHED)}async activateInstanceIfInactive(s){const d=this._assetUriToFileHandle[s];if(this.isInstanceCached(s)){const{openPdfParams:_}=this.acrobatJSInstanceHandler.getAcrobatJSInstanceParameters(d);await this._ajsSetup(s,d),await this._getAJSInstanceFromAssetUri(s).openPDF(_)}}async assignDefaultInstance(s){s&&this._defaultAJSHandle&&!this._defaultAJSMapped&&(this._assetUriToFileHandle[s]=await this._defaultAJSHandle,this._defaultInstanceAssetUri=s,this._defaultAJSMapped=!0)}callSync(s,d){const _=this._getAJSInstanceFromAssetUri(s||se.yq);if(!_)throw(0,te.Kz)("Filehandle not present",{apiName:d}),Error("Filehandle not present");if(!_[d])throw(0,te.Kz)("Unknown AJS Command",{apiName:d}),Error("Unknown AJS command");for(var y=arguments.length,S=new Array(y>2?y-2:0),T=2;T<y;T++)S[T-2]=arguments[T];return _[d](...S)}updateDefaultAJSInstance(s){if(!this._assetUriToFileHandle[s])throw Error("File handle not present for assetUri:",s);this._assetUriToFileHandle[se.yq]=this._assetUriToFileHandle[s],this._defaultInstanceAssetUri=s}async callAsync(s,d){await this._defaultAJSHandlePromise,await this.assignDefaultInstance(s);const _=this._assetUriToFileHandle[s||se.yq];let y=s;if(this.acrobatJSInstanceHandler.has(_))await this.activateInstanceIfInactive(s);else if(s&&"openPDF"!==d){(0,te.Kz)(`AJS command ${d} called for assetUri ${s} for which openPDF was not called. Using default instance.`);1===new Set(Object.values(this._assetUriToFileHandle)).size&&(y=this._defaultInstanceAssetUri)}else s&&await this._ajsSetup(s);for(var S=arguments.length,T=new Array(S>2?S-2:0),E=2;E<S;E++)T[E-2]=arguments[E];"openPDF"===d&&this.acrobatJSInstanceHandler.setOpenPDFParameters(this._assetUriToFileHandle[s],T[0]);const M=this._getAJSInstanceFromAssetUri(y||se.yq);if(!M)return(0,te.Kz)("Filehandle not present",{apiName:d}),Promise.reject(new Error("Filehandle not present"));if(!M[d])return(0,te.Kz)("Unknown AJS Command",{apiName:d}),Promise.reject(new Error("Unknown AJS command"));const O=await M[d](...T);return"openPDF"===d&&(O.enableWasmExceptions="wasm"===this.options.ajsExceptionSupport),"getPageRendition"===d&&this.options.ajsSplitWasm&&(0,pe.$)(),O}_resetDefaultHandleParams(){this._defaultAJSHandle=null,this._ajsSetupPromise=null,this._defaultAJSHandlePromise=new Promise((s=>{this._defaultAJSHandleResolve=s})),this._defaultAJSMapped=!1}resetWorker(){!Object.keys(this._assetUriToFileHandle).some((s=>s!==se.yq))?(this._resetDefaultHandleParams(),this.init()):this._reInitRequested=!0}close(s){if(s in this._assetUriToFileHandle){const d=this._assetUriToFileHandle[s];this.acrobatJSInstanceHandler.erase(d),delete this._assetUriToFileHandle[s]}!Object.keys(this._assetUriToFileHandle).some((s=>s!==se.yq))&&(this._resetDefaultHandleParams(),this._reInitRequested&&(this.init(),this._reInitRequested=!1))}registerLicense(s){const d=[...new Set(Object.values(this._assetUriToFileHandle))].map((d=>this.acrobatJSInstanceHandler.getAcrobatJSInstance(d).registerLicense(s)));return Promise.all(d)}remapAssetUri(s,d){this._assetUriToFileHandle[d]=this._assetUriToFileHandle[s],delete this._assetUriToFileHandle[s]}}const fe=AJSHandler,ProviderUtil=async(s,d)=>{try{const _=await q.providers.selection(),y=await _.registerSelection("ViewerAsset");if(y.clearSelection(),!d)return;y.selectItem(s,{eTag:d,asset_id:s})}catch(s){console.error("Error during setting etag in selection provider: ",s)}};let ge=null;class NoRenditionError extends Error{constructor(s){super(s),this.code=415}}class RenditionAPI{constructor(s,d){var _=this;return this._appStateChangeListener=s=>{if("DEFERRED_LOAD"===s)this._getAjs()},this._getFileInfoObj=function(s,d){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(q.auth2.isSignedIn&&!_._isS3DownloadUrl){const s=q.auth2.getAccessTokenInfo();s.access_token&&y.push({key:"Authorization",value:`Bearer ${s.access_token}`})}return d&&!("id"in d)&&(d.id=d.asset_id),{content:{location:{url:s,headers:y}},metaData:d}},this._fetchPDFBufferRanges=(s,d,_)=>1===_.length&&0===_[0].start&&void 0===_[0].end?this._fetchCompletePDFBufferPromise.then((s=>[s])):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((()=>this._externalGetDownloadUri(s,d).then((s=>this._external.fetchPDFBufferRanges(s,_)))))),this._fetchPDFSize=(s,d)=>(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((()=>this._externalGetDownloadUri(s,d).then((s=>this._external.fetchPDFSize(s)))))),ge=this,this.queryParams=(0,ae.v)(),this.options=Object.assign({},{enableExternal:!0,useAJS:!0,useDCAPI:!0,AJSDelay:0,useReview:!0,usePDFNow:!1,fetchWithCredentials:!1,autoStart:!0,useALMForAutoStart:!1,shouldUseModernViewer:!1,enableAJSLogging:!1,useAJSFullBuild:!1,useProgressiveRendering:!0},d,(0,ce.vz)(this.queryParams)),this.ajsHandler=new fe(this.options,this._onAjsEvent.bind(this)),this._fetchCompletePDFBufferPromise=null,this._assetRenditions={},this._assetRenditionsIndex=[],this._assetPageRenditions={},this._assetPageRenditionPromises={},this._assetPageRenditionsIndex=[],this._cachedRedirectUrl={},this._perfTimings={},this._resetAjsPerfTimings(),this._getAssetFileInfoPromise={},this.options.autoStart&&this.init(),ge}_getAjs(){return this.ajsHandler.init().catch((s=>{this.options.useAJS=!1,this._ajsEmit("ajsInitFailed",s)}))}reInitAJS(){this.ajsHandler.resetWorker(),this._resetAjsPerfTimings()}init(){this.options.useDCAPI?(this.dcapiPromise=new Promise(((s,d)=>{this.dcapiResolve=s,this.dcapiReject=d})),this._dcapiInit()):this.dcapiPromise=Promise.resolve(),this.options.useAJS&&(this._completePDFBufferAvailablePromiseMap={},this.options.AJSDelay>0?setTimeout(this._getAjs.bind(this),this.options.AJSDelay):this.options.useALMForAutoStart?document.addEventListener("dc:appstatechange",(s=>{var d;const _=null===(d=s.detail)||void 0===d?void 0:d.appState;this._appStateChangeListener(_)})):this._getAjs()),this._waitOnCompletePDFBufferMap={}}_resetAjsPerfTimings(){this.options.useAJS&&(this._perfTimings.ajs={})}_getDCAssetFileInfo(s){const d=`${s}`;return this._getAssetFileInfoPromise[d]||(this._getAssetFileInfoPromise[d]=this.dcapiPromise.then((()=>{const d=this._dcapiGetMetadata(s,{}),_=this._dcapiGetDownloadUri(s,{});return Promise.all([_,d])})).then((s=>{const d=s[0],_=s[1];return this._getFileInfoObj(d,_,[])})).catch((()=>{delete this._getAssetFileInfoPromise[d]}))),this._getAssetFileInfoPromise[d]}_getPDFNowAssetFileInfo(s,d){return this.dcapiPromise.then((()=>this._dcapiGetMetadata(s,d))).then((s=>{const d=s;return d&&!("id"in d)&&(d.id=d.asset_id),{metaData:d}}))}_getReviewAssetFileInfo(s){let d=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const _=`${s}`,y=window.adobe_dc_sdk.cache.assetURLPromise&&window.adobe_dc_sdk.cache.assetURLPromise[s];if(this._getAssetFileInfoPromise[_])return this._getAssetFileInfoPromise[_];let S;S=d&&q.auth2.isSignedIn?this._dcapiGetMetadata(s,{}):this._reviewGetMetadata(s);const T=y||this._reviewGetDownloadUri(s,d);return this._getAssetFileInfoPromise[_]=Promise.allSettled([T,S]).then((async _=>{let S;if(S="fulfilled"===_[0].status&&_[0].value&&"RESOLVED_WITH_NOT_FOUND"!==_[0].value?y?_[0].value.download_url:_[0].value:await this._reviewGetDownloadUri(s,d),!S)throw new Error("Download Uri is null");const T="fulfilled"===_[1].status?_[1].value:null;return this._getFileInfoObj(S,T,[])})).catch((()=>{delete this._getAssetFileInfoPromise[_]})),this._getAssetFileInfoPromise[_]}getAssetFileInfo(s,d){return RenditionAPI._isReviewAsset(d)||RenditionAPI._isParcelAsset(d)?this._getReviewAssetFileInfo(s):RenditionAPI._isPDFNowAsset(d)?this._getPDFNowAssetFileInfo(s,d):RenditionAPI._isConnectorAsset(d)?this._connectorGetMetadata(s,d).then((_=>(_&&!("id"in _)&&(_.id=_.asset_id),_.download_url?Promise.resolve({content:{location:{url:_.download_url}},metaData:_}):this._connectorGetContentBuffer(s,d).then((s=>{const d=new Blob([s]);return Promise.resolve({content:{location:{url:URL.createObjectURL(d)}},metaData:_})}))))):this._getDCAssetFileInfo(s)}getDcapiRendition(s,d){return this._dcapiGetRendition(s,d)}static _getOriginFromUrl(s){return ie.ir(s)}_ajsEmit(s,d){const _={...d,acrobatJSVersion:O,shouldUseModernViewer:this.options.shouldUseModernViewer};(0,te.Kz)(s,_)}_onAjsEvent(s,d,_,y){switch(d){case"completeCNPDFAvailable":case"completePDFBufferAvailable":this._completePDFBufferAvailablePromiseMap[s].resolve();break;case`${y}PerfTimings`:"ajs"===y&&Object.keys(_).forEach((s=>recordNow(s,_[s]))),this._perfTimings[y]=Object.assign({},this._perfTimings[y],_);break;case"FontUsed":q.providers["font-provider"]().then((s=>{!_.isInEditMode&&_.fontsList&&_.fontsList.forEach((d=>{s.isUsageUnReported(d)&&this._ajsEmit("FontUsageNotReported",{fontName:d})}))}));break;default:this._ajsEmit(d,_)}}_dcapiInit(){this._perfTimings.dc={dcapiInit:recordNow(se.$l.DCAPI_INIT)},q.providers&&q.providers.dcapi&&q.providers.dcapi().then((s=>{this._dcapi=s.getDcapi(),this._dcapi.promise().then((()=>{this._perfTimings.dc.dcapiLoaded=recordNow(se.$l.DCAPI_LOADED),this.dcapiResolve()})).catch((s=>{(0,te.Kz)(s,{code:s.code,level:"error"}),this.dcapiReject()}))}))}_pdfnowInitPromise(){return!this.pdfnowApiPromise&&(this.options.usePDFNow?(this.pdfnowApiPromise=new Promise(((s,d)=>{this.pdfnowApiResolve=s,this.pdfnowApiReject=d})),!0):(this.pdfnowApiPromise=Promise.resolve(),!1))}_pdfnowInit(){void 0!==q.providers&&q.providers["dcapi-facade"]().then((s=>s.getDcapi().then((s=>{this._pdfnowDcapi=s,this.pdfnowApiResolve()})))).catch((s=>{(0,te.Kz)(s,{code:s.code,level:"error"}),this.pdfnowApiReject()}))}_resetReviewProvider(){this.reviewApiPromise=void 0,this._initReviewProviderIfRequired()}_initReviewProviderIfRequired(){this._reviewInitPromise()&&this._reviewInit()}_reviewInitPromise(){return!this.reviewApiPromise&&(this.options.useReview?(this.reviewApiPromise=new Promise(((s,d)=>{this.reviewApiResolve=s,this.reviewApiReject=d})),!0):(this.reviewApiPromise=Promise.resolve(),!1))}_reviewInit(){void 0!==q.providers&&q.providers["review-handler"]().then((s=>{this._reviewApi=s,this.reviewApiResolve()})).catch((s=>{(0,te.Kz)(s,{code:s.code,level:"error"}),this.reviewApiReject()}))}_externalInitPromise(){return!this.externalPromise&&(this.options.enableExternal?(this.externalPromise=new Promise(((s,d)=>{this.externalResolve=s,this.externalReject=d})),!0):(this.externalPromise=Promise.resolve(),!1))}_externalInit(){void 0!==q.providers&&q.providers.integrationProvider().then((s=>{this._external=s,this.externalResolve()})).catch((s=>{(0,te.Kz)(s,{code:s.code,level:"error"}),this.externalReject()}))}_cacheRendition(s,d){this._assetRenditions[s]||(this._assetRenditionsIndex.length===se.D$&&delete this._assetRenditions[this._assetRenditionsIndex.shift()],this._assetRenditionsIndex.push(s)),this._assetRenditions[s]=y()(this._assetRenditions[s],d)}_cachePageRendition(s,d,_){const S=`${s}-${d}`;this._assetPageRenditions[S]||(this._assetPageRenditionsIndex.length===se.D$&&delete this._assetPageRenditions[this._assetPageRenditionsIndex.shift()],this._assetPageRenditionsIndex.push(S)),this._assetPageRenditions[S]=y()(this._assetPageRenditions[S],_)}_dcapiGetAssetUri(s){return this._dcapi&&s.startsWith("urn:")?this._dcapi.getTemplateURI("asset_uri",{asset_id:s}):s}static _dcapiGetAssetUrn(s){return s.startsWith("urn:")?s:s.substr(s.lastIndexOf("/")+1)}static _isFileTypeImage(s){return new RegExp("^image").test(s)}static _canFileHaveMultiplePages(s){if(RenditionAPI._isFileTypeImage(s))return!1;return!["application/zip","application/octet-stream","text/plain","text/rtf"].includes(s)}_dcapiMetadataCall(s,_){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise(((S,T)=>{this._dcapi.call("assets.get_metadata",{accept:"asset_metadata_basic_v1.json",resource_parameter:this._dcapiGetAssetUri(s),headers:{"x-request-id":d().v4()}}).then((d=>{var E,M;const O=d,q=null==O||null===(E=O.content)||void 0===E?void 0:E.page_count;let ee;const te=null==O||null===(M=O.content)||void 0===M?void 0:M.type;if(O.content.numPages=q,(_.enableRetryForPDFs||this.queryParams.enableRetryForPDFs||"application/pdf"!==te)&&!q){let d="application/pdf"===te?se.Bq:se.W1;RenditionAPI._canFileHaveMultiplePages(te)||(d=1);const S="application/pdf"===O.content.type?se.rg:se.hj;y===d?O.content.numPages=1:ee=new Promise(((d,T)=>{setTimeout((()=>{this._dcapiMetadataCall(s,_,y+1).then(d).catch(T)}),S)}))}ee||(ee=Promise.resolve(O)),ee.then(S).catch(T)}),(s=>{T(s)}))}))}_dcapiGetMetadata(s,d){return this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&this._assetRenditions[s].dcapi.contentData&&!0!==d.forceCacheless?Promise.resolve(this._assetRenditions[s].dcapi.contentData):RenditionAPI._isReviewAsset(d)||RenditionAPI._isParcelAsset(d)?this._reviewGetMetadata(s,d):RenditionAPI._isPDFNowAsset(d)?this._pdfnowGetMetadata(s,d):RenditionAPI._isConnectorAsset(d)?this._connectorGetMetadata(s,d):new Promise(((_,y)=>{this.dcapiPromise.then((()=>{const S=this._dcapiMetadataCall(s,d),T=this._dcapiGetDocumentRenditionStatus(s);Promise.all([S,T]).then((d=>{let[y,S]=d;this._cacheRendition(s,{dcapi:{contentData:(0,ce.Xh)(y.content)}}),this._cacheRendition(s,{dcapi:{contentData:{documentRenditionStatus:S}}}),_(this._assetRenditions[s].dcapi.contentData)})).catch(y)}))}))}static _isReviewAsset(s){return s.assetType===se.VL}static _isParcelAsset(s){return s.assetType===se.GN}static _isExternalAsset(s){return s.assetType===se.iO}static _isConnectorAsset(s){return s.assetType&&se.KY.includes(s.assetType)}static _isSignAsset(s){return s.assetType===se.Ho}static _isPDFNowAsset(s){return s.assetType===se.Wb}_dcapiIsPDFAsset(s,d){return new Promise(((_,y)=>{d.useDCAPI?this._dcapiGetMetadata(s,d).then((()=>{this._assetRenditions[s]&&"application/pdf"===this._assetRenditions[s].dcapi.contentData.type?_():y()})).catch(y):_()}))}_isPDFAsset(s,d){return new Promise(((_,y)=>{d&&"application/pdf"===d.assetMimeType?_():this._dcapiIsPDFAsset(s,d).then(_).catch(y)}))}_ajsPostMetaData(s,d){const _=d.buffer;return _?(this._fetchCompletePDFBufferPromise=Promise.resolve(_),delete d.buffer):this._fetchCompletePDFBufferPromise=this._fetchCompletePDFBuffer(s,d),d.enableLinearization&&!d.password?renditionMakeCancellablePromise(this._ajsGetLinearizedContentData(s,d)):d.enableCNPDF?renditionMakeCancellablePromise(this._ajsGetCNPDFContentData(s,d)):this._fetchCompletePDFBufferPromise.then((_=>renditionMakeCancellablePromise(this._ajsGetContentData(s,_,d)).catch((s=>((0,te.Kz)("ajsGetContentData Failed",{error:JSON.stringify(s),size:_?_.byteLength:-1}),Promise.reject(s))))))}_fetchCompletePDFBuffer(s,d){let _;return _=RenditionAPI._isExternalAsset(d)?renditionMakeCancellablePromise(this._externalGetDownloadUri(s,d)).catch((s=>((0,te.Kz)("GetDownloadUri failed",{assetType:"external",error:JSON.stringify(s)}),Promise.reject(s)))).then((d=>renditionMakeCancellablePromise(this._externalGetContentBuffer(s,d)).catch((s=>((0,te.Kz)("GetContentBuffer failed",{assetType:"external",error:JSON.stringify(s)}),Promise.reject(s)))))):renditionMakeCancellablePromise(this._isPDFAsset(s,d)).catch((s=>((0,te.Kz)("Non PDF asset in AJS flow",{assetType:"non-external",error:JSON.stringify(s)}),Promise.reject(s)))).then((()=>renditionMakeCancellablePromise(this._dcapiGetDownloadUri(s,d)).catch((s=>((0,te.Kz)("GetDownloadUri failed",{assetType:"non-external",error:JSON.stringify(s)}),Promise.reject(s)))).then((_=>(this._perfTimings.ajs.pdfDownloadStart=recordNow(se.$l.PDF_DOWNLOAD_START),(0,te.Kz)("pdfDownloadStartTime",{pdfDownloadStart:this._perfTimings.ajs.pdfDownloadStart}),renditionMakeCancellablePromise(this._dcapiGetContentBuffer(s,_,d)).catch((s=>((0,te.Kz)("GetContentBuffer failed",{assetType:"non-external",error:JSON.stringify(s)}),Promise.reject(s))))))))),_.then((_=>{if(RenditionAPI._isExternalAsset(d)){const _=this._external.apis.file.getDownloadTimes();this._perfTimings.ajs.pdfDownloadStart=recordNow(se.$l.PDF_DOWNLOAD_START,_.pdfDownloadStartTime),this._perfTimings.ajs.pdfDownloadEnd=recordNow(se.$l.PDF_DOWNLOAD_END,_.pdfDownloadEndTime),(0,te.Kz)("pdfDownloadStartTime",{pdfDownloadStart:this._perfTimings.ajs.pdfDownloadStart}),this._getFileSize(s,d).then((s=>{this._logPdfDownloadTotalTime(s)})).catch((()=>{this._logPdfDownloadTotalTime(0)}))}else{this._perfTimings.ajs.pdfDownloadEnd=recordNow(se.$l.PDF_DOWNLOAD_END);const{pdfDownloadStart:s,pdfDownloadEnd:d}=this._perfTimings.ajs,_=d-s;(0,te.Kz)("pdfDownloadTotalTime",{pdfDownloadTotalTime:_}),this._setDownloadUrlType(se.$j.NONE)}return _}))}_getFileSize(s,d){return this._externalGetMetadata(s,d).then((s=>s.size?s.size:0))}_logPdfDownloadTotalTime(s){const{pdfDownloadStart:d,pdfDownloadEnd:_}=this._perfTimings.ajs,y=_-d;(0,te.Kz)("pdfDownloadTotalTime",{pdfDownloadTotalTime:y,fileSize:s,isS3Url:this._isS3DownloadUrl}),this._setDownloadUrlType(se.$j.NONE)}_ajsGetMetadata(s,d){const _=d?{...d}:{};var y;return renditionMakeCancellablePromise((y=s,new Promise(((s,d)=>{if((0,ne.w1)()){const _=stringToUint8ArrayBuffer(y);let S="";const T=getDigest(_);T.process(_),T.finish(),T.oncomplete=function onComplete(){if(S=T.result,null!==S){const d=getDigestHex(S);s(d)}else d("documentIdHash error")}}else{const _=(0,ne.un)()?stringToUint8ArrayBuffer(y):(new TextEncoder).encode(y);getDigest(_).then((d=>{const _=getDigestHex(d);s(_)})).catch((s=>{d(s)}))}})))).then((s=>{(0,te.Ev)(s),this._documentId=s})).catch((()=>{this._documentId=""})).then((()=>{if(!0!==_.forceCacheless&&this._assetRenditions[s]&&this._assetRenditions[s].ajs&&this._assetRenditions[s].ajs.metadataPromise)return this._assetRenditions[s].ajs.metadataPromise;const d=this._ajsPostMetaData(s,_);return this._cacheRendition(s,{ajs:{metadataPromise:d}}),d}))}_externalGetMetadata(s,d){return this._assetRenditions[s]&&this._assetRenditions[s].external&&this._assetRenditions[s].external.metadata&&!0!==d.forceCacheless?Promise.resolve(this._assetRenditions[s].external.metadata):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((()=>this._external.getSelectedFilesListFromFileIds([s]).then((d=>(this._cacheRendition(s,{external:{metadata:d[0]}}),d[0]))))))}_externalGetDownloadUri(s,d){return this._assetRenditions[s]&&this._assetRenditions[s].external&&this._assetRenditions[s].external.downloadUri&&!0!==d.forceCacheless?Promise.resolve(this._assetRenditions[s].external.downloadUri):this._externalGetMetadata(s,d).then((d=>d.downloadUrl?(this._cacheRendition(s,{external:{downloadUri:d.downloadUrl}}),d.downloadUrl):Promise.reject(new Error("Download Uri not available"))))}_externalGetContentBuffer(s,d){return this._assetRenditions[s]&&this._assetRenditions[s].external&&this._assetRenditions[s].external.contentBuffer?Promise.resolve(this._assetRenditions[s].external.contentBuffer):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((()=>this._external.getFileContents(d).then((d=>(this._cacheRendition(s,{external:{contentBuffer:d},ajs:{contentBuffer:d}}),d))))))}_connectorGetRendition(s,d){const _=d.size||"3200",y=`${s}-0`;if(!0===d.forceCacheless||!this._assetPageRenditions[y]||!this._assetPageRenditions[y].connector||!this._assetPageRenditions[y].connector.pageImgBuffer||this._assetPageRenditions[y].connector.size!==_||0!==this._assetPageRenditions[y].connector.page){const y=new URLSearchParams(window.location.search),S=se.z1[d.assetType];return S?q.providers["storage-connectors"]().then((T=>T.getStorageProvider(S).then((S=>{let E=y.get("connectorid");return E||(E=d.connectorId),S.getRendition(s,T.getConnectorById(E),{size:_}).then((d=>{const y={params:{pageImgBuffer:d,mimeType:"image/png",pageNum:0}};return this._cachePageRendition(s,0,{connector:{pageImgBuffer:d,size:_,page:0}}),y}))})))).catch((s=>{throw new NoRenditionError(s&&s.message||"Unknown")})):Promise.reject(new Error("Not supported"))}const S=this._assetPageRenditions[y].connector,T={params:{pageImgBuffer:S.pageImgBuffer,mimeType:"image/png",pageNum:S.page}};return Promise.resolve(T)}_connectorGetMetadata(s,d){const _=`${s}`;if(!0!==d.forceCacheless&&this._getAssetFileInfoPromise[_])return this._getAssetFileInfoPromise[_];if(!0!==d.forceCacheless&&this._assetRenditions[s]&&this._assetRenditions[s].connector&&this._assetRenditions[s].connector.metaData)this._getAssetFileInfoPromise[_]=Promise.resolve(this._assetRenditions[s].connector.metaData);else{const y=new URLSearchParams(window.location.search),S=se.z1[d.assetType];this._getAssetFileInfoPromise[_]=S?q.providers["storage-connectors"]().then((T=>T.getStorageProvider(S).then((E=>{const M=d.connectorId||y.get("connectorid");let O;var q;d.cloudUserId?O=null===(q=T.getConnectorsByCloudUserId(d.cloudUserId))||void 0===q?void 0:q.find((s=>(null==s?void 0:s.connectorType)===S)):O=T.getConnectorById(M);return E.getItem(s,O).then((d=>{const _=E.normalizeItem(d,O);return"application/pdf"!==_.type&&(_.numPages=1,_.page_count=1),this._cacheRendition(s,{connector:{metaData:_},ajs:{metaData:_}}),_})).catch((()=>{delete this._getAssetFileInfoPromise[_]}))})))):Promise.reject(new Error("Not supported"))}return this._getAssetFileInfoPromise[_]}_connectorGetContentBuffer(s,d){if(!this._assetRenditions[s]||!this._assetRenditions[s].connector||!this._assetRenditions[s].connector.contentBuffer){const _=new URLSearchParams(window.location.search),y=se.z1[d.assetType];return y?q.providers["storage-connectors"]().then((S=>S.getStorageProvider(y).then((y=>{const T=d.connectorId||_.get("connectorid");return y.getFileContent(s,S.getConnectorById(T)).then((d=>(this._cacheRendition(s,{connector:{contentBuffer:d},ajs:{contentBuffer:d}}),d)))})))):Promise.reject(new Error("Not supported"))}return Promise.resolve(this._assetRenditions[s].connector.contentBuffer)}_dcapiGetRenditionUri(s){return this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&this._assetRenditions[s].dcapi.renditionUri?Promise.resolve(this._assetRenditions[s].dcapi.renditionUri):this._dcapi.call("assets.rendition_uri",{resource_parameter:this._dcapiGetAssetUri(s),accept:"asset_uri_rendition_v1.json",headers:{"x-request-id":d().v4()}}).then((d=>(this._cacheRendition(s,{dcapi:{renditionUri:d.content.uri}}),d.content.uri)),(s=>Promise.reject(s)))}_externalGetRendition(s,d){const _=void 0!==d.pageNum?d.pageNum:1,y=`${s}-${_}`;return this._assetPageRenditions[y]&&this._assetPageRenditions[y].external&&this._assetPageRenditions[y].external.rendition&&this._assetPageRenditions[y].external.rendition[_]&&!0!==d.forceCacheless?Promise.resolve(this._assetPageRenditions[y].external.rendition[_]):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then((()=>"function"!=typeof this._external.getRenditionByFileId?Promise.reject(new Error("Cannot get External rendition")):this._external.getRenditionByFileId(s,d).then((d=>{const y={external:{rendition:{}}};return y.external.rendition[_]={params:d},this._cachePageRendition(s,_,y),Promise.resolve({params:d})}),(s=>Promise.reject(s))))))}_dcapiGetDirectRenditionForPage(s,_){const y=_.size||"1200",S=_.format||"jpg",T=void 0!==_.pageNum?_.pageNum:1,E=`${s}-${T}`,M=this._assetPageRenditions[E];let O;if(M&&(O=M.dcapi),O&&O.pageImgBuffer&&O.format===S&&O.size===y&&O.page===T){const s={params:{pageImgBuffer:O.pageImgBuffer,mimeType:O.mimeType,pageNum:O.page}};return Promise.resolve(s)}return this._dcapi.call("assets.rendition_direct",{accept:"image/*",resource_parameter:RenditionAPI._dcapiGetAssetUrn(s),uri_parameters:{size:y,format:S,page:T-1,processing_hint:"speed_over_quality"},headers:{"x-request-id":d().v4()},responseType:"arraybuffer"}).then((d=>{const _={params:{pageImgBuffer:d.content,mimeType:d.headers["content-type"],pageNum:T}};return this._cachePageRendition(s,T,{dcapi:{pageImgBuffer:d.content,mimeType:d.headers["content-type"],size:y,page:T,format:S}}),Promise.resolve(_)}),(s=>Promise.reject(s)))}_dcapiGetRendition(s,d){let _,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const S=performance.now();return _=RenditionAPI._isReviewAsset(d)||RenditionAPI._isParcelAsset(d)?this._reviewGetRendition(s,d):RenditionAPI._isPDFNowAsset(d)?this._pdfnowGetRendition(s,d):RenditionAPI._isConnectorAsset(d)?this._connectorGetRendition(s,d):this.dcapiPromise.then((()=>this._dcapiGetDirectRenditionForPage(s,d))),_.catch((_=>{const{code:T}=_;if(404===T||429===T){const _=(null==d?void 0:d.maxRetries)||se.aY;if(y<_){const _=(null==d?void 0:d.delayTime)||se.rg;return(0,ce.gw)(_).then((()=>this._dcapiGetRendition(s,d,y+1)))}const{format:E,size:M,type:O}=d;(0,te.Kz)("dcapiGetRendition max retries",{asset_uri:s,code:T,format:E,level:"error",rendition_duration:performance.now()-S,size:M,type:O})}throw _}))}_getReviewRenditionWithRetries(s,d){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const y=performance.now();return this._reviewGetRendition(s,d).catch((S=>{const{code:T}=S;if(404===T||429===T){if(_<se.aY)return(0,ce.gw)(se.rg).then((()=>this._getReviewRenditionWithRetries(s,d,_+1)));const{format:S,size:E,type:M}=d;(0,te.Kz)("getReviewRenditionWithRetries max retries",{asset_uri:s,code:T,format:S,level:"error",rendition_duration:performance.now()-y,size:E,type:M})}throw S}))}_dcapiGetDocumentRenditionUri(s,_){const y=_;return this.dcapiPromise.then((()=>{const _=y.format||"owp";return this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&this._assetRenditions[s].dcapi.documentRenditionUri?Promise.resolve(this._assetRenditions[s].dcapi.documentRenditionUri+(y.format?`&format=${y.format}`:"")):this._dcapi.call("assets.rendition_uri",{resource_parameter:this._dcapiGetAssetUri(s),accept:"asset_uri_rendition_v1.json",uri_parameters:{make_ticket:"owp"===_,type:"document"},headers:{"x-request-id":d().v4()}}).then((d=>(this._cacheRendition(s,{dcapi:{documentRenditionUri:d.content.uri}}),this._assetRenditions[s].dcapi.documentRenditionUri+(y.format?`&format=${y.format}`:""))),(s=>Promise.reject(s)))}))}_dcapiGetDocumentRendition(s,_){const y=_;return this.dcapiPromise.then((()=>{const _=y.format||"owp";return y.format=void 0,this._dcapiGetDocumentRenditionUri(s,y).then((s=>this._dcapi.call("assets.document_rendition",{accept:"*/*",resource_parameter:s,uri_parameters:{format:_,fallback:"none"},headers:{"x-request-id":d().v4()},responseType:"arraybuffer"}).then((s=>s.content))))}))}_dcapiGetDocumentRenditionStatus(s){return this.dcapiPromise.then((()=>this._dcapi.call("assets.document_rendition_status",{resource_parameter:this._dcapiGetAssetUri(s),accept:"asset_document_rendition_status_v1.json",headers:{"x-request-id":d().v4()}}).then((s=>s.content.document_rendition_status),(s=>Promise.reject(s)))))}_reviewGetDownloadUri(s){let d=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._initReviewProviderIfRequired();return new Promise(((_,y)=>{this.reviewApiPromise.then((()=>{this._reviewApi.initReviewIfRequired().then((()=>{const S=this._reviewApi.getReview(s);let T=!0;if(void 0!==S){const y=recordNow(se.$l.PDF_DOWNLOAD_URI_START);(d?S.getFileDownloadURLByAssetUri(s,"view",T):S.getFileDownloadURL("view",T)).then((s=>{this._setDownloadUrlType(se.$j.S3),_(s);const d=recordNow(se.$l.PDF_DOWNLOAD_URI_END);(0,te.Kz)("pdfDownloadUriTotalTime",{pdfDownloadUriTotalTime:d-y})})).catch((()=>{T=!1;return(d?S.getFileDownloadURLByAssetUri(s,"view",T):S.getFileDownloadURL("view",T)).then((s=>{this._setDownloadUrlType(se.$j.DCAPI),_(s);const d=recordNow(se.$l.PDF_DOWNLOAD_URI_END);(0,te.Kz)("pdfDownloadUriTotalTime",{pdfDownloadUriTotalTime:d-y})})).catch((s=>{this._setDownloadUrlType(se.$j.NONE),(0,te.Kz)("Failed to fetch reviewDownloadUri",JSON.stringify(s))}))}))}else y(new Error("Review does not exist"))}))}))}))}_setDownloadUrlType(s){this._downloadUrlType=s}get _isS3DownloadUrl(){return this._downloadUrlType===se.$j.S3}_reviewGetMetadata(s){this._initReviewProviderIfRequired();return new Promise(((d,_)=>{this.reviewApiPromise.then((()=>{this._reviewApi.initReviewIfRequired().then((()=>{const y=this._reviewApi.getReview(s);void 0!==y?y.getSendBootstrapData().then((S=>{const T={};if(S&&S.meta_list&&S.meta_list instanceof Array&&S.meta_list.length>y.getDownloadAssetIndex()){const _=S.meta_list[y.getDownloadAssetIndex()];T.type=_.content_type,T.assetMimeType=_.content_type,T.name=_.name,T.last_pagenum=_.last_pagenum||0,T.numPages=_.page_count||0,T.size=_.size,T.id=_.id,this._cacheRendition(s,{dcapi:{contentData:(0,ce.Xh)(T)}}),d(T)}else _(new Error("Invalid Bootstrap data"))})).catch((s=>{_(s)})):_(new Error("Review does not exist"))}))})).catch(_)}))}_reviewGetRenditionAuthHeader(s){const d=s;return this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(d.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),d}_getReviewRenditionURL(s,d){const _=void 0!==d.pageNum?d.pageNum-1:0,y=parseInt(d.size||"1200",10);return new Promise(((d,S)=>{this.reviewApiPromise.then((()=>{this._reviewApi.instantiateReview().then((()=>{void 0!==this._reviewApi.getReview(s)?s?this._reviewApi.getAllBaseUris().then((S=>{let T,E=`${S.send_api.replace("/api/","/invitation/")+encodeURIComponent(s)}/asset/asset-0`;switch(!0){case y<=30:T="/icon";break;case y<=120:T="/thumbnail";break;case y<=500:T="/tile";break;default:T="/preview"}E+=T,_&&(E+=`?page=${_}`),d(E)}),S):S(new Error("Invalid Bootstrap data")):S(new Error("Review does not exist"))}),S)})).catch(S)}))}_getCachedRedirectURL(s,d){const{assetUri:_,pageNum:y,renditionUrl:S,fetchOptions:T}=s;return new Promise(((s,E)=>{const{pageNum:M,cachedAssetUri:O}=this._cachedRedirectUrl;let{redirectUrl:q}=this._cachedRedirectUrl;const ee="cachedAssetUri"in this._cachedRedirectUrl,te=S.includes("/preview");ee&&O===_&&te&&!d?(M===y&&s(q),q=q.includes("page=")?q.replace(/page=\d+/g,"page="+(y-1)):`${q}&page=${y-1}`,s(q)):RenditionAPI._fetchWithCredentials(S,T).then((d=>{let S;if(d&&200===d.status&&d.content){S=JSON.parse(d.content).url,te&&(this._cachedRedirectUrl={cachedAssetUri:_,redirectUrl:S,pageNum:y}),s(S)}S||E(new Error("Redirect url could not be obtained"))})).catch((s=>E(s)))}))}_getRenditionsUsingCachedRedirectURL(s){let d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise(((y,S)=>{this._getCachedRedirectURL(s,d).then((d=>{y(this._getRenditionsUsingRedirectURL(d,s,_))})).catch((s=>{S(s)}))}))}_getRenditionsUsingRedirectURL(s,d){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{assetUri:y,pageNum:S,size:T,renditionUrl:E,pageRenditionPromise:M}=d;let O={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return O=this._reviewGetRenditionAuthHeader(O),O.headers||(O.headers={}),new Promise(((q,ee)=>{M?M.then((s=>{const d={params:{pageImgBuffer:s.buffer,mimeType:s.mimeType,pageNum:S}};this._cachePageRendition(y,S,{dcapi:{renditionUri:E,pageImgBuffer:s.buffer,mimeType:s.mimeType,size:T,page:S}}),q(d)})).catch((s=>{ee(s)})):RenditionAPI._fetchWithCredentials(s,O).then((M=>{const O={params:{pageImgBuffer:M.content,mimeType:M.headers["content-type"],pageNum:S}};this._cachePageRendition(y,S,{dcapi:{renditionUri:E,pageImgBuffer:M.content,mimeType:M.headers["content-type"],size:T,page:S}});M&&(410===M.status||401===M.status)&&_<se.H3&&this._getRenditionsUsingRedirectURL(s,d,_+1),q(O)})).catch((s=>{ee(s)}))}))}_reviewGetRendition(s,d){this._initReviewProviderIfRequired();const _=window.adobe_dc_sdk.cache.assetURLPromise&&window.adobe_dc_sdk.cache.assetURLPromise[s],y=void 0!==d.pageNum?d.pageNum:1,S=d.size||"1200",T=`${s}-${y}-${S}`,E=d.pageRenditionPromise;return this._assetPageRenditionPromises[T]||(this._assetPageRenditionPromises[T]=new Promise(((M,O)=>{if(_){const q={assetUri:s,pageNum:y,size:S,pageRenditionPromise:E};_.then((s=>{let d=s.url;d.includes("page=")&&(d=d.replace(/page=\d+/g,"page="+(y-1))),this._getRenditionsUsingRedirectURL(d,q).then((s=>M(s))).catch((s=>{delete this._assetPageRenditionPromises[T],delete window.adobe_dc_sdk.cache.assetURLPromise,O(s)}))})).catch((()=>(delete this._assetPageRenditionPromises[T],delete window.adobe_dc_sdk.cache.assetURLPromise,this._reviewGetRendition(s,d))))}else this._getReviewRenditionURL(s,d).then((d=>{let _={withCredentials:this.options.fetchWithCredentials};_=this._reviewGetRenditionAuthHeader(_),_.headers||(_.headers={}),Object.assign(_.headers,{ACCEPT:"application/vnd.adobe.skybox+json;version=1","x-api-client-id":"api_browser"});const E=`${s}-${y}`;if(this._assetPageRenditions[E]&&this._assetPageRenditions[E].dcapi&&this._assetPageRenditions[E].dcapi.pageImgBuffer&&this._assetPageRenditions[E].dcapi.renditionUri===d&&this._assetPageRenditions[E].dcapi.size===S&&this._assetPageRenditions[E].dcapi.page===y){const s={params:{pageImgBuffer:this._assetPageRenditions[E].dcapi.pageImgBuffer,mimeType:this._assetPageRenditions[E].dcapi.mimeType,pageNum:this._assetPageRenditions[E].dcapi.page}};return void M(s)}const q={assetUri:s,pageNum:y,size:S,renditionUrl:d,fetchOptions:_};this._getRenditionsUsingCachedRedirectURL(q).then((s=>M(s))).catch((s=>{delete this._assetPageRenditionPromises[T],O(s)}))})).catch((()=>{delete this._assetPageRenditionPromises[T],O(new Error("Review Rendition url could not be created"))}))}))),this._assetPageRenditionPromises[T]}_dcapiGetDownloadUri(s,_){if(RenditionAPI._isReviewAsset(_)||RenditionAPI._isParcelAsset(_))return this._reviewGetDownloadUri(s,_);if(RenditionAPI._isSignAsset(_))return Promise.resolve(s);if(!this.options.useDCAPI)return Promise.resolve(s);const y={resource_parameter:this._dcapiGetAssetUri(s),accept:"asset_uri_download_v1.json",headers:{"x-request-id":d().v4()}};return new Promise(((d,_)=>{this.dcapiPromise.then((()=>(recordNow(se.$l.PDF_DOWNLOAD_URI_START),this._dcapi.call("assets.download_uri",{...y,uri_parameters:{make_direct_storage_uri:!0}}).then((async _=>{var y;this._setDownloadUrlType(se.$j.S3),recordNow(se.$l.PDF_DOWNLOAD_URI_END);const S=null==_||null===(y=_.headers)||void 0===y?void 0:y.etag;await ProviderUtil(s,S),d(_.content.uri)})).catch((()=>this._dcapi.call("assets.download_uri",y).then((s=>{this._setDownloadUrlType(se.$j.DCAPI),recordNow(se.$l.PDF_DOWNLOAD_URI_END),d(s.content.uri)})).catch((s=>{this._setDownloadUrlType(se.$j.NONE),_(s)})))))))}))}_dcapiGetUserDownloadUri(s,_){return RenditionAPI._isReviewAsset(_)||RenditionAPI._isParcelAsset(_)?this._reviewGetDownloadUri(s,_):this.options.useDCAPI?this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&this._assetRenditions[s].dcapi.userDownloadUri?Promise.resolve(this._assetRenditions[s].dcapi.userDownloadUri):this.dcapiPromise.then((()=>this._dcapi.call("assets.download_uri",{resource_parameter:this._dcapiGetAssetUri(s),accept:"asset_uri_download_v1.json",headers:{"x-request-id":d().v4()}}).then((d=>(this._cacheRendition(s,{dcapi:{userDownloadUri:d.content.uri}}),d.content.uri)),(s=>Promise.reject(s))))):Promise.resolve(s)}_dcapiSetLastPageNum(s,d){return RenditionAPI._isReviewAsset(d)||RenditionAPI._isParcelAsset(d)?Promise.reject(new Error("Cannot set last page number on a review/parcel asset")):this.dcapiPromise.then((()=>this._dcapi.call("assets.put_metadata_field",{resource_parameter:this._dcapiGetAssetUri(s),content_type:"asset_metadata_field_v1.json",content:{last_pagenum:d.lastPageNum-1},uri_parameters:{fields:"last_pagenum"}})))}_dcapiSetLastAccess(s,d){return RenditionAPI._isReviewAsset(d)||RenditionAPI._isParcelAsset(d)?Promise.reject(new Error("Cannot set last access on a review/parcel asset")):this.dcapiPromise.then((()=>this._dcapi.call("assets.put_metadata_field",{resource_parameter:this._dcapiGetAssetUri(s),content_type:"asset_metadata_field_v1.json",content:{last_access:""},uri_parameters:{fields:"last_access"}})))}static _fetchWithCredentials(s,d){let _,y;const S=d||{};y=S.timeout,y>=0||(y=E().http.timeout);const T=new Promise(((d,T)=>{try{_=new XMLHttpRequest,_.open("GET",s,!0),y>=0&&(_.timeout=y),S.responseType&&(_.responseType=S.responseType),S.headers&&Object.entries(S.headers).some((s=>{let[d,y]=s;return _.setRequestHeader(d,y)})),S.withCredentials&&(_.withCredentials=S.withCredentials),_.onreadystatechange=()=>{if(S.response_content_open){if(!_.readyState||_.readyState<2)return}else if(4!==_.readyState)return;let s;try{if(s={status:_.status,statusText:_.statusText||_.status,headers:E().http.parseHeaders(_.getAllResponseHeaders()),content:void 0},S.response_content_open||(_.responseType&&"text"!==_.responseType?s.content=_.response:s.content=_.responseText),!(_.status>0&&_.status<400))throw 0!==_.status||s.statusText||(s.statusText="Timeout or network error"),new(E().AdobeError)(s.statusText,s.status,s);d(s)}catch(d){!d||d instanceof Error?T(d):T(new(E().AdobeError)(d.stack||d,s.status,s))}},S.request_content_open||_.send(undefined)}catch(d){T(new(E().AdobeError)(d.stack||d,0,{method:"GET",url:s,options:S}))}}));return(S.request_content_open||S.response_content_open)&&(T.request=_),T}_dcapiGetContentBuffer(s,d,_){if(!this._assetRenditions[s]||!this._assetRenditions[s].dcapi||!this._assetRenditions[s].dcapi.contentBuffer){const y={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return!RenditionAPI._isSignAsset(_)&&!this._isS3DownloadUrl&&this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(y.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),RenditionAPI._fetchWithCredentials(d,y).then((d=>{const _=d.content;return this._cacheRendition(s,{ajs:{contentBuffer:_,contentFormat:d.headers["x-content-format"]},dcapi:{contentBuffer:_,contentFormat:d.headers["x-content-format"]}}),_}))}return Promise.resolve(this._assetRenditions[s].dcapi.contentBuffer)}_dcapiGetUserContentBuffer(s,d){if(!this._assetRenditions[s]||!this._assetRenditions[s].dcapi||!this._assetRenditions[s].dcapi.userContentBuffer){const _={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(_.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),RenditionAPI._fetchWithCredentials(d,_).then((d=>{const _=d.content;return this._cacheRendition(s,{ajs:{userContentBuffer:_},dcapi:{userContentBuffer:_}}),_}))}return Promise.resolve(this._assetRenditions[s].dcapi.userContentBuffer)}_pdfnowGetMetadata(s,d){let _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this._assetRenditions[s]&&this._assetRenditions[s].pdfnow&&this._assetRenditions[s].pdfnow.contentData&&!0!==d.forceCacheless?Promise.resolve(this._assetRenditions[s].pdfnow.contentData):(this._pdfnowInitPromise()&&this._pdfnowInit(),new Promise(((y,S)=>{this.pdfnowApiPromise.then((()=>{this._pdfnowDcapi.call("assets.get_metadata",{accept:"asset_metadata_basic_v1.json",resource_parameter:s}).then((T=>{const E=T.content;E.assetMimeType=T.content_type,E.last_pagenum=T.content.last_pagenum||0;let M,O=T.content.page_count;return void 0===O&&(_===se._U?O=1:M=this._pdfnowGetMetadata(s,d,_+1)),M||(E.numPages=O,this._cacheRendition(s,{pdfnow:{contentData:(0,ce.Xh)(E)}}),M=Promise.resolve(this._assetRenditions[s].pdfnow.contentData)),M.then(y).catch(S)})).catch(S)})).catch(S)})))}_pdfnowGetRendition(s,d){const _=d.size||"3200",y=d.format||"png",S=void 0!==d.pageNum?d.pageNum:1,T=`${s}-${S}`;if(!0===d.forceCacheless||!this._assetPageRenditions[T]||!this._assetPageRenditions[T].pdfnow||!this._assetPageRenditions[T].pdfnow.pageImgBuffer||this._assetPageRenditions[T].pdfnow.format!==y||this._assetPageRenditions[T].pdfnow.size!==_||this._assetPageRenditions[T].pdfnow.page!==S)return this._pdfnowInitPromise()&&this._pdfnowInit(),new Promise(((d,T)=>{this.pdfnowApiPromise.then((()=>{this._pdfnowDcapi.call("assets.rendition_direct",{accept:"image/*",resource_parameter:s,responseType:"arraybuffer",uri_parameters:{format:y,page:S-1,size:_}}).then((T=>{const E={params:{pageImgBuffer:T.content,mimeType:T.headers["content-type"],pageNum:S}};this._cachePageRendition(s,S,{pdfnow:{pageImgBuffer:T.content,mimeType:T.headers["content-type"],size:_,page:S,format:y}}),d(E)})).catch(T)})).catch(T)}));const E=this._assetPageRenditions[T].pdfnow,M={params:{pageImgBuffer:E.pageImgBuffer,mimeType:E.mimeType,pageNum:E.page}};return Promise.resolve(M)}_ajsGetContentData(s,d,_){(0,te.Kz)("ajsGetContentData Called",{size:d?d.byteLength:-1});const y=Object.assign({buffer:d,documentId:this._documentId,securityHandler:_.fetchPasswordCallback?new oe.Z({fetchPasswordCallback:_.fetchPasswordCallback}):void 0},_);return this._getAjs().then((()=>this.ajsHandler.callAsync(s,"openPDF",y).then((s=>Object.assign({},s.data,{buffer:d,acrobatJSVersion:O,openPDFWasmTime:Math.round(s.timeTaken),openPDFQueueWaitTime:Math.round(s.queueWaitTime),openPDFTotalTime:Math.round(s.totalTime),openPDFMainToWorkerTime:Math.round(s.mainToWorkerTime),openPDFWorkerToMainTime:Math.round(s.workerToMainTime),enableWasmExceptions:s.enableWasmExceptions})))))}async _ajsGetCNPDFContentData(s,d){const _=await this._external.apis.file.getCNPDFFetcher(),y=await _.getManifest(),S=Object.assign({manifest:y,cnpdfFetcher:_},d);return this._getAjs().then((()=>this.ajsHandler.callAsync(s,"openCNPDF",S).then((s=>Object.assign({},s.data,{enableCNPDF:!0,acrobatJSVersion:O,openPDFWasmTime:Math.round(s.timeTaken),openPDFQueueWaitTime:Math.round(s.queueWaitTime),openPDFTotalTime:Math.round(s.totalTime),openPDFMainToWorkerTime:Math.round(s.mainToWorkerTime),openPDFWorkerToMainTime:Math.round(s.workerToMainTime),enableWasmExceptions:s.enableWasmExceptions})))))}_ajsGetLinearizedContentData(s,d){const _={password:d.password,fetchPdfSizeCallback:()=>this._fetchPDFSize(s,d),fetchPdfBufferRangesCallback:_=>this._fetchPDFBufferRanges(s,d,_),blockSize:d.linearizationBlockSize,documentId:this._documentId};return this._getAjs().then((()=>this.ajsHandler.callAsync(s,"openLinearizedPDF",_).then((s=>Object.assign({},s.data)))))}_ajsGetRenditionForPage(s,d){var _,y,S,T,E,O,q,ee,te;if(null!==(_=this._assetRenditions[s])&&void 0!==_&&_.ajs.renditionPromise&&null!==(y=this._assetRenditions[s])&&void 0!==y&&y.ajs.renditionZoomLevel&&null!==(S=this._assetRenditions[s])&&void 0!==S&&S.ajs.renditionPromise[d.pageNum]&&null!==(T=this._assetRenditions[s])&&void 0!==T&&T.ajs.renditionZoomLevel[d.pageNum]&&(null===(E=this._assetRenditions[s])||void 0===E?void 0:E.ajs.renditionZoomLevel[d.pageNum])===d.zoomLevel&&!d.colorPallete&&4294485246===d.showAnnots&&"page"===d.requestType)return recordNow(se.$l.CACHED_RENDITION_RETURNED),null===(q=this._assetRenditions[s])||void 0===q?void 0:q.ajs.renditionPromise[d.pageNum];null!==(O=this._assetRenditions[s])&&void 0!==O&&O.ajs.renditionZoomLevel&&this._assetRenditions[s].ajs.renditionPromise&&(null===(ee=this._assetRenditions[s])||void 0===ee||delete ee.ajs.renditionZoomLevel,null===(te=this._assetRenditions[s])||void 0===te||delete te.ajs.renditionPromise);const re=Object.assign({devicePixelRatio:1},d);let{requestType:ne}=re;const{PageRequestType:ie}=M.enums;"page"===ne?ne=ie.PAGE:"cache"===ne?ne=ie.PAGE_CACHE:"thumbnail"===ne&&(ne=ie.THUMBNAIL),re.requestType=ne;const{priority:ae,viewState:oe}=re,ce=this._getAjs().then((()=>this.ajsHandler.callAsync(s,"getPageRendition",re,oe,ae).then((s=>{const d=Object.assign({},s),{buffer:_,...y}=d.data;return d.params={pageImgBuffer:_,...y},delete d.data,d}))));return d.shouldCacheAJSRendition&&(this._assetRenditions[s].ajs.renditionPromise||(this._assetRenditions[s].ajs.renditionPromise={},this._assetRenditions[s].ajs.renditionZoomLevel={}),this._assetRenditions[s].ajs.renditionZoomLevel[d.pageNum]=d.zoomLevel,this._assetRenditions[s].ajs.renditionPromise[d.pageNum]=ce,recordNow(se.$l.CACHED_RENDITION)),ce}_downloadUserAssetContentBuffer(s,d){const _=d||{};return this._dcapiGetUserDownloadUri(s,_).then((d=>this._dcapiGetUserContentBuffer(s,d).then((s=>s))))}_ajsPerformCommand(s,d){const{commandName:_}=d;if("forceSwitchJS"===_)return this._resetReviewProvider(),this._getAjs().then((()=>this.ajsHandler.callAsync(s,"loadFullWorker")));if("resetWorker"===_)return this._assetRenditions[s]&&this._assetRenditions[s].ajs&&delete this._assetRenditions[s].ajs,this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&(delete this._assetRenditions[s].dcapi.contentData,delete this._assetRenditions[s].dcapi.contentBuffer,delete this._assetRenditions[s].dcapi.contentFormat),this._assetRenditions[s]&&this._assetRenditions[s].external&&(delete this._assetRenditions[s].external.contentBuffer,delete this._assetRenditions[s].external.metadata),this.closeRendition(s,{...d,cancelPromises:!0}),this._resetReviewProvider(),this._getAjs().then((()=>this.ajsHandler.close(s)));if("translateToLiquidModeView"===_)return this._getAjs().then((()=>this.ajsHandler.callAsync(s,"translateToLiquidModeView",{fetchCNFTPDFUpdatesCallback:AdobeSenseiPredictClient})));if("verifyDigitalSignatures"===_){const{externalCertificateValidator:_}=d,y=(s=>{const d=[];return"function"==typeof s&&d.push(new le(s)),ue.isAvailable()&&d.push(new ue),d})(_);return this._getAjs().then((()=>this.ajsHandler.callAsync(s,"verifyDigitalSignatures",{certificateChainValidators:y})))}if("remapAJSCache"===_){const{oldAssetUri:s,newAssetUri:_}=d,y=this._assetRenditionsIndex.indexOf(s);return this._assetRenditions[s]&&this._assetRenditions[s].ajs&&(this._assetRenditions[_]=this._assetRenditions[_]||{},this._assetRenditions[_].ajs=this._assetRenditions[s].ajs,this._assetRenditionsIndex.splice(y,1),this._assetRenditionsIndex.includes(_)||this._assetRenditionsIndex.push(_)),this._completePDFBufferAvailablePromiseMap[s]&&(this._completePDFBufferAvailablePromiseMap[_]=this._completePDFBufferAvailablePromiseMap[s],delete this._completePDFBufferAvailablePromiseMap[s]),this._waitOnCompletePDFBufferMap[s]&&(this._waitOnCompletePDFBufferMap[_]=this._waitOnCompletePDFBufferMap[s],delete this._waitOnCompletePDFBufferMap[s]),this._getAjs().then((()=>this.ajsHandler.remapAssetUri(s,_))),Promise.resolve()}const{priority:y,viewState:S,...T}=d;return this._getAjs().then((()=>this.ajsHandler.callAsync(s,_,T,S,y)))}_dcapiPerformCommand(s,d){return this.dcapiPromise.then((()=>new Promise(((_,y)=>{"setLastPageNum"===d.commandName?this._dcapiSetLastPageNum(s,d).then(_).catch(y):"setLastAccess"===d.commandName?this._dcapiSetLastAccess(s,d).then(_).catch(y):"getContentBuffer"===d.commandName?this.downloadAssetContentBuffer(s,d).then(_).catch(y):"getUserContentBuffer"===d.commandName?this._downloadUserAssetContentBuffer(s,d).then(_).catch(y):y()}))))}_externalPerformCommand(s,d){return new Promise(((_,y)=>{"setLastPageNum"===d.commandName?_():"getContentBuffer"===d.commandName?this.downloadAssetContentBuffer(s,d).then(_).catch(y):"setLastAccess"===d.commandName||"getUserContentBuffer"===d.commandName?_():y()}))}ready(){return Promise.resolve(this)}canPerformSync(s){return{canPerformSync:this._getAjs().then((()=>this.ajsHandler.isInstanceCached(s))),ready:this._getAjs().then((()=>this.ajsHandler.activateInstanceIfInactive(s)))}}performCommandSynchronously(s,d){const{priority:_,viewState:y,...S}=d;this._getAjs().then((()=>this.ajsHandler.callSync(s,d.commandName,S,y,_)))}performCommand(s,d){const _={},y=d||{};return y.useDCAPI=!1!==y.useDCAPI&&this.options.useDCAPI,y.useAJS=!1!==y.useAJS&&this.options.useAJS,y.enableExternal=!1!==y.enableExternal&&this.options.enableExternal,y.useAJS?_.ajs=this._ajsPerformCommand(s,y):_.ajs=Promise.reject(new Error("Cannot perform AJS command if AJS is disabled")),y.useDCAPI?_.dcapi=this._dcapiPerformCommand(s,y):_.dcapi=Promise.reject(new Error("Cannot perform DCAPI command if DCAPI is disabled")),y.enableExternal&&RenditionAPI._isExternalAsset(y)&&(_.external=this._externalPerformCommand(s,y)),_}isCompletePDFBufferAvailable(s){return this._completePDFBufferAvailablePromiseMap[s].promise}getMetadata(s,d){const _={},y=d||{};return y.useDCAPI=!1!==y.useDCAPI&&this.options.useDCAPI,y.useAJS=!1!==y.useAJS&&this.options.useAJS,y.enableExternal=!1!==y.enableExternal&&this.options.enableExternal,this.options.shouldUseModernViewer=y.shouldUseModernViewer,y.useDCAPI?_.dcapi=this._dcapiGetMetadata(s,y):_.dcapi=Promise.reject(new Error("Cannot get DCAPI metadata if DCAPI is disabled")),y.enableExternal&&RenditionAPI._isExternalAsset(y)&&(_.external=this._externalGetMetadata(s,y)),y.useAJS?(this._completePDFBufferAvailablePromiseMap[s]||(this._completePDFBufferAvailablePromiseMap[s]={},this._completePDFBufferAvailablePromiseMap[s].promise=new Promise((d=>{this._completePDFBufferAvailablePromiseMap[s].resolve=d}))),_.ajs=this._ajsGetMetadata(s,y)):_.ajs=Promise.reject(new Error("Cannot get AJS metadata if AJS is disabled")),this._waitOnCompletePDFBufferMap[s]||(this._waitOnCompletePDFBufferMap[s]={},this._waitOnCompletePDFBufferMap[s].promise=new Promise((d=>{this._waitOnCompletePDFBufferMap[s].resolve=d}))),_}_ajsRegisterLicense(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const d={token:s.licenseString,domain:s.domain};return this._getAjs().then((()=>this.ajsHandler.registerLicense(d)))}registerLicense(s){const d={},_=s||{};return _.useDCAPI=!1!==_.useDCAPI&&this.options.useDCAPI,_.useAJS=!1!==_.useAJS&&this.options.useAJS,d.dcapi=Promise.reject(new Error("DCAPI doesn't support sdk license validation")),_.useAJS?d.ajs=this._ajsRegisterLicense(_):d.ajs=Promise.reject(new Error("Cannot register license if AJS is disabled")),d}getRendition(s,d){const _={},y=d||{};return y.useDCAPI=!1!==y.useDCAPI&&this.options.useDCAPI,y.useAJS=!1!==y.useAJS&&this.options.useAJS,y.enableExternal=!1!==y.enableExternal&&this.options.enableExternal,y.useDCAPI?_.dcapi=this._dcapiGetRendition(s,y):_.dcapi=Promise.reject(new Error("Cannot get DCAPI rendition if DCAPI is disabled")),y.enableExternal&&RenditionAPI._isExternalAsset(y)&&(_.external=this._externalGetRendition(s,y)),y.useAJS?_.ajs=this._ajsGetRenditionForPage(s,y):_.ajs=Promise.reject(new Error("Cannot get AJS rendition if AJS is disabled")),_}getDocumentRenditionUri(s,d){const _={},y=d||{};return y.useDCAPI=!1!==y.useDCAPI&&this.options.useDCAPI,y.useAJS=!1!==y.useAJS&&this.options.useAJS,y.useDCAPI?_.dcapi=this._dcapiGetDocumentRenditionUri(s,y):_.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition URI if DCAPI is disabled")),_.ajs=Promise.reject(new Error("Cannot get AJS doc rendition URI")),_}getDocumentRendition(s,d){const _={},y=d||{};return y.useDCAPI=!1!==y.useDCAPI&&this.options.useDCAPI,y.useAJS=!1!==y.useAJS&&this.options.useAJS,y.useDCAPI?_.dcapi=this._dcapiGetDocumentRendition(s,y):_.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition if DCAPI is disabled")),_.ajs=Promise.reject(new Error("Cannot get AJS doc rendition")),_}getDocumentRenditionStatus(s,d){const _={},y=d||{};return y.useDCAPI=!1!==y.useDCAPI&&this.options.useDCAPI,y.useAJS=!1!==y.useAJS&&this.options.useAJS,y.useDCAPI?_.dcapi=this._dcapiGetDocumentRenditionStatus(s):_.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition status if DCAPI is disabled")),_.ajs=Promise.reject(new Error("Cannot get DCAPI doc rendition status")),_}downloadAssetContentBuffer(s,d){return d&&RenditionAPI._isExternalAsset(d)?this._externalGetDownloadUri(s,d).then((d=>this._externalGetContentBuffer(s,d).then((s=>s)))):this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&this._assetRenditions[s].dcapi.contentBuffer?Promise.resolve(this._assetRenditions[s].dcapi.contentBuffer):this._dcapiGetDownloadUri(s,d).then((_=>this._dcapiGetContentBuffer(s,_,d).then((s=>s))))}updateDefaultAJSInstance(s){this.ajsHandler.updateDefaultAJSInstance(s)}clearRenditionCache(s,d){const _=d||{},y=`${s}`;return _.useDCAPI=!1!==_.useDCAPI&&this.options.useDCAPI,_.useAJS=!1!==_.useAJS&&this.options.useAJS,_.enableExternal=!1!==_.enableExternal&&this.options.enableExternal,_.useAJS&&this._assetRenditions[s]&&this._assetRenditions[s].ajs&&delete this._assetRenditions[s].ajs,_.useDCAPI&&this._assetRenditions[s]&&this._assetRenditions[s].dcapi&&delete this._assetRenditions[s].dcapi,_.enableExternal&&this._assetRenditions[s]&&this._assetRenditions[s].external&&delete this._assetRenditions[s].external,this._getAssetFileInfoPromise[y]&&delete this._getAssetFileInfoPromise[y],window.adobe_dc_sdk.cache&&window.adobe_dc_sdk.cache.assetURLPromise&&delete window.adobe_dc_sdk.cache.assetURLPromise,Promise.resolve()}closeRendition(s,d){const _={dcapi:Promise.resolve(),ajs:Promise.resolve()},y=d||{},S=`${s}`;if(y.useDCAPI=!1!==y.useDCAPI&&this.options.useDCAPI,this._assetRenditions[s]&&y.clearCache&&(delete this._assetRenditions[s],this._assetRenditionsIndex=this._assetRenditionsIndex.filter((d=>d!==s))),y.clearCache){this._assetPageRenditions=Object.entries(this._assetPageRenditions).reduce(((d,_)=>{let[y,S]=_;return y.startsWith(s)||(d[y]=S),d}),{}),this._assetPageRenditionsIndex=Object.keys(this._assetPageRenditions);const d=Object.entries(this._assetPageRenditionPromises);this._assetPageRenditionPromises=d.reduce(((d,_)=>{let[y,S]=_;return y.startsWith(s)||(d[y]=S),d}),{})}this._getAssetFileInfoPromise[S]&&delete this._getAssetFileInfoPromise[S],window.adobe_dc_sdk.cache&&window.adobe_dc_sdk.cache.assetURLPromise&&delete window.adobe_dc_sdk.cache.assetURLPromise,y.useDCAPI&&void 0!==y.lastPageNum&&(_.dcapi=this._dcapiSetLastPageNum(s,y)),y.cancelPromises&&(re.forEach((s=>{s.cancel()})),re=[])}getOwnScriptSrc(){return ie.ZQ(se.Xy)}getAJSWorker(){}shouldWaitOnCompletePDFBuffer(s){return this._waitOnCompletePDFBufferMap[s].promise}}const me={rendition:{load:function renditionLoad(){return Promise.resolve(RenditionAPI)}},"font-provider":{load:function loadFontProvider(s){return __webpack_require__.p=s,__webpack_require__.e(611).then(__webpack_require__.bind(__webpack_require__,"gT5w")).then((s=>s.default))}},acrobatjs:{load:function loadAJSProvider(s){return __webpack_require__.p=s,__webpack_require__.e(90).then(__webpack_require__.bind(__webpack_require__,"gTnC")).then((s=>s.default))}}};RenditionAPI.getInstance=(0,ee.getSingletonFunction)(RenditionAPI,!0),q.providers.rendition=RenditionAPI.getInstance})(),((window.adobe_dc_sdk=window.adobe_dc_sdk||{}).components=window.adobe_dc_sdk.components||{}).rendition=S})();
//# sourceMappingURL=private/rendition.js.map